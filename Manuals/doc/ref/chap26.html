<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title>GAP (ref) - Chapter 26: Vector and Matrix Objects</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="generator" content="GAPDoc2HTML" />
<link rel="stylesheet" type="text/css" href="manual.css" />
<script src="manual.js" type="text/javascript"></script>
<script type="text/javascript">overwriteStyle();</script>
</head>
<body class="chap26"  onload="jscontent()">


<div class="chlinktop"><span class="chlink1">Goto Chapter: </span><a href="chap0.html">Top</a>  <a href="chap1.html">1</a>  <a href="chap2.html">2</a>  <a href="chap3.html">3</a>  <a href="chap4.html">4</a>  <a href="chap5.html">5</a>  <a href="chap6.html">6</a>  <a href="chap7.html">7</a>  <a href="chap8.html">8</a>  <a href="chap9.html">9</a>  <a href="chap10.html">10</a>  <a href="chap11.html">11</a>  <a href="chap12.html">12</a>  <a href="chap13.html">13</a>  <a href="chap14.html">14</a>  <a href="chap15.html">15</a>  <a href="chap16.html">16</a>  <a href="chap17.html">17</a>  <a href="chap18.html">18</a>  <a href="chap19.html">19</a>  <a href="chap20.html">20</a>  <a href="chap21.html">21</a>  <a href="chap22.html">22</a>  <a href="chap23.html">23</a>  <a href="chap24.html">24</a>  <a href="chap25.html">25</a>  <a href="chap26.html">26</a>  <a href="chap27.html">27</a>  <a href="chap28.html">28</a>  <a href="chap29.html">29</a>  <a href="chap30.html">30</a>  <a href="chap31.html">31</a>  <a href="chap32.html">32</a>  <a href="chap33.html">33</a>  <a href="chap34.html">34</a>  <a href="chap35.html">35</a>  <a href="chap36.html">36</a>  <a href="chap37.html">37</a>  <a href="chap38.html">38</a>  <a href="chap39.html">39</a>  <a href="chap40.html">40</a>  <a href="chap41.html">41</a>  <a href="chap42.html">42</a>  <a href="chap43.html">43</a>  <a href="chap44.html">44</a>  <a href="chap45.html">45</a>  <a href="chap46.html">46</a>  <a href="chap47.html">47</a>  <a href="chap48.html">48</a>  <a href="chap49.html">49</a>  <a href="chap50.html">50</a>  <a href="chap51.html">51</a>  <a href="chap52.html">52</a>  <a href="chap53.html">53</a>  <a href="chap54.html">54</a>  <a href="chap55.html">55</a>  <a href="chap56.html">56</a>  <a href="chap57.html">57</a>  <a href="chap58.html">58</a>  <a href="chap59.html">59</a>  <a href="chap60.html">60</a>  <a href="chap61.html">61</a>  <a href="chap62.html">62</a>  <a href="chap63.html">63</a>  <a href="chap64.html">64</a>  <a href="chap65.html">65</a>  <a href="chap66.html">66</a>  <a href="chap67.html">67</a>  <a href="chap68.html">68</a>  <a href="chap69.html">69</a>  <a href="chap70.html">70</a>  <a href="chap71.html">71</a>  <a href="chap72.html">72</a>  <a href="chap73.html">73</a>  <a href="chap74.html">74</a>  <a href="chap75.html">75</a>  <a href="chap76.html">76</a>  <a href="chap77.html">77</a>  <a href="chap78.html">78</a>  <a href="chap79.html">79</a>  <a href="chap80.html">80</a>  <a href="chap81.html">81</a>  <a href="chap82.html">82</a>  <a href="chap83.html">83</a>  <a href="chap84.html">84</a>  <a href="chap85.html">85</a>  <a href="chap86.html">86</a>  <a href="chap87.html">87</a>  <a href="chapBib.html">Bib</a>  <a href="chapInd.html">Ind</a>  </div>

<div class="chlinkprevnexttop">&nbsp;<a href="chap0.html">[Top of Book]</a>&nbsp;  <a href="chap0.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap25.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chap27.html">[Next Chapter]</a>&nbsp;  </div>

<p id="mathjaxlink" class="pcenter"><a href="chap26_mj.html">[MathJax on]</a></p>
<p><a id="X856C23B87E50F118" name="X856C23B87E50F118"></a></p>
<div class="ChapSects"><a href="chap26.html#X856C23B87E50F118">26 <span class="Heading">Vector and Matrix Objects</span></a>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap26.html#X81975083855CA9A1">26.1 <span class="Heading">Fundamental Ideas and Rules</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap26.html#X7CF9CC0082C7AFF8">26.2 <span class="Heading">Categories of Vectors and Matrices</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap26.html#X7BD7D2837BFDE649">26.3 <span class="Heading">Constructing Vector and Matrix Objects</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap26.html#X7BE9D278852C13BC">26.4 <span class="Heading">Operations for Vector Objects</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap26.html#X78770C0786B34B06">26.4-1 PositionNonZero</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap26.html#X8370979D7F451279">26.4-2 PositionLastNonZero</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap26.html#X7D175D467BDE1F17">26.4-3 ListOp</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap26.html#X86B5B08079CFA8E8">26.4-4 Unpack</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap26.html#X827BDFCA7E67F479">26.4-5 ConcatenationOfVectors</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap26.html#X7B9B66B37DD46D81">26.4-6 ExtractSubVector</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap26.html#X7F45D5C57C8EDDF3">26.4-7 ZeroVector</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap26.html#X8253FF0C7E5329C6">26.4-8 ConstructingFilter</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap26.html#X83DD8B39864A2C94">26.4-9 <span class="Heading">Randomize</span></a>
</span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap26.html#X7E0158697A7C6D17">26.4-10 WeightOfVector</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap26.html#X837216A77EBEA0B3">26.4-11 DistanceOfVectors</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap26.html#X7D40EE2084A6C976">26.5 <span class="Heading">Operations for Row List Matrix Objects</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap26.html#X7C03C92985B58F58">26.6 <span class="Heading">Operations for Flat Matrix Objects</span></a>
</span>
</div>
</div>

<h3>26 <span class="Heading">Vector and Matrix Objects</span></h3>

<p>This chapter is work in progress. It will eventually describe the new interface to vector and matrix objects.</p>

<p>Traditionally, vectors in <strong class="pkg">GAP</strong> have been lists and matrices have been lists of lists (of equal length). Unfortunately, such lists cannot store their type and so it is impossible to use the full advantages of <strong class="pkg">GAP</strong>'s method selection on them. This situation is unsustainable in the long run since more special representations (compressed, sparse, etc.) have already been and even more will be implemented. To eventually solve this problem, this chapter describes a new programming interface to vectors and matrices.</p>

<p><a id="X81975083855CA9A1" name="X81975083855CA9A1"></a></p>

<h4>26.1 <span class="Heading">Fundamental Ideas and Rules</span></h4>

<p>The whole idea of this interface is that vectors and matrices must be proper objects with a stored type (i.e. created by Objectify allowing inheritance) to benefit from method selection. We therefore refer to the new style vectors and matrices as "vector objects" and "matrix objects" respectively.</p>

<p>It should be possible to write (efficient) code that is independent of the actual representation (in the sense of <strong class="pkg">GAP</strong>'s representation filters) and preserves it.</p>

<p>This latter requirement makes it necessary to distinguish between (at least) two classes of matrices:</p>


<ul>
<li><p>"RowList"-Matrices which behave basically like lists of rows, in particular are the rows individual <strong class="pkg">GAP</strong> objects that can be shared between different matrix objects.</p>

</li>
<li><p>"Flat" matrices which behave basically like one <strong class="pkg">GAP</strong> object that cannot be split up further. In particular a row is only a part of a matrix and no GAP object in itself.</p>

</li>
</ul>
<p>For various reasons these two classes have to be distinguished already with respect to the definition of the operations for them.</p>

<p>In particular vectors and matrices know their BaseDomain and their dimensions. Note that the basic condition is that the elements of vectors and matrices must either lie in the BaseDomain or naturally embed in the sense that + and * and = automatically work with all elements of the base domain (example: integers in polynomials over integers).</p>

<p>Vectors are equal with respect to "=" if they have the same length and the same entries. It is not necessary that they have the same BaseDomain. Matrices are equal with respect to "=" if they have the same dimensions and the same entries. It is possible that not for all pairs of representations methods exist.</p>

<p>It is not guaranteed that all rows of a matrix have the same vector type! It is for example thinkable that a matrix stores some of its rows in a sparse representation and some in a dense one! However, it is guaranteed that the rows of matrices in the same representation are compatible in the sense that all vector operations defined in this interface can be applied to them and that new matrices in the same representation as the original matrix can be formed out of them.</p>

<p>Note that there is neither a default mapping from the set of matrix representations to the set of vector representations nor one in the reverse direction! There is nothing like an "associated" vector representation to a matrix representation or vice versa.</p>

<p>The way to write code that preserves the representation basically works by using constructing operations that take template objects to decide about the actual representation of the new object.</p>

<p>Vectors do not have to be lists in the sense that they do not have to support all list operations. The same holds for matrices. However, RowList matrices behave nearly like lists of row vectors that insist on being dense and containing only vectors of the same length and with the same BaseDomain.</p>

<p>There are some rules embedded in the comments to the following code. They are marked with the word "Rule". FIXME: Collect all rules here.</p>

<p><a id="X7CF9CC0082C7AFF8" name="X7CF9CC0082C7AFF8"></a></p>

<h4>26.2 <span class="Heading">Categories of Vectors and Matrices</span></h4>

<p><a id="X7BD7D2837BFDE649" name="X7BD7D2837BFDE649"></a></p>

<h4>26.3 <span class="Heading">Constructing Vector and Matrix Objects</span></h4>

<p><a id="X7BE9D278852C13BC" name="X7BE9D278852C13BC"></a></p>

<h4>26.4 <span class="Heading">Operations for Vector Objects</span></h4>

<p><a id="X78770C0786B34B06" name="X78770C0786B34B06"></a></p>

<h5>26.4-1 PositionNonZero</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; PositionNonZero</code>( <var class="Arg">V</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: An integer</p>

<p>Returns the index of the first entry in the vector <var class="Arg">V</var> which is not zero. If all entries are zero, the function returns <code class="code">Length(<var class="Arg">V</var>) + 1</code>.</p>

<p><a id="X8370979D7F451279" name="X8370979D7F451279"></a></p>

<h5>26.4-2 PositionLastNonZero</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; PositionLastNonZero</code>( <var class="Arg">V</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: An integer</p>

<p>Returns the index of the last entry in the vector <var class="Arg">V</var> which is not zero. If all entries are zero, the function returns 0.</p>

<p><a id="X7D175D467BDE1F17" name="X7D175D467BDE1F17"></a></p>

<h5>26.4-3 ListOp</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ListOp</code>( <var class="Arg">V</var>[, <var class="Arg">func</var>] )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: A plain list</p>

<p>Applies <var class="Arg">func</var> to each entry of the vector <var class="Arg">V</var> and returns the results as a plain list. This allows for calling <code class="func">List</code> (<a href="chap30.html#X7F12F40E87F3C3A7"><span class="RefLink">30.3-5</span></a>) on vectors. If the argument <var class="Arg">func</var> is not provided, applies <code class="func">IdFunc</code> (<a href="chap5.html#X810325697BDEF899"><span class="RefLink">5.4-6</span></a>) to all entries.</p>

<p><a id="X86B5B08079CFA8E8" name="X86B5B08079CFA8E8"></a></p>

<h5>26.4-4 Unpack</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; Unpack</code>( <var class="Arg">V</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: A plain list</p>

<p>Returns a new plain list containing the entries of <var class="Arg">V</var>. Guarantees to return a new list which can be manipulated without changing <var class="Arg">V</var>. The entries itself are not copied.</p>

<p><a id="X827BDFCA7E67F479" name="X827BDFCA7E67F479"></a></p>

<h5>26.4-5 ConcatenationOfVectors</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ConcatenationOfVectors</code>( <var class="Arg">V1</var>, <var class="Arg">V2</var>, <var class="Arg">...</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ConcatenationOfVectors</code>( <var class="Arg">Vlist</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>Returns: a vector object</p>

<p>Returns a new vector containing the entries of <var class="Arg">V1</var>, <var class="Arg">V2</var>, etc. As prototype <var class="Arg">V1</var> is used.</p>

<p><a id="X7B9B66B37DD46D81" name="X7B9B66B37DD46D81"></a></p>

<h5>26.4-6 ExtractSubVector</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ExtractSubVector</code>( <var class="Arg">V</var>, <var class="Arg">l</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: a vector object</p>

<p>Returns a new vector containing the entries of <var class="Arg">V</var> at the positions in <var class="Arg">l</var>.</p>

<p><a id="X7F45D5C57C8EDDF3" name="X7F45D5C57C8EDDF3"></a></p>

<h5>26.4-7 ZeroVector</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ZeroVector</code>( <var class="Arg">l</var>, <var class="Arg">V</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: a vector object</p>

<p>Returns a new vector of length <var class="Arg">l</var> in the same representation as <var class="Arg">V</var> containing only zeros.</p>

<p><a id="X8253FF0C7E5329C6" name="X8253FF0C7E5329C6"></a></p>

<h5>26.4-8 ConstructingFilter</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ConstructingFilter</code>( <var class="Arg">V</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: a filter</p>

<p>Returns a filter <code class="code">f</code> such that if <code class="code">NewVector</code> is called with <code class="code">f</code> a vector in the same representation as <var class="Arg">V</var> is produced.</p>

<p><a id="X83DD8B39864A2C94" name="X83DD8B39864A2C94"></a></p>

<h5>26.4-9 <span class="Heading">Randomize</span></h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; Randomize</code>( [<var class="Arg">Rs</var>, ]<var class="Arg">v</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; Randomize</code>( [<var class="Arg">Rs</var>, ]<var class="Arg">m</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Replaces every entry in the mutable vector object <var class="Arg">v</var> or matrix object <var class="Arg">m</var>, respectively, with a random one from the base domain of <var class="Arg">v</var> or <var class="Arg">m</var>, respectively, and returns the argument.</p>

<p>If given, the random source <var class="Arg">Rs</var> is used to compute the random elements. Note that in this case, a <code class="func">Random</code> (<a href="chap14.html#X821004F286282D49"><span class="RefLink">14.7-2</span></a>) method must be available that takes a random source as its first argument and the base domain as its second argument.</p>

<p><a id="X7E0158697A7C6D17" name="X7E0158697A7C6D17"></a></p>

<h5>26.4-10 WeightOfVector</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; WeightOfVector</code>( <var class="Arg">V</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: an integer</p>

<p>Computes the Hamming weight of the vector <var class="Arg">V</var>, i.e., the number of nonzero entries.</p>

<p><a id="X837216A77EBEA0B3" name="X837216A77EBEA0B3"></a></p>

<h5>26.4-11 DistanceOfVectors</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; DistanceOfVectors</code>( <var class="Arg">V1</var>, <var class="Arg">V2</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: an integer</p>

<p>Computes the Hamming distance of the vectors <var class="Arg">V1</var> and <var class="Arg">V2</var>, i.e., the number of entries in which the vectors differ. The vectors must be of equal length.</p>

<p><a id="X7D40EE2084A6C976" name="X7D40EE2084A6C976"></a></p>

<h4>26.5 <span class="Heading">Operations for Row List Matrix Objects</span></h4>

<p><a id="X7C03C92985B58F58" name="X7C03C92985B58F58"></a></p>

<h4>26.6 <span class="Heading">Operations for Flat Matrix Objects</span></h4>


<div class="chlinkprevnextbot">&nbsp;<a href="chap0.html">[Top of Book]</a>&nbsp;  <a href="chap0.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap25.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chap27.html">[Next Chapter]</a>&nbsp;  </div>


<div class="chlinkbot"><span class="chlink1">Goto Chapter: </span><a href="chap0.html">Top</a>  <a href="chap1.html">1</a>  <a href="chap2.html">2</a>  <a href="chap3.html">3</a>  <a href="chap4.html">4</a>  <a href="chap5.html">5</a>  <a href="chap6.html">6</a>  <a href="chap7.html">7</a>  <a href="chap8.html">8</a>  <a href="chap9.html">9</a>  <a href="chap10.html">10</a>  <a href="chap11.html">11</a>  <a href="chap12.html">12</a>  <a href="chap13.html">13</a>  <a href="chap14.html">14</a>  <a href="chap15.html">15</a>  <a href="chap16.html">16</a>  <a href="chap17.html">17</a>  <a href="chap18.html">18</a>  <a href="chap19.html">19</a>  <a href="chap20.html">20</a>  <a href="chap21.html">21</a>  <a href="chap22.html">22</a>  <a href="chap23.html">23</a>  <a href="chap24.html">24</a>  <a href="chap25.html">25</a>  <a href="chap26.html">26</a>  <a href="chap27.html">27</a>  <a href="chap28.html">28</a>  <a href="chap29.html">29</a>  <a href="chap30.html">30</a>  <a href="chap31.html">31</a>  <a href="chap32.html">32</a>  <a href="chap33.html">33</a>  <a href="chap34.html">34</a>  <a href="chap35.html">35</a>  <a href="chap36.html">36</a>  <a href="chap37.html">37</a>  <a href="chap38.html">38</a>  <a href="chap39.html">39</a>  <a href="chap40.html">40</a>  <a href="chap41.html">41</a>  <a href="chap42.html">42</a>  <a href="chap43.html">43</a>  <a href="chap44.html">44</a>  <a href="chap45.html">45</a>  <a href="chap46.html">46</a>  <a href="chap47.html">47</a>  <a href="chap48.html">48</a>  <a href="chap49.html">49</a>  <a href="chap50.html">50</a>  <a href="chap51.html">51</a>  <a href="chap52.html">52</a>  <a href="chap53.html">53</a>  <a href="chap54.html">54</a>  <a href="chap55.html">55</a>  <a href="chap56.html">56</a>  <a href="chap57.html">57</a>  <a href="chap58.html">58</a>  <a href="chap59.html">59</a>  <a href="chap60.html">60</a>  <a href="chap61.html">61</a>  <a href="chap62.html">62</a>  <a href="chap63.html">63</a>  <a href="chap64.html">64</a>  <a href="chap65.html">65</a>  <a href="chap66.html">66</a>  <a href="chap67.html">67</a>  <a href="chap68.html">68</a>  <a href="chap69.html">69</a>  <a href="chap70.html">70</a>  <a href="chap71.html">71</a>  <a href="chap72.html">72</a>  <a href="chap73.html">73</a>  <a href="chap74.html">74</a>  <a href="chap75.html">75</a>  <a href="chap76.html">76</a>  <a href="chap77.html">77</a>  <a href="chap78.html">78</a>  <a href="chap79.html">79</a>  <a href="chap80.html">80</a>  <a href="chap81.html">81</a>  <a href="chap82.html">82</a>  <a href="chap83.html">83</a>  <a href="chap84.html">84</a>  <a href="chap85.html">85</a>  <a href="chap86.html">86</a>  <a href="chap87.html">87</a>  <a href="chapBib.html">Bib</a>  <a href="chapInd.html">Ind</a>  </div>

<hr />
<p class="foot">generated by <a href="http://www.math.rwth-aachen.de/~Frank.Luebeck/GAPDoc">GAPDoc2HTML</a></p>
</body>
</html>
