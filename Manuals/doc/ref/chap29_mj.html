<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<title>GAP (ref) - Chapter 29: Records</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="generator" content="GAPDoc2HTML" />
<link rel="stylesheet" type="text/css" href="manual.css" />
<script src="manual.js" type="text/javascript"></script>
<script type="text/javascript">overwriteStyle();</script>
</head>
<body class="chap29"  onload="jscontent()">


<div class="chlinktop"><span class="chlink1">Goto Chapter: </span><a href="chap0_mj.html">Top</a>  <a href="chap1_mj.html">1</a>  <a href="chap2_mj.html">2</a>  <a href="chap3_mj.html">3</a>  <a href="chap4_mj.html">4</a>  <a href="chap5_mj.html">5</a>  <a href="chap6_mj.html">6</a>  <a href="chap7_mj.html">7</a>  <a href="chap8_mj.html">8</a>  <a href="chap9_mj.html">9</a>  <a href="chap10_mj.html">10</a>  <a href="chap11_mj.html">11</a>  <a href="chap12_mj.html">12</a>  <a href="chap13_mj.html">13</a>  <a href="chap14_mj.html">14</a>  <a href="chap15_mj.html">15</a>  <a href="chap16_mj.html">16</a>  <a href="chap17_mj.html">17</a>  <a href="chap18_mj.html">18</a>  <a href="chap19_mj.html">19</a>  <a href="chap20_mj.html">20</a>  <a href="chap21_mj.html">21</a>  <a href="chap22_mj.html">22</a>  <a href="chap23_mj.html">23</a>  <a href="chap24_mj.html">24</a>  <a href="chap25_mj.html">25</a>  <a href="chap26_mj.html">26</a>  <a href="chap27_mj.html">27</a>  <a href="chap28_mj.html">28</a>  <a href="chap29_mj.html">29</a>  <a href="chap30_mj.html">30</a>  <a href="chap31_mj.html">31</a>  <a href="chap32_mj.html">32</a>  <a href="chap33_mj.html">33</a>  <a href="chap34_mj.html">34</a>  <a href="chap35_mj.html">35</a>  <a href="chap36_mj.html">36</a>  <a href="chap37_mj.html">37</a>  <a href="chap38_mj.html">38</a>  <a href="chap39_mj.html">39</a>  <a href="chap40_mj.html">40</a>  <a href="chap41_mj.html">41</a>  <a href="chap42_mj.html">42</a>  <a href="chap43_mj.html">43</a>  <a href="chap44_mj.html">44</a>  <a href="chap45_mj.html">45</a>  <a href="chap46_mj.html">46</a>  <a href="chap47_mj.html">47</a>  <a href="chap48_mj.html">48</a>  <a href="chap49_mj.html">49</a>  <a href="chap50_mj.html">50</a>  <a href="chap51_mj.html">51</a>  <a href="chap52_mj.html">52</a>  <a href="chap53_mj.html">53</a>  <a href="chap54_mj.html">54</a>  <a href="chap55_mj.html">55</a>  <a href="chap56_mj.html">56</a>  <a href="chap57_mj.html">57</a>  <a href="chap58_mj.html">58</a>  <a href="chap59_mj.html">59</a>  <a href="chap60_mj.html">60</a>  <a href="chap61_mj.html">61</a>  <a href="chap62_mj.html">62</a>  <a href="chap63_mj.html">63</a>  <a href="chap64_mj.html">64</a>  <a href="chap65_mj.html">65</a>  <a href="chap66_mj.html">66</a>  <a href="chap67_mj.html">67</a>  <a href="chap68_mj.html">68</a>  <a href="chap69_mj.html">69</a>  <a href="chap70_mj.html">70</a>  <a href="chap71_mj.html">71</a>  <a href="chap72_mj.html">72</a>  <a href="chap73_mj.html">73</a>  <a href="chap74_mj.html">74</a>  <a href="chap75_mj.html">75</a>  <a href="chap76_mj.html">76</a>  <a href="chap77_mj.html">77</a>  <a href="chap78_mj.html">78</a>  <a href="chap79_mj.html">79</a>  <a href="chap80_mj.html">80</a>  <a href="chap81_mj.html">81</a>  <a href="chap82_mj.html">82</a>  <a href="chap83_mj.html">83</a>  <a href="chap84_mj.html">84</a>  <a href="chap85_mj.html">85</a>  <a href="chap86_mj.html">86</a>  <a href="chap87_mj.html">87</a>  <a href="chapBib_mj.html">Bib</a>  <a href="chapInd_mj.html">Ind</a>  </div>

<div class="chlinkprevnexttop">&nbsp;<a href="chap0_mj.html">[Top of Book]</a>&nbsp;  <a href="chap0_mj.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap28_mj.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chap30_mj.html">[Next Chapter]</a>&nbsp;  </div>

<p id="mathjaxlink" class="pcenter"><a href="chap29.html">[MathJax off]</a></p>
<p><a id="X7AA1073C7E943DD7" name="X7AA1073C7E943DD7"></a></p>
<div class="ChapSects"><a href="chap29_mj.html#X7AA1073C7E943DD7">29 <span class="Heading">Records</span></a>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap29_mj.html#X864F92347B5A3FF0">29.1 <span class="Heading">IsRecord and RecNames</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap29_mj.html#X782A998E7D9EC406">29.1-1 IsRecord</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap29_mj.html#X837F1E1F866FB1A0">29.1-2 RecNames</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap29_mj.html#X7EAAE25D7A17F778">29.2 <span class="Heading">Accessing Record Elements</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap29_mj.html#X806DE3BD78742CA4">29.3 <span class="Heading">Record Assignment</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap29_mj.html#X86BC2672803863FB">29.4 <span class="Heading">Identical Records</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap29_mj.html#X83A7E6607B1D63BC">29.5 <span class="Heading">Comparisons of Records</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap29_mj.html#X79BE8D0E829E7ACE">29.6 <span class="Heading">IsBound and Unbind for Records</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap29_mj.html#X7A13E8F87CAAA0AF">29.6-1 IsBound</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap29_mj.html#X7CA9AEFE7DB71604">29.6-2 Unbind</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap29_mj.html#X784897E180815EDA">29.7 <span class="Heading">Record Access Operations</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap29_mj.html#X87BF90FA7F7A3B1B">29.7-1 NameRNam</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap29_mj.html#X78199B6B84A017B9">29.7-2 RNamObj</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap29_mj.html#X7821AC097821AC09"><code>29.7-3 \.</code></a></span>
</div></div>
</div>

<h3>29 <span class="Heading">Records</span></h3>

<p><em>Records</em> are next to lists the most important way to collect objects together. A record is a collection of <em>components</em>. Each component has a unique <em>name</em>, which is an identifier that distinguishes this component, and a <em>value</em>, which is an object of arbitrary type. We often abbreviate <em>value of a component</em> to <em>element</em>. We also say that a record <em>contains</em> its elements. You can access and change the elements of a record using its name.</p>

<p>Record literals are written by writing down the components in order between "<code class="code">rec(</code>" and "<code class="code">)</code>", and separating them by commas "<code class="code">,</code>". Each component consists of the name, the assignment operator "<code class="code">:=</code>", and the value. The <em>empty record</em>, i.e., the record with no components, is written as <code class="code">rec()</code>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rec( a := 1, b := "2" ); # a record with two components</span>
rec( a := 1, b := "2" )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rec( a := 1, b := rec( c := 2 ) ); # record may contain records</span>
rec( a := 1, b := rec( c := 2 ) )
</pre></div>

<p>We may use the <code class="func">Display</code> (<a href="chap6_mj.html#X83A5C59278E13248"><span class="RefLink">6.3-6</span></a>) function to illustrate the hierarchy of the record components.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display( last );</span>
rec(
  a := 1,
  b := rec(
      c := 2 ) )
</pre></div>

<p>Records usually contain elements of various types, i.e., they are usually not homogeneous like lists.</p>

<p><a id="X864F92347B5A3FF0" name="X864F92347B5A3FF0"></a></p>

<h4>29.1 <span class="Heading">IsRecord and RecNames</span></h4>

<p><a id="X782A998E7D9EC406" name="X782A998E7D9EC406"></a></p>

<h5>29.1-1 IsRecord</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsRecord</code>( <var class="Arg">obj</var> )</td><td class="tdright">(&nbsp;category&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsRecordCollection</code>( <var class="Arg">obj</var> )</td><td class="tdright">(&nbsp;category&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsRecordCollColl</code>( <var class="Arg">obj</var> )</td><td class="tdright">(&nbsp;category&nbsp;)</td></tr></table></div>

<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsRecord( rec( a := 1, b := 2 ) );</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsRecord( IsRecord );</span>
false
</pre></div>

<p><a id="X837F1E1F866FB1A0" name="X837F1E1F866FB1A0"></a></p>

<h5>29.1-2 RecNames</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RecNames</code>( <var class="Arg">record</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>returns a list of strings corresponding to the names of the record components of the record <var class="Arg">record</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r := rec( a := 1, b := 2 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Set(RecNames( r )); # 'Set' because ordering depends on GAP session</span>
[ "a", "b" ]
</pre></div>

<p>Note that you cannot use the string result in the ordinary way to access or change a record component. You can use the <code class="code"><var class="Arg">record</var>.(<var class="Arg">name</var>)</code> construct for that, see <a href="chap29_mj.html#X7EAAE25D7A17F778"><span class="RefLink">29.2</span></a> and <a href="chap29_mj.html#X806DE3BD78742CA4"><span class="RefLink">29.3</span></a>.</p>

<p><a id="X7EAAE25D7A17F778" name="X7EAAE25D7A17F778"></a></p>

<h4>29.2 <span class="Heading">Accessing Record Elements</span></h4>

<p><code class="code"><var class="Arg">r</var>.<var class="Arg">name</var></code></p>

<p>The above construct evaluates to the value of the record component with the name <var class="Arg">name</var> in the record <var class="Arg">r</var>. Note that the <var class="Arg">name</var> is not evaluated, i.e. it is taken literal.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r := rec( a := 1, b := 2 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r.a;</span>
1
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r.b;</span>
2
</pre></div>

<p><code class="code"><var class="Arg">r</var>.(<var class="Arg">name</var>)</code></p>

<p>This construct is similar to the above construct. The difference is that the second operand <var class="Arg">name</var> is evaluated. It must evaluate to a string or an integer otherwise an error is signalled. The construct then evaluates to the element of the record <var class="Arg">r</var> whose name is, as a string, equal to <var class="Arg">name</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">old := rec( a := 1, b := 2 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">new := rec();</span>
rec(  )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">for i in RecNames( old ) do</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput"> new.(i) := old.(i);</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">od;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display( new );</span>
rec(
  a := 1,
  b := 2 )
</pre></div>

<p><a id="X806DE3BD78742CA4" name="X806DE3BD78742CA4"></a></p>

<h4>29.3 <span class="Heading">Record Assignment</span></h4>

<p><code class="code"><var class="Arg">r</var>.<var class="Arg">name</var> := <var class="Arg">obj</var></code></p>

<p>The record assignment assigns the object <var class="Arg">obj</var>, which may be an object of arbitrary type, to the record component with the name <var class="Arg">name</var>, which must be an identifier, of the record <var class="Arg">r</var>. That means that accessing the element with name <var class="Arg">name</var> of the record <var class="Arg">r</var> will return <var class="Arg">obj</var> after this assignment. If the record <var class="Arg">r</var> has no component with the name <var class="Arg">name</var>, the record is automatically extended to make room for the new component.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r := rec( a := 1, b := 2 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r.a := 10;;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display( r );</span>
rec(
  a := 10,
  b := 2 )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r.c := 3;;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display( r );</span>
rec(
  a := 10,
  b := 2,
  c := 3 )
</pre></div>

<p>Note that assigning to a record changes the record.</p>

<p>The function <code class="func">IsBound</code> (<a href="chap29_mj.html#X7A13E8F87CAAA0AF"><span class="RefLink">29.6-1</span></a>) can be used to test if a record has a component with a certain name, the function <code class="func">Unbind</code> (<a href="chap29_mj.html#X7CA9AEFE7DB71604"><span class="RefLink">29.6-2</span></a>) can be used to remove a component with a certain name again.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsBound(r.a);</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsBound(r.d);</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Unbind(r.b);</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display( r );</span>
rec(
  a := 10,
  c := 3 )
</pre></div>

<p><code class="code"><var class="Arg">r</var>.(<var class="Arg">name</var>) := <var class="Arg">obj</var></code></p>

<p>This construct is similar to the above construct. The difference is that the second operand <var class="Arg">name</var> is evaluated. It must evaluate to a string or an integer otherwise an error is signalled. The construct then assigns <var class="Arg">obj</var> to the record component of the record <var class="Arg">r</var> whose name is, as a string, equal to <var class="Arg">name</var>.</p>

<p><a id="X86BC2672803863FB" name="X86BC2672803863FB"></a></p>

<h4>29.4 <span class="Heading">Identical Records</span></h4>

<p>With the record assignment (see <a href="chap29_mj.html#X806DE3BD78742CA4"><span class="RefLink">29.3</span></a>) it is possible to change a record. This section describes the semantic consequences of this fact which are essentially the same as for lists (see <a href="chap21_mj.html#X7DD65BEA7EDB0CD7"><span class="RefLink">21.6</span></a>).</p>


<div class="example"><pre>
r := rec( a := 1 );
r := rec( a := 1, b := 2 );
</pre></div>

<p>The second assignment does not change the first record, instead it assigns a new record to the variable <code class="code">r</code>. On the other hand, in the following example the record is changed by the second assignment.</p>


<div class="example"><pre>
r := rec( a := 1 );
r.b := 2;
</pre></div>

<p>To understand the difference first think of a variable as a name for an object. The important point is that a record can have several names at the same time. An assignment <code class="code"><var class="Arg">var</var> := <var class="Arg">r</var></code> means in this interpretation that <var class="Arg">var</var> is a name for the object <var class="Arg">r</var>. At the end of the following example <code class="code">r2</code> still has the value <code class="code">rec( a := 1 )</code> as this record has not been changed and nothing else has been assigned to <code class="code">r2</code>.</p>


<div class="example"><pre>
r1 := rec( a := 1 );
r2 := r1;
r1 := rec( a := 1, b := 2 );
</pre></div>

<p>But after the following example the record for which <code class="code">r2</code> is a name has been changed and thus the value of <code class="code">r2</code> is now <code class="code">rec( a := 1, b := 2 )</code>.</p>


<div class="example"><pre>
r1 := rec( a := 1 );
r2 := r1;
r1.b := 2;
</pre></div>

<p>We shall say that two records are <em>identical</em> if changing one of them by a record assignment also changes the other one. This is slightly incorrect, because if <em>two</em> records are identical, there are actually only two names for <em>one</em> record. However, the correct usage would be very awkward and would only add to the confusion. Note that two identical records must be equal, because there is only one records with two different names. Thus identity is an equivalence relation that is a refinement of equality.</p>

<p>Let us now consider under which circumstances two records are identical.</p>

<p>If you enter a record literal then the record denoted by this literal is a new record that is not identical to any other record. Thus in the following example <code class="code">r1</code> and <code class="code">r2</code> are not identical, though they are equal of course.</p>


<div class="example"><pre>
r1 := rec( a := 1 );
r2 := rec( a := 1 );
</pre></div>

<p>Also in the following example, no records in the list <code class="code">l</code> are identical.</p>


<div class="example"><pre>
l := [];
for i in [1..10] do
  l[i] := rec( a := 1 );
od;
</pre></div>

<p>If you assign a record to a variable no new record is created. Thus the record value of the variable on the left hand side and the record on the right hand side of the assignment are identical. So in the following example <code class="code">r1</code> and <code class="code">r2</code> are identical records.</p>


<div class="example"><pre>
r1 := rec( a := 1 );
r2 := r1;
</pre></div>

<p>If you pass a record as argument, the old record and the argument of the function are identical. Also if you return a record from a function, the old record and the value of the function call are identical. So in the following example <code class="code">r1</code> and <code class="code">r2</code> are identical records.</p>


<div class="example"><pre>
r1 := rec( a := 1 );
f := function ( r ) return r; end;
r2 := f( r1 );
</pre></div>

<p>The functions <code class="func">StructuralCopy</code> (<a href="chap12_mj.html#X7C1E70587EBDD2CB"><span class="RefLink">12.7-2</span></a>) and <code class="func">ShallowCopy</code> (<a href="chap12_mj.html#X846BC7107C352031"><span class="RefLink">12.7-1</span></a>) accept a record and return a new record that is equal to the old record but that is <em>not</em> identical to the old record. The difference between <code class="func">StructuralCopy</code> (<a href="chap12_mj.html#X7C1E70587EBDD2CB"><span class="RefLink">12.7-2</span></a>) and <code class="func">ShallowCopy</code> (<a href="chap12_mj.html#X846BC7107C352031"><span class="RefLink">12.7-1</span></a>) is that in the case of <code class="func">ShallowCopy</code> (<a href="chap12_mj.html#X846BC7107C352031"><span class="RefLink">12.7-1</span></a>) the corresponding components of the new and the old records will be identical, whereas in the case of <code class="func">StructuralCopy</code> (<a href="chap12_mj.html#X7C1E70587EBDD2CB"><span class="RefLink">12.7-2</span></a>) they will only be equal. So in the following example <code class="code">r1</code> and <code class="code">r2</code> are not identical records.</p>


<div class="example"><pre>
r1 := rec( a := 1 );
r2 := ShallowCopy( r1 );
</pre></div>

<p>If you change a record it keeps its identity. Thus if two records are identical and you change one of them, you also change the other, and they are still identical afterwards. On the other hand, two records that are not identical will never become identical if you change one of them. So in the following example both <code class="code">r1</code> and <code class="code">r2</code> are changed, and are still identical.</p>


<div class="example"><pre>
r1 := rec( a := 1 );
r2 := r1;
r1.b := 2;
</pre></div>

<p><a id="X83A7E6607B1D63BC" name="X83A7E6607B1D63BC"></a></p>

<h4>29.5 <span class="Heading">Comparisons of Records</span></h4>

<p><code class="code"><var class="Arg">rec1</var> = <var class="Arg">rec2</var></code></p>

<p><code class="code"><var class="Arg">rec1</var> &lt;&gt; <var class="Arg">rec2</var></code></p>

<p>Two records are considered equal, if for each component of one record the other record has a component of the same name with an equal value and vice versa.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rec( a := 1, b := 2 ) = rec( b := 2, a := 1 );</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rec( a := 1, b := 2 ) = rec( a := 2, b := 1 );</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rec( a := 1 ) = rec( a := 1, b := 2 );</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rec( a := 1 ) = 1;</span>
false
</pre></div>

<p><code class="code"><var class="Arg">rec1</var> &lt; <var class="Arg">rec2</var></code></p>

<p><code class="code"><var class="Arg">rec1</var> &lt;= <var class="Arg">rec2</var></code></p>

<p>To compare records we imagine that the components of both records are sorted according to their names (the sorting depends on the <strong class="pkg">GAP</strong> session, more precisely the order in which component names were first used). Then the records are compared lexicographically with unbound elements considered smaller than anything else. Precisely one record <var class="Arg">rec1</var> is considered less than another record <var class="Arg">rec2</var> if <var class="Arg">rec2</var> has a component with name <var class="Arg">name2</var> and either <var class="Arg">rec1</var> has no component with this name or <code class="code"><var class="Arg">rec1</var>.<var class="Arg">name2</var> &lt; <var class="Arg">rec2</var>.<var class="Arg">name2</var></code> and for each component of <var class="Arg">rec1</var> with name <code class="code"><var class="Arg">name1</var> &lt; <var class="Arg">name2</var></code> <var class="Arg">rec2</var> has a component with this name and <code class="code"><var class="Arg">rec1</var>.<var class="Arg">name1</var> = <var class="Arg">rec2</var>.<var class="Arg">name1</var></code>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rec( axy := 1, bxy := 2 ) &lt; rec( bxy := 2, axy := 1 ); # are equal</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rec( axy := 1 ) &lt; rec( axy := 1, bxy := 2 ); # unbound is &lt; 2</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput"># in new session the .axy components are compared first</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rec( axy := 1, bxy := 2 ) &lt; rec( axy := 2, bxy := 0 ); # 1 &lt; 2</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rec( axy := 1 ) &lt; rec( axy := 0, bxy := 2 ); # 0 &lt; 1</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rec( bxy := 1 ) &lt; rec( bxy := 0, axy := 2 ); # unbound is &lt; 2</span>
true
</pre></div>

<p><a id="X79BE8D0E829E7ACE" name="X79BE8D0E829E7ACE"></a></p>

<h4>29.6 <span class="Heading">IsBound and Unbind for Records</span></h4>

<p><a id="X7A13E8F87CAAA0AF" name="X7A13E8F87CAAA0AF"></a></p>

<h5>29.6-1 IsBound</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsBound</code>( <var class="Arg">r.name</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p><code class="func">IsBound</code> returns <code class="keyw">true</code> if the record <var class="Arg">r</var> has a component with the name <var class="Arg">name</var> (which must be an identifier) and <code class="keyw">false</code> otherwise. <var class="Arg">r</var> must evaluate to a record, otherwise an error is signalled.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r := rec( a := 1, b := 2 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsBound( r.a );</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsBound( r.c );</span>
false
</pre></div>

<p><a id="X7CA9AEFE7DB71604" name="X7CA9AEFE7DB71604"></a></p>

<h5>29.6-2 Unbind</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; Unbind</code>( <var class="Arg">r.name</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p><code class="func">Unbind</code> deletes the component with the name <var class="Arg">name</var> in the record <var class="Arg">r</var>. That is, after execution of <code class="func">Unbind</code>, <var class="Arg">r</var> no longer has a record component with this name. Note that it is not an error to unbind a nonexisting record component. <var class="Arg">r</var> must evaluate to a record, otherwise an error is signalled.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r := rec( a := 1, b := 2 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Unbind( r.a ); r;</span>
rec( b := 2 )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Unbind( r.c ); r;</span>
rec( b := 2 )
</pre></div>

<p>Note that <code class="func">IsBound</code> (<a href="chap29_mj.html#X7A13E8F87CAAA0AF"><span class="RefLink">29.6-1</span></a>) and <code class="func">Unbind</code> are special in that they do not evaluate their argument, otherwise <code class="func">IsBound</code> (<a href="chap29_mj.html#X7A13E8F87CAAA0AF"><span class="RefLink">29.6-1</span></a>) would always signal an error when it is supposed to return <code class="keyw">false</code> and there would be no way to tell <code class="func">Unbind</code> which component to remove.</p>

<p><a id="X784897E180815EDA" name="X784897E180815EDA"></a></p>

<h4>29.7 <span class="Heading">Record Access Operations</span></h4>

<p>Internally, record accesses are done using the operations listed in this section. For the records implemented in the kernel, kernel methods are provided for all these operations but otherwise it is possible to install methods for these operations for any object. This permits objects to simulate record behavior.</p>

<p>To save memory, records do not store a list of all component names, but only numbers identifying the components. There numbers are called <em>RNams</em>. <strong class="pkg">GAP</strong> keeps a global list of all RNams that are used and provides the functions <code class="func">NameRNam</code> (<a href="chap29_mj.html#X87BF90FA7F7A3B1B"><span class="RefLink">29.7-1</span></a>) and <code class="func">RNamObj</code> (<a href="chap29_mj.html#X78199B6B84A017B9"><span class="RefLink">29.7-2</span></a>) to translate RNams to strings that give the component names and vice versa.</p>

<p><a id="X87BF90FA7F7A3B1B" name="X87BF90FA7F7A3B1B"></a></p>

<h5>29.7-1 NameRNam</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NameRNam</code>( <var class="Arg">nr</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>returns a string representing the component name corresponding to the RNam <var class="Arg">nr</var>.</p>

<p><a id="X78199B6B84A017B9" name="X78199B6B84A017B9"></a></p>

<h5>29.7-2 RNamObj</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RNamObj</code>( <var class="Arg">str</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RNamObj</code>( <var class="Arg">int</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>returns a number (the RNam) corresponding to the string <var class="Arg">str</var>. It is also possible to pass a positive integer <var class="Arg">int</var> in which case the decimal expansion of <var class="Arg">int</var> is used as a string.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NameRNam(798);</span>
"BravaisSupergroups"
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RNamObj("blubberflutsch");</span>
2075
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NameRNam(last);</span>
"blubberflutsch"
</pre></div>

<p>The correspondence between strings and RNams is not predetermined ab initio, but RNams are assigned to component names dynamically on a "first come, first serve" basis. Therefore, depending on the version of the library you are using and on the assignments done so far, the <em>same</em> component name may be represented by <em>different</em> RNams in different <strong class="pkg">GAP</strong> sessions.</p>

<p><a id="X7821AC097821AC09" name="X7821AC097821AC09"></a></p>

<h5><code>29.7-3 \.</code></h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; \.</code>( <var class="Arg">obj</var>, <var class="Arg">rnam</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsBound\.</code>( <var class="Arg">obj</var>, <var class="Arg">rnam</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; \.\:\=</code>( <var class="Arg">obj</var>, <var class="Arg">rnam</var>, <var class="Arg">val</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; Unbind\.</code>( <var class="Arg">obj</var>, <var class="Arg">rnam</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>These operations are called for record accesses to arbitrary objects. If applicable methods are installed, they are called when the object is accessed as a record.</p>

<p>For records, the operations implement component access, test for element boundness, component assignment and removal of the component represented by the RNam <var class="Arg">rnam</var>.</p>

<p>The component identifier <var class="Arg">rnam</var> is always required to be in <code class="func">IsPosInt</code> (<a href="chap14_mj.html#X82A854757DFA9C76"><span class="RefLink">14.2-2</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r:= rec( a:= 1 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsBound\.( r, RNamObj( "a" ) );</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">\.( r, RNamObj( "a" ) );</span>
1
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsBound\.( r, RNamObj( "b" ) );</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">\.\:\=( r, RNamObj( "b" ), 2 );</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r;</span>
rec( a := 1, b := 2 )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Unbind\.( r, RNamObj( "b" ) );</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r;</span>
rec( a := 1 )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">G:= SymmetricGroup( 4 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">G.1;</span>
(1,2,3,4)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">\.( G, RNamObj( 1 ) );</span>
(1,2,3,4)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">meth:= ApplicableMethod( \., [ G, 4711 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">meth( G, RNamObj( 1 ) );</span>
(1,2,3,4)
</pre></div>


<div class="chlinkprevnextbot">&nbsp;<a href="chap0_mj.html">[Top of Book]</a>&nbsp;  <a href="chap0_mj.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap28_mj.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chap30_mj.html">[Next Chapter]</a>&nbsp;  </div>


<div class="chlinkbot"><span class="chlink1">Goto Chapter: </span><a href="chap0_mj.html">Top</a>  <a href="chap1_mj.html">1</a>  <a href="chap2_mj.html">2</a>  <a href="chap3_mj.html">3</a>  <a href="chap4_mj.html">4</a>  <a href="chap5_mj.html">5</a>  <a href="chap6_mj.html">6</a>  <a href="chap7_mj.html">7</a>  <a href="chap8_mj.html">8</a>  <a href="chap9_mj.html">9</a>  <a href="chap10_mj.html">10</a>  <a href="chap11_mj.html">11</a>  <a href="chap12_mj.html">12</a>  <a href="chap13_mj.html">13</a>  <a href="chap14_mj.html">14</a>  <a href="chap15_mj.html">15</a>  <a href="chap16_mj.html">16</a>  <a href="chap17_mj.html">17</a>  <a href="chap18_mj.html">18</a>  <a href="chap19_mj.html">19</a>  <a href="chap20_mj.html">20</a>  <a href="chap21_mj.html">21</a>  <a href="chap22_mj.html">22</a>  <a href="chap23_mj.html">23</a>  <a href="chap24_mj.html">24</a>  <a href="chap25_mj.html">25</a>  <a href="chap26_mj.html">26</a>  <a href="chap27_mj.html">27</a>  <a href="chap28_mj.html">28</a>  <a href="chap29_mj.html">29</a>  <a href="chap30_mj.html">30</a>  <a href="chap31_mj.html">31</a>  <a href="chap32_mj.html">32</a>  <a href="chap33_mj.html">33</a>  <a href="chap34_mj.html">34</a>  <a href="chap35_mj.html">35</a>  <a href="chap36_mj.html">36</a>  <a href="chap37_mj.html">37</a>  <a href="chap38_mj.html">38</a>  <a href="chap39_mj.html">39</a>  <a href="chap40_mj.html">40</a>  <a href="chap41_mj.html">41</a>  <a href="chap42_mj.html">42</a>  <a href="chap43_mj.html">43</a>  <a href="chap44_mj.html">44</a>  <a href="chap45_mj.html">45</a>  <a href="chap46_mj.html">46</a>  <a href="chap47_mj.html">47</a>  <a href="chap48_mj.html">48</a>  <a href="chap49_mj.html">49</a>  <a href="chap50_mj.html">50</a>  <a href="chap51_mj.html">51</a>  <a href="chap52_mj.html">52</a>  <a href="chap53_mj.html">53</a>  <a href="chap54_mj.html">54</a>  <a href="chap55_mj.html">55</a>  <a href="chap56_mj.html">56</a>  <a href="chap57_mj.html">57</a>  <a href="chap58_mj.html">58</a>  <a href="chap59_mj.html">59</a>  <a href="chap60_mj.html">60</a>  <a href="chap61_mj.html">61</a>  <a href="chap62_mj.html">62</a>  <a href="chap63_mj.html">63</a>  <a href="chap64_mj.html">64</a>  <a href="chap65_mj.html">65</a>  <a href="chap66_mj.html">66</a>  <a href="chap67_mj.html">67</a>  <a href="chap68_mj.html">68</a>  <a href="chap69_mj.html">69</a>  <a href="chap70_mj.html">70</a>  <a href="chap71_mj.html">71</a>  <a href="chap72_mj.html">72</a>  <a href="chap73_mj.html">73</a>  <a href="chap74_mj.html">74</a>  <a href="chap75_mj.html">75</a>  <a href="chap76_mj.html">76</a>  <a href="chap77_mj.html">77</a>  <a href="chap78_mj.html">78</a>  <a href="chap79_mj.html">79</a>  <a href="chap80_mj.html">80</a>  <a href="chap81_mj.html">81</a>  <a href="chap82_mj.html">82</a>  <a href="chap83_mj.html">83</a>  <a href="chap84_mj.html">84</a>  <a href="chap85_mj.html">85</a>  <a href="chap86_mj.html">86</a>  <a href="chap87_mj.html">87</a>  <a href="chapBib_mj.html">Bib</a>  <a href="chapInd_mj.html">Ind</a>  </div>

<hr />
<p class="foot">generated by <a href="http://www.math.rwth-aachen.de/~Frank.Luebeck/GAPDoc">GAPDoc2HTML</a></p>
</body>
</html>
