<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<title>GAP (ref) - Chapter 54: Partial permutations</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="generator" content="GAPDoc2HTML" />
<link rel="stylesheet" type="text/css" href="manual.css" />
<script src="manual.js" type="text/javascript"></script>
<script type="text/javascript">overwriteStyle();</script>
</head>
<body class="chap54"  onload="jscontent()">


<div class="chlinktop"><span class="chlink1">Goto Chapter: </span><a href="chap0_mj.html">Top</a>  <a href="chap1_mj.html">1</a>  <a href="chap2_mj.html">2</a>  <a href="chap3_mj.html">3</a>  <a href="chap4_mj.html">4</a>  <a href="chap5_mj.html">5</a>  <a href="chap6_mj.html">6</a>  <a href="chap7_mj.html">7</a>  <a href="chap8_mj.html">8</a>  <a href="chap9_mj.html">9</a>  <a href="chap10_mj.html">10</a>  <a href="chap11_mj.html">11</a>  <a href="chap12_mj.html">12</a>  <a href="chap13_mj.html">13</a>  <a href="chap14_mj.html">14</a>  <a href="chap15_mj.html">15</a>  <a href="chap16_mj.html">16</a>  <a href="chap17_mj.html">17</a>  <a href="chap18_mj.html">18</a>  <a href="chap19_mj.html">19</a>  <a href="chap20_mj.html">20</a>  <a href="chap21_mj.html">21</a>  <a href="chap22_mj.html">22</a>  <a href="chap23_mj.html">23</a>  <a href="chap24_mj.html">24</a>  <a href="chap25_mj.html">25</a>  <a href="chap26_mj.html">26</a>  <a href="chap27_mj.html">27</a>  <a href="chap28_mj.html">28</a>  <a href="chap29_mj.html">29</a>  <a href="chap30_mj.html">30</a>  <a href="chap31_mj.html">31</a>  <a href="chap32_mj.html">32</a>  <a href="chap33_mj.html">33</a>  <a href="chap34_mj.html">34</a>  <a href="chap35_mj.html">35</a>  <a href="chap36_mj.html">36</a>  <a href="chap37_mj.html">37</a>  <a href="chap38_mj.html">38</a>  <a href="chap39_mj.html">39</a>  <a href="chap40_mj.html">40</a>  <a href="chap41_mj.html">41</a>  <a href="chap42_mj.html">42</a>  <a href="chap43_mj.html">43</a>  <a href="chap44_mj.html">44</a>  <a href="chap45_mj.html">45</a>  <a href="chap46_mj.html">46</a>  <a href="chap47_mj.html">47</a>  <a href="chap48_mj.html">48</a>  <a href="chap49_mj.html">49</a>  <a href="chap50_mj.html">50</a>  <a href="chap51_mj.html">51</a>  <a href="chap52_mj.html">52</a>  <a href="chap53_mj.html">53</a>  <a href="chap54_mj.html">54</a>  <a href="chap55_mj.html">55</a>  <a href="chap56_mj.html">56</a>  <a href="chap57_mj.html">57</a>  <a href="chap58_mj.html">58</a>  <a href="chap59_mj.html">59</a>  <a href="chap60_mj.html">60</a>  <a href="chap61_mj.html">61</a>  <a href="chap62_mj.html">62</a>  <a href="chap63_mj.html">63</a>  <a href="chap64_mj.html">64</a>  <a href="chap65_mj.html">65</a>  <a href="chap66_mj.html">66</a>  <a href="chap67_mj.html">67</a>  <a href="chap68_mj.html">68</a>  <a href="chap69_mj.html">69</a>  <a href="chap70_mj.html">70</a>  <a href="chap71_mj.html">71</a>  <a href="chap72_mj.html">72</a>  <a href="chap73_mj.html">73</a>  <a href="chap74_mj.html">74</a>  <a href="chap75_mj.html">75</a>  <a href="chap76_mj.html">76</a>  <a href="chap77_mj.html">77</a>  <a href="chap78_mj.html">78</a>  <a href="chap79_mj.html">79</a>  <a href="chap80_mj.html">80</a>  <a href="chap81_mj.html">81</a>  <a href="chap82_mj.html">82</a>  <a href="chap83_mj.html">83</a>  <a href="chap84_mj.html">84</a>  <a href="chap85_mj.html">85</a>  <a href="chap86_mj.html">86</a>  <a href="chap87_mj.html">87</a>  <a href="chapBib_mj.html">Bib</a>  <a href="chapInd_mj.html">Ind</a>  </div>

<div class="chlinkprevnexttop">&nbsp;<a href="chap0_mj.html">[Top of Book]</a>&nbsp;  <a href="chap0_mj.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap53_mj.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chap55_mj.html">[Next Chapter]</a>&nbsp;  </div>

<p id="mathjaxlink" class="pcenter"><a href="chap54.html">[MathJax off]</a></p>
<p><a id="X7D6495F77B8A77BD" name="X7D6495F77B8A77BD"></a></p>
<div class="ChapSects"><a href="chap54_mj.html#X7D6495F77B8A77BD">54 <span class="Heading">Partial permutations</span></a>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap54_mj.html#X87B0D6657A3F2B0E">54.1 <span class="Heading">The family and categories of partial permutations</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X7EECE133792B30FC">54.1-1 IsPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X8262A827790DD1CC">54.1-2 IsPartialPermCollection</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X7E63D17780F64FBA">54.1-3 PartialPermFamily</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap54_mj.html#X7B9D451D7FDA1DD8">54.2 <span class="Heading">Creating partial permutations</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X8538BAE77F2FB2F8">54.2-1 PartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X81188D9F83F64222">54.2-2 PartialPermOp</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X80ABBF4883C79060">54.2-3 RestrictedPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X849668DD7B0B9E3B">54.2-4 JoinOfPartialPerms</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X81E2B6977E28CD00">54.2-5 MeetOfPartialPerms</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X80EFB142817A0A9F">54.2-6 EmptyPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X7E6ADC8583C31530">54.2-7 <span class="Heading">RandomPartialPerm</span></a>
</span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap54_mj.html#X8779F0997D0FDA78">54.3 <span class="Heading">Attributes for partial permutations</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X8612A4DC864E7959">54.3-1 DegreeOfPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X8413D0EF7DEE1FFF">54.3-2 CodegreeOfPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X7C1ABD8A80E95B39">54.3-3 RankOfPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X784A14F787E041D7">54.3-4 DomainOfPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X7CD84B107831E0FC">54.3-5 ImageOfPartialPermCollection</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X8333293F87F654FA">54.3-6 ImageListOfPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X7F0724A07A14DCF7">54.3-7 ImageSetOfPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X82AAFF938623422E">54.3-8 FixedPointsOfPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X82FE981A87FAA2DC">54.3-9 MovedPoints</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X7FAF969C84CDC742">54.3-10 NrFixedPoints</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X81F5C64E7DAD27A7">54.3-11 NrMovedPoints</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X84A49C977E1E29AA">54.3-12 SmallestMovedPoint</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X7D4290A785ABC86D">54.3-13 LargestMovedPoint</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X85280F1A7B1014BA">54.3-14 SmallestImageOfMovedPoint</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X7A95CD437BC1CB1A">54.3-15 LargestImageOfMovedPoint</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X873A9F717DA75CBC">54.3-16 IndexPeriodOfPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X7C04AA377F080722">54.3-17 SmallestIdempotentPower</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X8185065E788BDD0D">54.3-18 ComponentsOfPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X7CB51EB67FFA95E9">54.3-19 NrComponentsOfPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X7AAAAE4082B30E18">54.3-20 ComponentRepsOfPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X7A8FB86C78C49F85">54.3-21 LeftOne</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X857FC10C81507E8B">54.3-22 One</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X7D90CF497D58D759">54.3-23 MultiplicativeZero</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap54_mj.html#X8585AA8B78E9CDFB">54.4 <span class="Heading">Changing the representation of a partial permutation</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X81B32CB182489ACA">54.4-1 AsPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X87EC67747B260E98">54.4-2 AsPartialPerm</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap54_mj.html#X848CD855802C6CE1">54.5 <span class="Heading">Operators and operations for partial permutations</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X8382A0F8875CEB08">54.5-1 PermLeftQuoPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X7C7F5EAB7E9A381D">54.5-2 PreImagePartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X797A6CC084068219">54.5-3 ComponentPartialPermInt</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X87B1ED93785257C1">54.5-4 NaturalLeqPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X81BD69307D294A1C">54.5-5 ShortLexLeqPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X83560BE678ACF855">54.5-6 TrimPartialPerm</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap54_mj.html#X7849595B81D063EE">54.6 <span class="Heading">Displaying partial permutations</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap54_mj.html#X7CCC82E07A73EB55">54.7 <span class="Heading">Semigroups and inverse semigroups of partial permutations</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X7D161674800B50E0">54.7-1 IsPartialPermSemigroup</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X7D7F0BAB82F0D820">54.7-2 DegreeOfPartialPermSemigroup</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X81D271B380995F8A">54.7-3 SymmetricInverseSemigroup</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X7C8AEA50834060DD">54.7-4 IsSymmetricInverseSemigroup</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X7EA51F087CF7621F">54.7-5 NaturalPartialOrder</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap54_mj.html#X7FE18EBE79B9C17C">54.7-6 IsomorphismPartialPermSemigroup</a></span>
</div></div>
</div>

<h3>54 <span class="Heading">Partial permutations</span></h3>

<p>This chapter describes the functions in <strong class="pkg">GAP</strong> for partial permutations.</p>

<p>A <em>partial permutation</em> in <strong class="pkg">GAP</strong> is simply an injective function from any finite set of positive integers to any other finite set of positive integers. The largest point on which a partial permutation can be defined, and the largest value that the image of such a point can have, are defined by certain architecture dependent limits.</p>

<p>Every inverse semigroup is isomorphic to an inverse semigroup of partial permutations and, as such, partial permutations are to inverse semigroup theory what permutations are to group theory and transformations are to semigroup theory. In this way, partial permutations are the elements of inverse partial permutation semigroups.</p>

<p>A partial permutations in <strong class="pkg">GAP</strong> acts on a finite set of positive integers on the right. The image of a point <code class="code">i</code> under a partial permutation <code class="code">f</code> is expressed as <code class="code">i^f</code> in <strong class="pkg">GAP</strong>. This action is also implemented by the function <code class="func">OnPoints</code> (<a href="chap41_mj.html#X7FE417DD837987B4"><span class="RefLink">41.2-1</span></a>). The preimage of a point <code class="code">i</code> under the partial permutation <code class="code">f</code> can be computed using <code class="code">i/f</code> without constructing the inverse of <code class="code">f</code>. Partial permutations in <strong class="pkg">GAP</strong> are created using the operations described in Section <a href="chap54_mj.html#X7B9D451D7FDA1DD8"><span class="RefLink">54.2</span></a>. Partial permutations are, by default, displayed in component notation, which is described in Section <a href="chap54_mj.html#X7849595B81D063EE"><span class="RefLink">54.6</span></a>.</p>

<p>The fundamental attributes of a partial permutation are:</p>


<dl>
<dt><strong class="Mark">Domain</strong></dt>
<dd><p>The <em>domain</em> of a partial permutation is just the set of positive integers where it is defined; see <code class="func">DomainOfPartialPerm</code> (<a href="chap54_mj.html#X784A14F787E041D7"><span class="RefLink">54.3-4</span></a>). We will denote the domain of a partial permutation <code class="code">f</code> by dom(<code class="code">f</code>).</p>

</dd>
<dt><strong class="Mark">Degree</strong></dt>
<dd><p>The <em>degree</em> of a partial permutation <code class="code">f</code> is just the largest positive integer where <code class="code">f</code> is defined. In other words, the degree of <code class="code">f</code> is the largest element in the domain of <code class="code">f</code>; see <code class="func">DegreeOfPartialPerm</code> (<a href="chap54_mj.html#X8612A4DC864E7959"><span class="RefLink">54.3-1</span></a>).</p>

</dd>
<dt><strong class="Mark">Image list</strong></dt>
<dd><p>The <em>image list</em> of a partial permutation <code class="code">f</code> is the list <code class="code">[i_1^f, i_2^f, .. , i_n^f]</code> where the domain of <code class="code">f</code> is <code class="code">[i_1, i_2, .., i_n]</code> see <code class="func">ImageListOfPartialPerm</code> (<a href="chap54_mj.html#X8333293F87F654FA"><span class="RefLink">54.3-6</span></a>). For example, the partial perm sending <code class="code">1</code> to <code class="code">5</code> and <code class="code">2</code> to <code class="code">4</code> has image list <code class="code">[ 5, 4 ]</code>.</p>

</dd>
<dt><strong class="Mark">Image set</strong></dt>
<dd><p>The <em>image set</em> of a partial permutation <code class="code">f</code> is just the set of points in the image list (i.e. the image list after it has been sorted into increasing order); see <code class="func">ImageSetOfPartialPerm</code> (<a href="chap54_mj.html#X7F0724A07A14DCF7"><span class="RefLink">54.3-7</span></a>). We will denote the image set of a partial permutation <code class="code">f</code> by im(<code class="code">f</code>).</p>

</dd>
<dt><strong class="Mark">Codegree</strong></dt>
<dd><p>The <em>codegree</em> of a partial permutation <code class="code">f</code> is just the largest positive integer of the form <code class="code">i^f</code> for any <code class="code">i</code> in the domain of <code class="code">f</code>. In other words, the codegree of <code class="code">f</code> is the largest element in the image of <code class="code">f</code>; see <code class="func">CodegreeOfPartialPerm</code> (<a href="chap54_mj.html#X8413D0EF7DEE1FFF"><span class="RefLink">54.3-2</span></a>).</p>

</dd>
<dt><strong class="Mark">Rank</strong></dt>
<dd><p>The <em>rank</em> of a partial permutation <code class="code">f</code> is the size of its domain, or equivalently the size of its image set or image list; see <code class="func">RankOfPartialPerm</code> (<a href="chap54_mj.html#X7C1ABD8A80E95B39"><span class="RefLink">54.3-3</span></a>).</p>

</dd>
</dl>
<p>A <em>functional digraph</em> is a directed graph where every vertex has out-degree <code class="code">1</code>. A partial permutation <var class="Arg">f</var> can be thought of as a functional digraph with vertices <code class="code">[1..DegreeOfPartialPerm(f)]</code> and edges from <code class="code">i</code> to <code class="code">i^f</code> for every <code class="code">i</code>. A <em>component</em> of a partial permutation is defined as a component of the corresponding functional digraph. More specifically, <code class="code">i</code> and <code class="code">j</code> are in the same component if and only if there are <span class="SimpleMath">\(i=v_0, v_1, \ldots, v_n=j\)</span> such that either <span class="SimpleMath">\(v_{k+1}=v_{k}^f\)</span> or <span class="SimpleMath">\(v_{k}=v_{k+1}^f\)</span> for all <code class="code">k</code>.</p>

<p>If <code class="code">S</code> is a semigroup and <code class="code">s</code> is an element of <code class="code">S</code>, then an element <code class="code">t</code> in <code class="code">S</code> is a <em>semigroup inverse</em> for <code class="code">s</code> if <code class="code">s*t*s=s</code> and <code class="code">t*s*t=t</code>; see, for example, <code class="func">InverseOfTransformation</code> (<a href="chap53_mj.html#X860306EB7FAAD2D4"><span class="RefLink">53.5-13</span></a>). A semigroup in which every element has a unique semigroup inverse is called an <em>inverse semigroup</em>.</p>

<p>Every partial permutation belongs to a symmetric inverse monoid; see <code class="func">SymmetricInverseSemigroup</code> (<a href="chap54_mj.html#X81D271B380995F8A"><span class="RefLink">54.7-3</span></a>). Inverse semigroups of partial permutations are hence inverse subsemigroups of the symmetric inverse monoids.</p>

<p>The inverse <code class="code">f^-1</code> of a partial permutation <code class="code">f</code> is simply the partial permutation that maps <code class="code">i^f</code> to <code class="code">i</code> for all <code class="code">i</code> in the image of <code class="code">f</code>. It follows that the domain of <code class="code">f^-1</code> equals the image of <code class="code">f</code> and that the image of <code class="code">f^-1</code> equals the domain of <code class="code">f</code>. The inverse <code class="code">f^-1</code> is the unique partial permutation with the property that <code class="code">f*f^-1*f=f</code> and <code class="code">f^-1*f*f^-1=f^-1</code>. In other words, <code class="code">f^-1</code> is the unique semigroup inverse of <code class="code">f</code> in the symmetric inverse monoid.</p>

<p>If <code class="code">f</code> and <code class="code">g</code> are partial permutations, then the domain and image of the product are:</p>

<p class="center">\[
    \textrm{dom}(fg)=(\textrm{im}(f)\cap \textrm{dom}(g))f^{-1}\textrm{ and }
    \textrm{im}(fg)=(\textrm{im}(f)\cap \textrm{dom}(g))g
  \]</p>

<p>A partial permutation is an idempotent if and only if it is the identity function on its domain. The products <code class="code">f*f^-1</code> and <code class="code">f^-1*f</code> are just the identity functions on the domain and image of <code class="code">f</code>, respectively. It follows that <code class="code">f*f^-1</code> is a left identity for <code class="code">f</code> and <code class="code">f^-1*f</code> is a right identity. These products will be referred to here as the <em>left one</em> and <em>right one</em> of the partial permutation <code class="code">f</code>; see <code class="func">LeftOne</code> (<a href="chap54_mj.html#X7A8FB86C78C49F85"><span class="RefLink">54.3-21</span></a>). The <em>one</em> of a partial permutation is just the identity on the union of its domain and its image, and the <em>zero</em> of a partial permutation is just the empty partial permutation; see <code class="func">One</code> (<a href="chap54_mj.html#X857FC10C81507E8B"><span class="RefLink">54.3-22</span></a>) and <code class="func">MultiplicativeZero</code> (<a href="chap54_mj.html#X7D90CF497D58D759"><span class="RefLink">54.3-23</span></a>).</p>

<p>If <code class="code">S</code> is an arbitrary inverse semigroup, the <em>natural partial order</em> on <code class="code">S</code> is defined as follows: for elements <code class="code">x</code> and <code class="code">y</code> of <code class="code">S</code> we say <code class="code">x</code><span class="SimpleMath">\(\leq\)</span><code class="code">y</code> if there exists an idempotent element <code class="code">e</code> in <code class="code">S</code> such that <code class="code">x=ey</code>. In the context of the symmetric inverse monoid, a partial permutation <code class="code">f</code> is less than or equal to a partial permutation <code class="code">g</code> in the natural partial order if and only if <code class="code">f</code> is a restriction of <code class="code">g</code>. The natural partial order is a meet semilattice, in other words, every pair of elements has a greatest lower bound; see <code class="func">MeetOfPartialPerms</code> (<a href="chap54_mj.html#X81E2B6977E28CD00"><span class="RefLink">54.2-5</span></a>).</p>

<p>Note that unlike permutations, partial permutations do not fix unspecified points but are simply undefined on such points; see Chapter <a href="chap42_mj.html#X80F808307A2D5AB8"><span class="RefLink">42</span></a>. Similar to permutations, and unlike transformations, it is possible to multiply any two partial permutations in <strong class="pkg">GAP</strong>.</p>

<p>Internally, <strong class="pkg">GAP</strong> stores a partial permutation <code class="code">f</code> as a list consisting of the codegree of <code class="code">f</code> and the images <code class="code">i^f</code> of the points <code class="code">i</code> that are less than or equal to the degree of <code class="code">f</code>; the value <code class="code">0</code> is stored where <code class="code">i^f</code> is undefined. The domain and image set of <code class="code">f</code> are also stored after either of these values is computed. When the codegree of a partial permutation <code class="code">f</code> is less than 65536, the codegree and images <code class="code">i^f</code> are stored as 16-bit integers, the domain and image set are subobjects of <code class="code">f</code> which are immutable plain lists of <strong class="pkg">GAP</strong> integers. When the codegree of <code class="code">f</code> is greater than or equal to 65536, the codegree and images are stored as 32-bit integers; the domain and image set are stored in the same way as before. A partial permutation belongs to <code class="code">IsPPerm2Rep</code> if it is stored using 16-bit integers and to <code class="code">IsPPerm4Rep</code> otherwise.</p>

<p>In the names of the <strong class="pkg">GAP</strong> functions that deal with partial permutations, the word "Permutation" is usually abbreviated to "Perm", to save typing. For example, the category test function for partial permutations is <code class="func">IsPartialPerm</code> (<a href="chap54_mj.html#X7EECE133792B30FC"><span class="RefLink">54.1-1</span></a>).</p>

<p><a id="X87B0D6657A3F2B0E" name="X87B0D6657A3F2B0E"></a></p>

<h4>54.1 <span class="Heading">The family and categories of partial permutations</span></h4>

<p><a id="X7EECE133792B30FC" name="X7EECE133792B30FC"></a></p>

<h5>54.1-1 IsPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsPartialPerm</code>( <var class="Arg">obj</var> )</td><td class="tdright">(&nbsp;category&nbsp;)</td></tr></table></div>
<p>Returns: <code class="keyw">true</code> or <code class="keyw">false</code>.</p>

<p>Every partial permutation in <strong class="pkg">GAP</strong> belongs to the category <code class="code">IsPartialPerm</code>. Basic operations for partial permutations are <code class="func">DomainOfPartialPerm</code> (<a href="chap54_mj.html#X784A14F787E041D7"><span class="RefLink">54.3-4</span></a>), <code class="func">ImageListOfPartialPerm</code> (<a href="chap54_mj.html#X8333293F87F654FA"><span class="RefLink">54.3-6</span></a>), <code class="func">ImageSetOfPartialPerm</code> (<a href="chap54_mj.html#X7F0724A07A14DCF7"><span class="RefLink">54.3-7</span></a>), <code class="func">RankOfPartialPerm</code> (<a href="chap54_mj.html#X7C1ABD8A80E95B39"><span class="RefLink">54.3-3</span></a>), <code class="func">DegreeOfPartialPerm</code> (<a href="chap54_mj.html#X8612A4DC864E7959"><span class="RefLink">54.3-1</span></a>), multiplication of two partial permutations is via <code class="keyw">*</code>, and exponentiation with the first argument a positive integer <code class="code">i</code> and second argument a partial permutation <code class="code">f</code> where the result is the image <code class="code">i^f</code> of the point <code class="code">i</code> under <code class="code">f</code>. The inverse of a partial permutation <code class="code">f</code> can be obtains using <code class="code">f^-1</code>.</p>

<p><a id="X8262A827790DD1CC" name="X8262A827790DD1CC"></a></p>

<h5>54.1-2 IsPartialPermCollection</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsPartialPermCollection</code>( <var class="Arg">obj</var> )</td><td class="tdright">(&nbsp;category&nbsp;)</td></tr></table></div>
<p>Every collection of partial permutations belongs to the category <code class="code">IsPartialPermCollection</code>. For example, a semigroup of partial permutations belongs in <code class="code">IsPartialPermCollection</code>.</p>

<p><a id="X7E63D17780F64FBA" name="X7E63D17780F64FBA"></a></p>

<h5>54.1-3 PartialPermFamily</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; PartialPermFamily</code></td><td class="tdright">(&nbsp;family&nbsp;)</td></tr></table></div>
<p>The family of all partial permutations is <code class="code">PartialPermFamily</code></p>

<p><a id="X7B9D451D7FDA1DD8" name="X7B9D451D7FDA1DD8"></a></p>

<h4>54.2 <span class="Heading">Creating partial permutations</span></h4>

<p>There are several ways of creating partial permutations in <strong class="pkg">GAP</strong>, which are described in this section.</p>

<p><a id="X8538BAE77F2FB2F8" name="X8538BAE77F2FB2F8"></a></p>

<h5>54.2-1 PartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; PartialPerm</code>( <var class="Arg">dom</var>, <var class="Arg">img</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; PartialPerm</code>( <var class="Arg">list</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>Returns: A partial permutation.</p>

<p>Partial permutations can be created in two ways: by giving the domain and the image, or the dense image list.</p>


<dl>
<dt><strong class="Mark">Domain and image</strong></dt>
<dd><p>The partial permutation defined by a domain <var class="Arg">dom</var> and image <var class="Arg">img</var>, where <var class="Arg">dom</var> is a set of positive integers and <var class="Arg">img</var> is a duplicate free list of positive integers, maps <var class="Arg">dom</var><code class="code">[i]</code> to <var class="Arg">img</var><code class="code">[i]</code>. For example, the partial permutation mapping <code class="code">1</code> and <code class="code">5</code> to <code class="code">20</code> and <code class="code">2</code> can be created using:</p>


<div class="example"><pre>PartialPerm([1,5],[20,2]); </pre></div>

<p>In this setting, <code class="code">PartialPerm</code> is the analogue in the context of partial permutations of <code class="func">MappingPermListList</code> (<a href="chap42_mj.html#X8087DCC780B9656A"><span class="RefLink">42.5-3</span></a>).</p>

</dd>
<dt><strong class="Mark">Dense image list</strong></dt>
<dd><p>The partial permutation defined by a dense image list <var class="Arg">list</var>, maps the positive integer <code class="code">i</code> to <var class="Arg">list</var><code class="code">[i]</code> if <var class="Arg">list</var><code class="code">[i]&lt;&gt;0</code> and is undefined at <code class="code">i</code> if <var class="Arg">list</var><code class="code">[i]=0</code>. For example, the partial permutation mapping <code class="code">1</code> and <code class="code">5</code> to <code class="code">20</code> and <code class="code">2</code> can be created using:</p>


<div class="example"><pre>PartialPerm([20,0,0,0,2]);</pre></div>

<p>In this setting, <code class="code">PartialPerm</code> is the analogue in the context of partial permutations of <code class="func">PermList</code> (<a href="chap42_mj.html#X78D611D17EA6E3BC"><span class="RefLink">42.5-2</span></a>).</p>

</dd>
</dl>
<p>Regardless of which of these two methods are used to create a partial permutation in <strong class="pkg">GAP</strong> the internal representation is the same.</p>

<p>If the largest point in the domain is larger than the rank of the partial permutation, then using the dense image list to define the partial permutation will require less typing; otherwise using the domain and the image will require less typing. For example, the partial permutation mapping <code class="code">10000</code> to <code class="code">1</code> can be defined using:</p>


<div class="example"><pre>PartialPerm([10000], [1]);</pre></div>

<p>but using the dense image list would require a list with <code class="code">9999</code> entries equal to <code class="code">0</code> and the final entry equal to <code class="code">1</code>. On the other hand, the identity on <code class="code">[1,2,3,4,6]</code> can be defined using:</p>


<div class="example"><pre>PartialPerm([1,2,3,4,0,6]);</pre></div>

<p>Please note that a partial permutation in <strong class="pkg">GAP</strong> is never a permutation nor is a permutation ever a partial permutation. For example, the permutation <code class="code">(1,4,2)</code> fixes <code class="code">3</code> but the partial permutation <code class="code">PartialPerm([4,1,0,2]);</code> is not defined on <code class="code">3</code>.</p>

<p><a id="X81188D9F83F64222" name="X81188D9F83F64222"></a></p>

<h5>54.2-2 PartialPermOp</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; PartialPermOp</code>( <var class="Arg">obj</var>, <var class="Arg">list</var>[, <var class="Arg">func</var>] )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; PartialPermOpNC</code>( <var class="Arg">obj</var>, <var class="Arg">list</var>[, <var class="Arg">func</var>] )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: A partial permutation or <code class="keyw">fail</code>.</p>

<p><code class="func">PartialPermOp</code> returns the partial permutation that corresponds to the action of the object <var class="Arg">obj</var> on the domain or list <var class="Arg">list</var> via the function <var class="Arg">func</var>. If the optional third argument <var class="Arg">func</var> is not specified, then the action <code class="func">OnPoints</code> (<a href="chap41_mj.html#X7FE417DD837987B4"><span class="RefLink">41.2-1</span></a>) is used by default. Note that the returned partial permutation refers to the positions in <var class="Arg">list</var> even if <var class="Arg">list</var> itself consists of integers.</p>

<p>This function is the analogue in the context of partial permutations of <code class="func">Permutation</code> (<a href="chap41_mj.html#X7807A33381DCAB26"><span class="RefLink">41.9-1</span></a>) or <code class="func">TransformationOp</code> (<a href="chap53_mj.html#X7C2A3FC9782F2099"><span class="RefLink">53.2-5</span></a>).</p>

<p>If <var class="Arg">obj</var> does not map the elements of <var class="Arg">list</var> injectively, then <code class="keyw">fail</code> is returned.</p>

<p><code class="func">PartialPermOpNC</code> does not check that <var class="Arg">obj</var> maps elements of <var class="Arg">list</var> injectively or that a partial permutation is defined by the action of <var class="Arg">obj</var> on <var class="Arg">list</var> via <var class="Arg">func</var>. This function should be used only with caution, in situations where it is guaranteed that the arguments have the required properties.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Transformation( [ 9, 10, 4, 2, 10, 5, 9, 10, 9, 6 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">PartialPermOp(f, [ 6 .. 8 ], OnPoints);</span>
[1,4][2,5][3,6]</pre></div>

<p><a id="X80ABBF4883C79060" name="X80ABBF4883C79060"></a></p>

<h5>54.2-3 RestrictedPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RestrictedPartialPerm</code>( <var class="Arg">f</var>, <var class="Arg">set</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: A partial permutation.</p>

<p><code class="code">RestrictedPartialPerm</code> returns a new partial permutation that acts on the points in the set of positive integers <var class="Arg">set</var> in the same way as the partial permutation <var class="Arg">f</var>, and that is undefined on those points that are not in <var class="Arg">set</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 3, 4, 7, 8, 9 ], [ 9, 4, 1, 6, 2, 8 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RestrictedPartialPerm(f, [ 2, 3, 6, 10 ] );</span>
[3,4]</pre></div>

<p><a id="X849668DD7B0B9E3B" name="X849668DD7B0B9E3B"></a></p>

<h5>54.2-4 JoinOfPartialPerms</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; JoinOfPartialPerms</code>( <var class="Arg">arg</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; JoinOfIdempotentPartialPermsNC</code>( <var class="Arg">arg</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>Returns: A partial permutation or <code class="keyw">fail</code>.</p>

<p>The join of partial permutations <var class="Arg">f</var> and <var class="Arg">g</var> is just the join, or supremum, of <var class="Arg">f</var> and <var class="Arg">g</var> under the natural partial ordering of partial permutations.</p>

<p><code class="code">JoinOfPartialPerms</code> returns the union of the partial permutations in its argument if this defines a partial permutation, and <code class="keyw">fail</code> if it is not. The argument <var class="Arg">arg</var> can be a partial permutation collection or a number of partial permutations.</p>

<p>The function <code class="code">JoinOfIdempotentPartialPermsNC</code> returns the join of its argument which is assumed to be a collection of idempotent partial permutations or a number of idempotent partial permutations. It is not checked that the arguments are idempotents. The performance of this function is higher than <code class="code">JoinOfPartialPerms</code> when it is known <em>a priori</em> that the argument consists of idempotents.</p>

<p>The union of <var class="Arg">f</var> and <var class="Arg">g</var> is a partial permutation if and only if <var class="Arg">f</var> and <var class="Arg">g</var> agree on the intersection dom(<var class="Arg">f</var>)<span class="SimpleMath">\(\cap\)</span> dom(<var class="Arg">g</var>) of their domains and the images of dom(<var class="Arg">f</var>)<span class="SimpleMath">\(\setminus\)</span> dom(<var class="Arg">g</var>) and dom(<var class="Arg">g</var>)<span class="SimpleMath">\(\setminus\)</span> dom(<var class="Arg">f</var>) under <var class="Arg">f</var> and <var class="Arg">g</var>, respectively, are disjoint.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2, 3, 6, 8, 10 ], [ 2, 6, 7, 9, 1, 5 ] );</span>
[3,7][8,1,2,6,9][10,5]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">g:=PartialPerm( [ 11, 12, 14, 16, 18, 19 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 17, 20, 11, 19, 14, 12 ] );</span>
[16,19,12,20][18,14,11,17]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">JoinOfPartialPerms(f, g);</span>
[3,7][8,1,2,6,9][10,5][16,19,12,20][18,14,11,17]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 4, 5, 6, 7 ], [ 5, 7, 3, 1, 4 ] );</span>
[6,1,5,3](4,7)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">g:=PartialPerm( [ 100 ], [ 1 ] );</span>
[100,1]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">JoinOfPartialPerms(f, g);</span>
fail
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 3, 4 ], [ 3, 2, 4 ] );</span>
[1,3,2](4)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">g:=PartialPerm( [ 1, 2, 4 ], [ 2, 3, 4 ] );</span>
[1,2,3](4)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">JoinOfPartialPerms(f, g);</span>
fail
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1 ], [ 2 ] ); </span>
[1,2]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">JoinOfPartialPerms(f, f^-1);</span>
(1,2)</pre></div>

<p><a id="X81E2B6977E28CD00" name="X81E2B6977E28CD00"></a></p>

<h5>54.2-5 MeetOfPartialPerms</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; MeetOfPartialPerms</code>( <var class="Arg">arg</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>Returns: A partial permutation.</p>

<p>The meet of partial permutations <var class="Arg">f</var> and <var class="Arg">g</var> is just the meet, or infimum, of <var class="Arg">f</var> and <var class="Arg">g</var> under the natural partial ordering of partial permutations. In other words, the meet is the greatest partial permuation which is a restriction of both <var class="Arg">f</var> and <var class="Arg">g</var>.</p>

<p>Note that unlike the join of partial permutations, the meet always exists.</p>

<p><code class="func">MeetOfPartialPerms</code> returns the meet of the partial permutations in its argument. The argument <var class="Arg">arg</var> can be a partial permutation collection or a number of partial permutations.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2, 3, 6, 100000 ], [ 2, 6, 7, 1, 5 ] );</span>
[3,7][100000,5](1,2,6)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">g:=PartialPerm( [ 1, 2, 3, 4, 6 ], [ 2, 4, 6, 1, 5 ] );</span>
[3,6,5](1,2,4)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">MeetOfPartialPerms(f, g);</span>
[1,2]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">g:=PartialPerm( [ 1, 2, 3, 5, 6, 7, 9, 10 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 4, 10, 5, 6, 7, 1, 3, 2 ] );</span>
[9,3,5,6,7,1,4](2,10)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">MeetOfPartialPerms(f, g);</span>
&lt;empty partial perm&gt;</pre></div>

<p><a id="X80EFB142817A0A9F" name="X80EFB142817A0A9F"></a></p>

<h5>54.2-6 EmptyPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; EmptyPartialPerm</code>(  )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>Returns: The empty partial permutation.</p>

<p>The empty partial permutation is returned by this function when it is called with no arguments. This is just short hand for <code class="code">PartialPerm([]);</code>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">EmptyPartialPerm();</span>
&lt;empty partial perm&gt;</pre></div>

<p><a id="X7E6ADC8583C31530" name="X7E6ADC8583C31530"></a></p>

<h5>54.2-7 <span class="Heading">RandomPartialPerm</span></h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RandomPartialPerm</code>( <var class="Arg">n</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RandomPartialPerm</code>( <var class="Arg">set</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RandomPartialPerm</code>( <var class="Arg">dom</var>, <var class="Arg">img</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>Returns: A random partial permutation.</p>

<p>In its first form, <code class="code">RandomPartialPerm</code> returns a randomly chosen partial permutation where points in the domain and image are bounded above by the positive integer <var class="Arg">n</var>.</p>


<div class="example"><pre><span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RandomPartialPerm(10);  </span>
[2,9][4,1,6,5][7,3](8)</pre></div>

<p>In its second form, <code class="code">RandomPartialPerm</code> returns a randomly chosen partial permutation with points in the domain and image contained in the set of positive integers <var class="Arg">set</var>.</p>


<div class="example"><pre><span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RandomPartialPerm([1,2,3,1000]);</span>
[2,3,1000](1)</pre></div>

<p>In its third form, <code class="code">RandomPartialPerm</code> creates a randomly chosen partial permutation with domain contained in the set of positive integers <var class="Arg">dom</var> and image contained in the set of positive integers <var class="Arg">img</var>. The arguments <var class="Arg">dom</var> and <var class="Arg">img</var> do not have to have equal length.</p>

<p>Note that it is not guarenteed in either of these cases that partial permutations are chosen with a uniform distribution.</p>

<p><a id="X8779F0997D0FDA78" name="X8779F0997D0FDA78"></a></p>

<h4>54.3 <span class="Heading">Attributes for partial permutations</span></h4>

<p>In this section we describe the functions available in <strong class="pkg">GAP</strong> for finding various attributes of partial permutations.</p>

<p><a id="X8612A4DC864E7959" name="X8612A4DC864E7959"></a></p>

<h5>54.3-1 DegreeOfPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; DegreeOfPartialPerm</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; DegreeOfPartialPermCollection</code>( <var class="Arg">coll</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>Returns: A non-negative integer.</p>

<p>The <em>degree</em> of a partial permutation <var class="Arg">f</var> is the largest positive integer where it is defined, i.e. the maximum element in the domain of <var class="Arg">f</var>.</p>

<p>The degree a collection of partial permutations <var class="Arg">coll</var> is the largest degree of any partial permutation in <var class="Arg">coll</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2, 3, 6, 8, 10 ], [ 2, 6, 7, 9, 1, 5 ] );</span>
[3,7][8,1,2,6,9][10,5]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">DegreeOfPartialPerm(f);</span>
10</pre></div>

<p><a id="X8413D0EF7DEE1FFF" name="X8413D0EF7DEE1FFF"></a></p>

<h5>54.3-2 CodegreeOfPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; CodegreeOfPartialPerm</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; CodegreeOfPartialPermCollection</code>( <var class="Arg">coll</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>Returns: A non-negative integer.</p>

<p>The <em>codegree</em> of a partial permutation <var class="Arg">f</var> is the largest positive integer in its image.</p>

<p>The codegree a collection of partial permutations <var class="Arg">coll</var> is the largest codegree of any partial permutation in <var class="Arg">coll</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2, 3, 4, 5, 8, 10 ], [ 7, 1, 4, 3, 2, 6, 5 ] );</span>
[8,6][10,5,2,1,7](3,4)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">CodegreeOfPartialPerm(f);</span>
7</pre></div>

<p><a id="X7C1ABD8A80E95B39" name="X7C1ABD8A80E95B39"></a></p>

<h5>54.3-3 RankOfPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RankOfPartialPerm</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RankOfPartialPermCollection</code>( <var class="Arg">coll</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>Returns: A non-negative integer.</p>

<p>The <em>rank</em> of a partial permutation <var class="Arg">f</var> is the size of its domain, or equivalently the size of its image set or image list.</p>

<p>The rank of a partial permutation collection <var class="Arg">coll</var> is the size of the union of the domains of the elements of <var class="Arg">coll</var>, or equivalently, the total number of points on which the elements of <var class="Arg">coll</var> act. Note that this is value may not the same as the size of the union of the images of the elements in <var class="Arg">coll</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2, 4, 6, 8, 9 ], [ 7, 10, 1, 9, 4, 2 ] );</span>
[6,9,2,10][8,4,1,7]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RankOfPartialPerm(f);</span>
6</pre></div>

<p><a id="X784A14F787E041D7" name="X784A14F787E041D7"></a></p>

<h5>54.3-4 DomainOfPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; DomainOfPartialPerm</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; DomainOfPartialPermCollection</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>Returns: A set of positive integers (maybe empty).</p>

<p>The <em>domain</em> of a partial permutation <var class="Arg">f</var> is the set of positive integers where <var class="Arg">f</var> is defined.</p>

<p>The domain of a partial permutation collection <var class="Arg">coll</var> is the union of the domains of its elements.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2, 3, 6, 8, 10 ], [ 2, 6, 7, 9, 1, 5 ] );</span>
[3,7][8,1,2,6,9][10,5]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">DomainOfPartialPerm(f);</span>
[ 1, 2, 3, 6, 8, 10 ]</pre></div>

<p><a id="X7CD84B107831E0FC" name="X7CD84B107831E0FC"></a></p>

<h5>54.3-5 ImageOfPartialPermCollection</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ImageOfPartialPermCollection</code>( <var class="Arg">coll</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>Returns: A set of positive integers (maybe empty).</p>

<p>The <em>image</em> of a partial permutation collection <var class="Arg">coll</var> is the union of the images of its elements.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S := SymmetricInverseSemigroup(5);                                </span>
&lt;symmetric inverse monoid of degree 5&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ImageOfPartialPermCollection(GeneratorsOfInverseSemigroup(S));</span>
[ 1 .. 5 ]</pre></div>

<p><a id="X8333293F87F654FA" name="X8333293F87F654FA"></a></p>

<h5>54.3-6 ImageListOfPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ImageListOfPartialPerm</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>Returns: The list of images of a partial permutation.</p>

<p>The <em>image list</em> of a partial permutation <var class="Arg">f</var> is the list of images of the elements of the domain <var class="Arg">f</var> where <code class="code">ImageListOfPartialPerm(<var class="Arg">f</var>)[i]=DomainOfPartialPerm(<var class="Arg">f</var>)[i]^<var class="Arg">f</var></code> for any <code class="code">i</code> in the range from <code class="code">1</code> to the rank of <var class="Arg">f</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2, 3, 4, 5, 8, 10 ], [ 7, 1, 4, 3, 2, 6, 5 ] );</span>
[8,6][10,5,2,1,7](3,4)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ImageListOfPartialPerm(f);</span>
[ 7, 1, 4, 3, 2, 6, 5 ]</pre></div>

<p><a id="X7F0724A07A14DCF7" name="X7F0724A07A14DCF7"></a></p>

<h5>54.3-7 ImageSetOfPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ImageSetOfPartialPerm</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>Returns: The image set of a partial permutation.</p>

<p>The <em>image set</em> of a partial permutation <code class="code">f</code> is just the set of points in the image list (i.e. the image list after it has been sorted into increasing order).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2, 3, 5, 7, 10 ], [ 10, 2, 3, 5, 7, 6 ] );</span>
[1,10,6](2)(3)(5)(7)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ImageSetOfPartialPerm(f);</span>
[ 2, 3, 5, 6, 7, 10 ]</pre></div>

<p><a id="X82AAFF938623422E" name="X82AAFF938623422E"></a></p>

<h5>54.3-8 FixedPointsOfPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; FixedPointsOfPartialPerm</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; FixedPointsOfPartialPerm</code>( <var class="Arg">coll</var> )</td><td class="tdright">(&nbsp;method&nbsp;)</td></tr></table></div>
<p>Returns: A set of positive integers.</p>

<p><code class="code">FixedPointsOfPartialPerm</code> returns the set of points <code class="code">i</code> in the domain of the partial permutation <var class="Arg">f</var> such that <code class="code">i^<var class="Arg">f</var>=i</code>.</p>

<p>When the argument is a collection of partial permutations <var class="Arg">coll</var>, <code class="code">FixedPointsOfPartialPerm</code> returns the set of points fixed by every element of the collection of partial permutations <var class="Arg">coll</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f := PartialPerm( [ 1, 2, 3, 6, 7 ], [ 1, 3, 4, 7, 5 ] );</span>
[2,3,4][6,7,5](1)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">FixedPointsOfPartialPerm(f);</span>
[ 1 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f := PartialPerm([1 .. 10]);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">FixedPointsOfPartialPerm(f);</span>
[ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 ]</pre></div>

<p><a id="X82FE981A87FAA2DC" name="X82FE981A87FAA2DC"></a></p>

<h5>54.3-9 MovedPoints</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; MovedPoints</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; MovedPoints</code>( <var class="Arg">coll</var> )</td><td class="tdright">(&nbsp;method&nbsp;)</td></tr></table></div>
<p>Returns: A set of positive integers.</p>

<p><code class="code">MovedPoints</code> returns the set of points <code class="code">i</code> in the domain of the partial permutation <var class="Arg">f</var> such that <code class="code">i^<var class="Arg">f</var>&lt;&gt;i</code>.</p>

<p>When the argument is a collection of partial permutations <var class="Arg">coll</var>, <code class="code">MovedPoints</code> returns the set of points moved by some element of the collection of partial permutations <var class="Arg">coll</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f := PartialPerm( [ 1, 2, 3, 4 ], [ 5, 7, 1, 6 ] );</span>
[2,7][3,1,5][4,6]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">MovedPoints(f);</span>
[ 1, 2, 3, 4 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">FixedPointsOfPartialPerm(f);</span>
[  ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">FixedPointsOfPartialPerm(PartialPerm([1 .. 4]));</span>
[ 1, 2, 3, 4 ]</pre></div>

<p><a id="X7FAF969C84CDC742" name="X7FAF969C84CDC742"></a></p>

<h5>54.3-10 NrFixedPoints</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NrFixedPoints</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NrFixedPoints</code>( <var class="Arg">coll</var> )</td><td class="tdright">(&nbsp;method&nbsp;)</td></tr></table></div>
<p>Returns: A positive integer.</p>

<p><code class="code">NrFixedPoints</code> returns the number of points <code class="code">i</code> in the domain of the partial permutation <var class="Arg">f</var> such that <code class="code">i^<var class="Arg">f</var>=i</code>.</p>

<p>When the argument is a collection of partial permutations <var class="Arg">coll</var>, <code class="code">NrFixedPoints</code> returns the number of points fixed by every element of the collection of partial permutations <var class="Arg">coll</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f := PartialPerm( [ 1, 2, 3, 4, 5 ], [ 3, 2, 4, 6, 1 ] );</span>
[5,1,3,4,6](2)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NrFixedPoints(f);</span>
1
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NrFixedPoints(PartialPerm([1 .. 10]));</span>
10</pre></div>

<p><a id="X81F5C64E7DAD27A7" name="X81F5C64E7DAD27A7"></a></p>

<h5>54.3-11 NrMovedPoints</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NrMovedPoints</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NrMovedPoints</code>( <var class="Arg">coll</var> )</td><td class="tdright">(&nbsp;method&nbsp;)</td></tr></table></div>
<p>Returns: A positive integer.</p>

<p><code class="code">NrMovedPoints</code> returns the number of points <code class="code">i</code> in the domain of the partial permutation <var class="Arg">f</var> such that <code class="code">i^<var class="Arg">f</var>&lt;&gt;i</code>.</p>

<p>When the argument is a collection of partial permutations <var class="Arg">coll</var>, <code class="code">NrMovedPoints</code> returns the number of points moved by some element of the collection of partial permutations <var class="Arg">coll</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f := PartialPerm( [ 1, 2, 3, 4, 5, 7, 8 ], [ 4, 5, 6, 7, 1, 3, 2 ] );</span>
[8,2,5,1,4,7,3,6]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NrMovedPoints(f);</span>
7
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NrMovedPoints(PartialPerm([1 .. 4]));</span>
0</pre></div>

<p><a id="X84A49C977E1E29AA" name="X84A49C977E1E29AA"></a></p>

<h5>54.3-12 SmallestMovedPoint</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; SmallestMovedPoint</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; SmallestMovedPoint</code>( <var class="Arg">coll</var> )</td><td class="tdright">(&nbsp;method&nbsp;)</td></tr></table></div>
<p>Returns: A positive integer or <code class="keyw">infinity</code>.</p>

<p><code class="code">SmallestMovedPoint</code> returns the smallest positive integer <code class="code">i</code> such that <code class="code">i^<var class="Arg">f</var>&lt;&gt;i</code> if such an <code class="code">i</code> exists. If <var class="Arg">f</var> is an identity partial permutation, then <code class="keyw">infinity</code> is returned.</p>

<p>If the argument is a collection of partial permutations <var class="Arg">coll</var>, then the smallest point which is moved by at least one element of <var class="Arg">coll</var> is returned, if such a point exists. If <var class="Arg">coll</var> only contains identity partial permutations, then <code class="code">SmallestMovedPoint</code> returns <code class="keyw">infinity</code>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f := PartialPerm( [ 1, 3 ], [ 4, 3 ] );</span>
[1,4](3)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SmallestMovedPoint(f);</span>
1
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SmallestMovedPoint(PartialPerm([1 .. 10]));</span>
infinity</pre></div>

<p><a id="X7D4290A785ABC86D" name="X7D4290A785ABC86D"></a></p>

<h5>54.3-13 LargestMovedPoint</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; LargestMovedPoint</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; LargestMovedPoint</code>( <var class="Arg">coll</var> )</td><td class="tdright">(&nbsp;method&nbsp;)</td></tr></table></div>
<p>Returns: A positive integer or <code class="keyw">infinity</code>.</p>

<p><code class="code">LargestMovedPoint</code> returns the largest positive integers <code class="code">i</code> such that <code class="code">i^<var class="Arg">f</var>&lt;&gt;i</code> if such an <code class="code">i</code> exists. If <var class="Arg">f</var> is the identity partial permutation, then <code class="code">0</code> is returned.</p>

<p>If the argument is a collection of partial permutations <var class="Arg">coll</var>, then the largest point which is moved by at least one element of <var class="Arg">coll</var> is returned, if such a point exists. If <var class="Arg">coll</var> only contains identity partial permutations, then <code class="code">LargestMovedPoint</code> returns <code class="code">0</code>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f := PartialPerm( [ 1, 3, 4, 5 ], [ 5, 1, 6, 4 ] );</span>
[3,1,5,4,6]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">LargestMovedPoint(f);</span>
5
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">LargestMovedPoint(PartialPerm([1 .. 10]));</span>
0</pre></div>

<p><a id="X85280F1A7B1014BA" name="X85280F1A7B1014BA"></a></p>

<h5>54.3-14 SmallestImageOfMovedPoint</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; SmallestImageOfMovedPoint</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; SmallestImageOfMovedPoint</code>( <var class="Arg">coll</var> )</td><td class="tdright">(&nbsp;method&nbsp;)</td></tr></table></div>
<p>Returns: A positive integer or <code class="keyw">infinity</code>.</p>

<p><code class="code">SmallestImageOfMovedPoint</code> returns the smallest positive integer <code class="code">i^<var class="Arg">f</var></code> such that <code class="code">i^<var class="Arg">f</var>&lt;&gt;i</code> if such an <code class="code">i</code> exists. If <var class="Arg">f</var> is the identity partial permutation, then <code class="keyw">infinity</code> is returned.</p>

<p>If the argument is a collection of partial permutations <var class="Arg">coll</var>, then the smallest integer which is the image a point moved by at least one element of <var class="Arg">coll</var> is returned, if such a point exists. If <var class="Arg">coll</var> only contains identity partial permutations, then <code class="code">SmallestImageOfMovedPoint</code> returns <code class="keyw">infinity</code>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S := SymmetricInverseSemigroup(5);</span>
&lt;symmetric inverse monoid of degree 5&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SmallestImageOfMovedPoint(S);</span>
1
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S := Semigroup(PartialPerm([10 .. 100], [10 .. 100]));;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SmallestImageOfMovedPoint(S);</span>
infinity
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f := PartialPerm( [ 1, 2, 3, 6 ] );</span>
[4,6](1)(2)(3)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SmallestImageOfMovedPoint(f);</span>
6</pre></div>

<p><a id="X7A95CD437BC1CB1A" name="X7A95CD437BC1CB1A"></a></p>

<h5>54.3-15 LargestImageOfMovedPoint</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; LargestImageOfMovedPoint</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; LargestImageOfMovedPoint</code>( <var class="Arg">coll</var> )</td><td class="tdright">(&nbsp;method&nbsp;)</td></tr></table></div>
<p>Returns: A positive integer.</p>

<p><code class="code">LargestImageOfMovedPoint</code> returns the largest positive integer <code class="code">i^<var class="Arg">f</var></code> such that <code class="code">i^<var class="Arg">f</var>&lt;&gt;i</code> if such an <code class="code">i</code> exists. If <var class="Arg">f</var> is an identity partial permutation, then <code class="code">0</code> is returned.</p>

<p>If the argument is a collection of partial permutations <var class="Arg">coll</var>, then the largest integer which is the image of a point moved by at least one element of <var class="Arg">coll</var> is returned, if such a point exists. If <var class="Arg">coll</var> only contains identity partial permutations, then <code class="code">LargestImageOfMovedPoint</code> returns <code class="code">0</code>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S := SymmetricInverseSemigroup(5);</span>
&lt;symmetric inverse monoid of degree 5&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">LargestImageOfMovedPoint(S);</span>
5
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S := Semigroup(PartialPerm([10 .. 100], [10 .. 100]));;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">LargestImageOfMovedPoint(S);</span>
0
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f := PartialPerm( [ 1, 2, 3, 6 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">LargestImageOfMovedPoint(f);</span>
6</pre></div>

<p><a id="X873A9F717DA75CBC" name="X873A9F717DA75CBC"></a></p>

<h5>54.3-16 IndexPeriodOfPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IndexPeriodOfPartialPerm</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>Returns: A pair of positive integers.</p>

<p>Returns the least positive integers <code class="code">m, r</code> such that <code class="code"><var class="Arg">f</var>^(m+r)=<var class="Arg">f</var>^m</code>, which are known as the <em>index</em> and <em>period</em> of the partial permutation <var class="Arg">f</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2, 3, 5, 6, 7, 8, 11, 12, 16, 19 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 9, 18, 20, 11, 5, 16, 8, 19, 14, 13, 1 ] );</span>
[2,18][3,20][6,5,11,19,1,9][7,16,13][12,14](8)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IndexPeriodOfPartialPerm(f);</span>
[ 6, 1 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f^6=f^7;</span>
true</pre></div>

<p><a id="X7C04AA377F080722" name="X7C04AA377F080722"></a></p>

<h5>54.3-17 SmallestIdempotentPower</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; SmallestIdempotentPower</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>Returns: A positive integer.</p>

<p>This function returns the least positive integer <code class="code">n</code> such that the partial permutation <code class="code"><var class="Arg">f</var>^n</code> is an idempotent. The smallest idempotent power of <var class="Arg">f</var> is the least multiple of the period of <var class="Arg">f</var> that is greater than or equal to the index of <var class="Arg">f</var>; see <code class="func">IndexPeriodOfPartialPerm</code> (<a href="chap54_mj.html#X873A9F717DA75CBC"><span class="RefLink">54.3-16</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2, 3, 4, 5, 7, 8, 10, 11, 13, 18, 19, 20 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 5, 1, 7, 3, 10, 2, 12, 14, 11, 16, 6, 9, 15 ] );</span>
[4,3,7,2,1,5,10,14][8,12][13,16][18,6][19,9][20,15](11)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SmallestIdempotentPower(f);</span>
8
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f^8;</span>
&lt;identity partial perm on [ 11 ]&gt;</pre></div>

<p><a id="X8185065E788BDD0D" name="X8185065E788BDD0D"></a></p>

<h5>54.3-18 ComponentsOfPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ComponentsOfPartialPerm</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>Returns: A list of lists of positive integer.</p>

<p><code class="code">ComponentsOfPartialPerm</code> returns a list of the components of the partial permutation <var class="Arg">f</var>. Each component is a subset of the domain of <var class="Arg">f</var>, and the union of the components equals the domain.</p>


<div class="example"><pre> 
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2, 3, 4, 5, 7, 8, 10, 11, 12, 13, 19 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 20, 4, 6, 19, 9, 14, 3, 12, 17, 5, 15, 13 ] );</span>
[1,20][2,4,19,13,15][7,14][8,3,6][10,12,5,9][11,17]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ComponentsOfPartialPerm(f);</span>
[ [ 1, 20 ], [ 2, 4, 19, 13, 15 ], [ 7, 14 ], [ 8, 3, 6 ], 
  [ 10, 12, 5, 9 ], [ 11, 17 ] ]</pre></div>

<p><a id="X7CB51EB67FFA95E9" name="X7CB51EB67FFA95E9"></a></p>

<h5>54.3-19 NrComponentsOfPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NrComponentsOfPartialPerm</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>Returns: A positive integer.</p>

<p><code class="code">NrComponentsOfPartialPerm</code> returns the number of components of the partial permutation <var class="Arg">f</var> on its domain.</p>


<div class="example"><pre> 
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2, 3, 4, 5, 7, 8, 10, 11, 12, 13, 19 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 20, 4, 6, 19, 9, 14, 3, 12, 17, 5, 15, 13 ] );</span>
[1,20][2,4,19,13,15][7,14][8,3,6][10,12,5,9][11,17]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NrComponentsOfPartialPerm(f);</span>
6</pre></div>

<p><a id="X7AAAAE4082B30E18" name="X7AAAAE4082B30E18"></a></p>

<h5>54.3-20 ComponentRepsOfPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ComponentRepsOfPartialPerm</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>Returns: A list of positive integers.</p>

<p><code class="code">ComponentRepsOfPartialPerm</code> returns the representatives, in the following sense, of the components of the partial permutation <var class="Arg">f</var>. Every component of <var class="Arg">f</var> contains a unique element in the domain but not the image of <var class="Arg">f</var>; this element is called the <em>representative</em> of the component. If <code class="code">i</code> is a representative of a component of <var class="Arg">f</var>, then for every <code class="code">j</code><span class="SimpleMath">\(\not=\)</span><code class="code">i</code> in the component of <code class="code">i</code>, there exists a positive integer <code class="code">k</code> such that <code class="code">i ^ (<var class="Arg">f</var> ^ k) = j</code>. Unlike transformations, there is exactly one representative for every component of <var class="Arg">f</var>. <code class="code">ComponentRepsOfPartialPerm</code> returns the least number of representatives.</p>


<div class="example"><pre> 
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2, 3, 4, 5, 7, 8, 10, 11, 12, 13, 19 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 20, 4, 6, 19, 9, 14, 3, 12, 17, 5, 15, 13 ] );</span>
[1,20][2,4,19,13,15][7,14][8,3,6][10,12,5,9][11,17]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ComponentRepsOfPartialPerm(f);</span>
[ 1, 2, 7, 8, 10, 11 ]</pre></div>

<p><a id="X7A8FB86C78C49F85" name="X7A8FB86C78C49F85"></a></p>

<h5>54.3-21 LeftOne</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; LeftOne</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RightOne</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>Returns: A partial permutation.</p>

<p><code class="code">LeftOne</code> returns the identity partial permutation <code class="code">e</code> such that the domain and image of <code class="code">e</code> equal the domain of the partial permutation <var class="Arg">f</var> and such that <code class="code">e*<var class="Arg">f</var>=f</code>.</p>

<p><code class="code">RightOne</code> returns the identity partial permutation <code class="code">e</code> such that the domain and image of <code class="code">e</code> equal the image of <var class="Arg">f</var> and such that <code class="code"><var class="Arg">f</var>*e=f</code>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2, 4, 5, 6, 7 ], [ 10, 1, 6, 5, 8, 7 ] ); </span>
[2,1,10][4,6,8](5)(7)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RightOne(f);</span>
&lt;identity partial perm on [ 1, 5, 6, 7, 8, 10 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">LeftOne(f);</span>
&lt;identity partial perm on [ 1, 2, 4, 5, 6, 7 ]&gt;</pre></div>

<p><a id="X857FC10C81507E8B" name="X857FC10C81507E8B"></a></p>

<h5>54.3-22 One</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; One</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;method&nbsp;)</td></tr></table></div>
<p>Returns: A partial permutation.</p>

<p>As described in <code class="func">OneImmutable</code> (<a href="chap31_mj.html#X8046262384895B2A"><span class="RefLink">31.10-2</span></a>), <code class="code">One</code> returns the multiplicative neutral element of the partial permutation <var class="Arg">f</var>, which is the identity partial permutation on the union of the domain and image of <var class="Arg">f</var>. Equivalently, the one of <var class="Arg">f</var> is the join of the right one and left one of <var class="Arg">f</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm([ 1, 2, 3, 4, 5, 7, 10 ], [ 3, 7, 9, 6, 1, 10, 2 ]);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">One(f);</span>
&lt;identity partial perm on [ 1, 2, 3, 4, 5, 6, 7, 9, 10 ]&gt;</pre></div>

<p><a id="X7D90CF497D58D759" name="X7D90CF497D58D759"></a></p>

<h5>54.3-23 MultiplicativeZero</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; MultiplicativeZero</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;method&nbsp;)</td></tr></table></div>
<p>Returns: The empty partial permutation.</p>

<p>As described in <code class="func">MultiplicativeZero</code> (<a href="chap35_mj.html#X7B39F93C8136D642"><span class="RefLink">35.4-11</span></a>), <code class="code">Zero</code> returns the multiplicative zero element of the partial permutation <var class="Arg">f</var>, which is the empty partial permutation.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f := PartialPerm([ 1, 2, 3, 4, 5, 7, 10 ], [ 3, 7, 9, 6, 1, 10, 2 ]);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">MultiplicativeZero(f);</span>
&lt;empty partial perm&gt;</pre></div>

<p><a id="X8585AA8B78E9CDFB" name="X8585AA8B78E9CDFB"></a></p>

<h4>54.4 <span class="Heading">Changing the representation of a partial permutation</span></h4>

<p>It is possible that a partial permutation in <strong class="pkg">GAP</strong> can be represented by other types of objects, or that other types of <strong class="pkg">GAP</strong> objects can be represented by partial permutations. Partial permutations which are mathematically permutations can be converted into permutations in <strong class="pkg">GAP</strong> using the function <code class="func">AsPermutation</code> (<a href="chap42_mj.html#X8353AB8987E35DF3"><span class="RefLink">42.5-6</span></a>). Similarly, a partial permutation can be converted into a transformation using <code class="func">AsTransformation</code> (<a href="chap53_mj.html#X7C5360B2799943F3"><span class="RefLink">53.3-1</span></a>).</p>

<p>In this section we describe functions for converting other types of objects in <strong class="pkg">GAP</strong> into partial permutations.</p>

<p><a id="X81B32CB182489ACA" name="X81B32CB182489ACA"></a></p>

<h5>54.4-1 AsPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; AsPartialPerm</code>( <var class="Arg">f</var>, <var class="Arg">set</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; AsPartialPerm</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;method&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; AsPartialPerm</code>( <var class="Arg">f</var>, <var class="Arg">n</var> )</td><td class="tdright">(&nbsp;method&nbsp;)</td></tr></table></div>
<p>Returns: A partial permutation.</p>

<p>A permutation <var class="Arg">f</var> defines a partial permutation when it is restricted to any finite set of positive integers. <code class="code">AsPartialPerm</code> can be used to obtain this partial permutation.</p>

<p>There are several possible arguments for <code class="code">AsPartialPerm</code>:</p>


<dl>
<dt><strong class="Mark">for a permutation and set of positive integers</strong></dt>
<dd><p><code class="code">AsPartialPerm</code> returns the partial permutation that equals <var class="Arg">f</var> on the set of positive integers <var class="Arg">set</var> and that is undefined on every other positive integer.</p>

<p>Note that as explained in <code class="func">PartialPerm</code> (<a href="chap54_mj.html#X8538BAE77F2FB2F8"><span class="RefLink">54.2-1</span></a>) <em>a permutation is never a partial permutation</em> in <strong class="pkg">GAP</strong>, please keep this in mind when using <code class="code">AsPartialPerm</code>.</p>

</dd>
<dt><strong class="Mark">for a permutation</strong></dt>
<dd><p><code class="code">AsPartialPerm</code> returns the partial permutation that agrees with <var class="Arg">f</var> on <code class="code">[1..LargestMovedPoint(<var class="Arg">f</var>)]</code> and that is not defined on any other positive integer.</p>

</dd>
<dt><strong class="Mark">for a permutation and a positive integer</strong></dt>
<dd><p><code class="code">AsPartialPerm</code> returns the partial permutation that agrees with <var class="Arg">f</var> on <code class="code">[1..<var class="Arg">n</var>]</code>, when <var class="Arg">n</var> is a positive integer, and that is not defined on any other positive integer.</p>

</dd>
</dl>
<p>The operation <code class="func">PartialPermOp</code> (<a href="chap54_mj.html#X81188D9F83F64222"><span class="RefLink">54.2-2</span></a>) can also be used to convert permutations into partial permutations.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=(2,8,19,9,14,10,20,17,4,13,12,3,5,7,18,16);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsPartialPerm(f);</span>
(1)(2,8,19,9,14,10,20,17,4,13,12,3,5,7,18,16)(6)(11)(15)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsPartialPerm(f, [ 1, 2, 3 ] );</span>
[2,8][3,5](1)</pre></div>

<p><a id="X87EC67747B260E98" name="X87EC67747B260E98"></a></p>

<h5>54.4-2 AsPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; AsPartialPerm</code>( <var class="Arg">f</var>, <var class="Arg">set</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; AsPartialPerm</code>( <var class="Arg">f</var>, <var class="Arg">n</var> )</td><td class="tdright">(&nbsp;method&nbsp;)</td></tr></table></div>
<p>Returns: A partial permutation or <code class="keyw">fail</code>.</p>

<p>A transformation <var class="Arg">f</var> defines a partial permutation when it is restricted to a set of positive integers where it is injective. <code class="code">AsPartialPerm</code> can be used to obtain this partial permutation.</p>

<p>There are several possible arguments for <code class="code">AsPartialPerm</code>:</p>


<dl>
<dt><strong class="Mark">for a transformation and set of positive integers</strong></dt>
<dd><p><code class="code">AsPartialPerm</code> returns the partial permutation obtained by restricting <var class="Arg">f</var> to the set of positive integers <var class="Arg">set</var> when:</p>


<ul>
<li><p><var class="Arg">set</var> contains no elements exceeding the degree of <var class="Arg">f</var>;</p>

</li>
<li><p><var class="Arg">f</var> is injective on <var class="Arg">set</var>.</p>

</li>
</ul>
</dd>
<dt><strong class="Mark">for a transformation and a positive integer</strong></dt>
<dd><p><code class="code">AsPartialPerm</code> returns the partial permutation that agrees with <var class="Arg">f</var> on <code class="code">[1..<var class="Arg">n</var>]</code> when <var class="Arg">A</var> is a positive integer and this set satisfies the conditions given above.</p>

</dd>
</dl>
<p>The operation <code class="func">PartialPermOp</code> (<a href="chap54_mj.html#X81188D9F83F64222"><span class="RefLink">54.2-2</span></a>) can also be used to convert transformations into partial permutations.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Transformation( [ 8, 3, 5, 9, 6, 2, 9, 7, 9 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsPartialPerm(f, [1, 2, 3, 5, 8]);</span>
[1,8,7][2,3,5,6]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsPartialPerm(f, 3);</span>
[1,8][2,3,5]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsPartialPerm(f, [ 2 .. 4 ] );</span>
[2,3,5][4,9]</pre></div>

<p><a id="X848CD855802C6CE1" name="X848CD855802C6CE1"></a></p>

<h4>54.5 <span class="Heading">Operators and operations for partial permutations</span></h4>


<dl>
<dt><strong class="Mark"><code class="code"><var class="Arg">f</var> ^ -1</code></strong></dt>
<dd><p>returns the inverse of the partial permutation <var class="Arg">f</var>.</p>

</dd>
<dt><strong class="Mark"><code class="code"><var class="Arg">i</var> ^ <var class="Arg">f</var></code></strong></dt>
<dd><p>returns the image of the positive integer <var class="Arg">i</var> under the partial permutation <var class="Arg">f</var> if it is defined and <code class="code">0</code> if it is not.</p>

</dd>
<dt><strong class="Mark"><code class="code"><var class="Arg">i</var> / <var class="Arg">f</var></code></strong></dt>
<dd><p>returns the preimage of the positive integer <var class="Arg">i</var> under the partial permutation <var class="Arg">f</var> if it is defined and <code class="code">0</code> if it is not. Note that the inverse of <var class="Arg">f</var> is not calculated to find the preimage of <var class="Arg">i</var>.</p>

</dd>
<dt><strong class="Mark"><code class="code"><var class="Arg">f</var> ^ <var class="Arg">g</var></code></strong></dt>
<dd><p>returns <code class="code"><var class="Arg">g</var>^-1*<var class="Arg">f</var>*<var class="Arg">g</var></code> when <var class="Arg">f</var> is a partial permutation and <var class="Arg">g</var> is a permutation or partial permutation; see <code class="func">\^</code> (<a href="chap31_mj.html#X8481C9B97B214C23"><span class="RefLink">31.12-1</span></a>). This operation requires essentially the same number of steps as multiplying partial permutations, which is around one third as many as inverting and multiplying twice.</p>

</dd>
<dt><strong class="Mark"><code class="code"><var class="Arg">f</var> * <var class="Arg">g</var></code></strong></dt>
<dd><p>returns the composition of <var class="Arg">f</var> and <var class="Arg">g</var> when <var class="Arg">f</var> and <var class="Arg">g</var> are partial permutations or permutations. The product of a permutation and a partial permutation is returned as a partial permutation.</p>

</dd>
<dt><strong class="Mark"><code class="code"><var class="Arg">f</var> / <var class="Arg">g</var></code></strong></dt>
<dd><p>returns <code class="code"><var class="Arg">f</var>*<var class="Arg">g</var>^-1</code> when <var class="Arg">f</var> is a partial permutation and <var class="Arg">g</var> is a permutation or partial permutation. This operation requires essentially the same number of steps as multiplying partial permutations, which is approximately half that required to first invert <var class="Arg">g</var> and then take the product with <var class="Arg">f</var>.</p>

</dd>
<dt><strong class="Mark"><code class="code">LQUO(<var class="Arg">g</var>, <var class="Arg">f</var>)</code></strong></dt>
<dd><p>returns <code class="code"><var class="Arg">g</var>^-1*<var class="Arg">f</var></code> when <var class="Arg">f</var> is a partial permutation and <var class="Arg">g</var> is a permutation or partial permutation. This operation requires essentially the same number of steps as multiplying partial permutations, which is approximately half that required to first invert <var class="Arg">g</var> and then take the product with <var class="Arg">f</var>.</p>

</dd>
<dt><strong class="Mark"><code class="code"><var class="Arg">f</var> &lt; <var class="Arg">g</var></code></strong></dt>
<dd><p>returns <code class="keyw">true</code> if the image of <var class="Arg">f</var> on the range from 1 to the degree of <var class="Arg">f</var> is lexicographically less than the corresponding image for <var class="Arg">g</var> and <code class="keyw">false</code> if it is not. See <code class="func">NaturalLeqPartialPerm</code> (<a href="chap54_mj.html#X87B1ED93785257C1"><span class="RefLink">54.5-4</span></a>) and <code class="func">ShortLexLeqPartialPerm</code> (<a href="chap54_mj.html#X81BD69307D294A1C"><span class="RefLink">54.5-5</span></a>) for additional orders for partial permutations.</p>

</dd>
<dt><strong class="Mark"><code class="code"><var class="Arg">f</var> = <var class="Arg">g</var></code></strong></dt>
<dd><p>returns <code class="keyw">true</code> if the partial permutation <var class="Arg">f</var> equals the partial permutation <var class="Arg">g</var> and returns <code class="keyw">false</code> if it does not.</p>

</dd>
</dl>
<p><a id="X8382A0F8875CEB08" name="X8382A0F8875CEB08"></a></p>

<h5>54.5-1 PermLeftQuoPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; PermLeftQuoPartialPerm</code>( <var class="Arg">f</var>, <var class="Arg">g</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; PermLeftQuoPartialPermNC</code>( <var class="Arg">f</var>, <var class="Arg">g</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: A permutation.</p>

<p>Returns the permutation on the image set of <var class="Arg">f</var> induced by <code class="code"><var class="Arg">f</var>^-1*<var class="Arg">g</var></code> when the partial permutations <var class="Arg">f</var> and <var class="Arg">g</var> have equal domain and image set.</p>

<p><code class="code">PermLeftQuoPartialPerm</code> verifies that <var class="Arg">f</var> and <var class="Arg">g</var> have equal domains and image sets, and returns an error if they do not. <code class="code">PermLeftQuoPartialPermNC</code> does no checks.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2, 3, 4, 5, 7 ], [ 7, 9, 10, 4, 2, 5 ] );</span>
[1,7,5,2,9][3,10](4)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">g:=PartialPerm( [ 1, 2, 3, 4, 5, 7 ], [ 7, 4, 9, 2, 5, 10 ] );</span>
[1,7,10][3,9](2,4)(5)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">PermLeftQuoPartialPerm(f, g);</span>
(2,5,10,9,4)</pre></div>

<p><a id="X7C7F5EAB7E9A381D" name="X7C7F5EAB7E9A381D"></a></p>

<h5>54.5-2 PreImagePartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; PreImagePartialPerm</code>( <var class="Arg">f</var>, <var class="Arg">i</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: A positive integer or <code class="keyw">fail</code>.</p>

<p><code class="code">PreImagePartialPerm</code> returns the preimage of the positive integer <var class="Arg">i</var> under the partial permutation <var class="Arg">f</var> if <var class="Arg">i</var> belongs to the image of <var class="Arg">f</var>. If <var class="Arg">i</var> does not belong to the image of <var class="Arg">f</var>, then <code class="keyw">fail</code> is returned.</p>

<p>The same result can be obtained by using <code class="code"><var class="Arg">i</var>/<var class="Arg">f</var></code> as described in Section <a href="chap54_mj.html#X848CD855802C6CE1"><span class="RefLink">54.5</span></a>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2, 3, 5, 9, 10 ], [ 5, 10, 7, 8, 9, 1 ] );</span>
[2,10,1,5,8][3,7](9)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">PreImagePartialPerm(f, 8);</span>
5
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">PreImagePartialPerm(f, 5);</span>
1
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">PreImagePartialPerm(f, 1);</span>
10
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">PreImagePartialPerm(f, 10);</span>
2
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">PreImagePartialPerm(f, 2); </span>
fail</pre></div>

<p><a id="X797A6CC084068219" name="X797A6CC084068219"></a></p>

<h5>54.5-3 ComponentPartialPermInt</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ComponentPartialPermInt</code>( <var class="Arg">f</var>, <var class="Arg">i</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: A set of positive integers.</p>

<p><code class="code">ComponentPartialPermInt</code> returns the elements of the component of <var class="Arg">f</var> containing <var class="Arg">i</var> that can be obtained by repeatedly applying <var class="Arg">f</var> to <var class="Arg">i</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2, 4, 5, 6, 7, 8, 10, 14, 15, 16, 17, 18 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 11, 4, 14, 16, 15, 3, 20, 8, 17, 19, 1, 6, 12 ] );</span>
[2,4,14,17,6,15,19][5,16,1,11][7,3][10,8,20][18,12]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ComponentPartialPermInt(f, 4);</span>
[ 4, 14, 17, 6, 15, 19 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ComponentPartialPermInt(f, 3);</span>
[  ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ComponentPartialPermInt(f, 10);</span>
[ 10, 8, 20 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ComponentPartialPermInt(f, 100);</span>
[  ]</pre></div>

<p><a id="X87B1ED93785257C1" name="X87B1ED93785257C1"></a></p>

<h5>54.5-4 NaturalLeqPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NaturalLeqPartialPerm</code>( <var class="Arg">f</var>, <var class="Arg">g</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>Returns: <code class="keyw">true</code> or <code class="keyw">false</code>.</p>

<p>The <em>natural partial order</em> <span class="SimpleMath">\(\leq\)</span> on an inverse semigroup <code class="code">S</code> is defined by <code class="code">s</code><span class="SimpleMath">\(\leq\)</span><code class="code">t</code> if there exists an idempotent <code class="code">e</code> in <code class="code">S</code> such that <code class="code">s=et</code>. Hence if <var class="Arg">f</var> and <var class="Arg">g</var> are partial permutations, then <var class="Arg">f</var><span class="SimpleMath">\(\leq\)</span><var class="Arg">g</var> if and only if <var class="Arg">f</var> is a restriction of <var class="Arg">g</var>; see <code class="func">RestrictedPartialPerm</code> (<a href="chap54_mj.html#X80ABBF4883C79060"><span class="RefLink">54.2-3</span></a>).</p>

<p><code class="code">NaturalLeqPartialPerm</code> returns <code class="keyw">true</code> if <var class="Arg">f</var> is a restriction of <var class="Arg">g</var> and <code class="keyw">false</code> if it is not. Note that since this is a partial order and not a total order, it is possible that <var class="Arg">f</var> and <var class="Arg">g</var> are incomparable with respect to the natural partial order.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 16, 17, 18, 19 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 3, 12, 14, 4, 11, 18, 17, 2, 9, 5, 15, 8, 20, 10, 19 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">g:=RestrictedPartialPerm(f, [ 1, 2, 3, 9, 13, 20 ] );</span>
[1,3,14][2,12]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NaturalLeqPartialPerm(g,f);</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NaturalLeqPartialPerm(f,g);</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">g:=PartialPerm( [ 1, 2, 3, 4, 5, 8, 10 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 7, 1, 4, 3, 2, 6, 5 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NaturalLeqPartialPerm(f, g);</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NaturalLeqPartialPerm(g, f);</span>
false</pre></div>

<p><a id="X81BD69307D294A1C" name="X81BD69307D294A1C"></a></p>

<h5>54.5-5 ShortLexLeqPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ShortLexLeqPartialPerm</code>( <var class="Arg">f</var>, <var class="Arg">g</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>Returns: <code class="keyw">true</code> or <code class="keyw">false</code>.</p>

<p><code class="code">ShortLexLeqPartialPerm</code> returns <code class="keyw">true</code> if the concatenation of the domain and image list of <var class="Arg">f</var> is short-lex less than the corresponding concatenation for <var class="Arg">g</var> and <code class="keyw">false</code> otherwise.</p>

<p>Note that this is not the natural partial order on partial permutation or the same as comparing <var class="Arg">f</var> and <var class="Arg">g</var> using <code class="code">\&lt;</code>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2, 3, 4, 6, 7, 8, 10 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 3, 8, 1, 9, 4, 10, 5, 6 ] );</span>
[2,8,5][7,10,6,4,9](1,3)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">g:=PartialPerm( [ 1, 2, 3, 4, 5, 8, 10 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 7, 1, 4, 3, 2, 6, 5 ] );</span>
[8,6][10,5,2,1,7](3,4)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f&lt;g;</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">g&lt;f;</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ShortLexLeqPartialPerm(f, g);</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ShortLexLeqPartialPerm(g, f);</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NaturalLeqPartialPerm(f, g);</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NaturalLeqPartialPerm(g, f);</span>
false</pre></div>

<p><a id="X83560BE678ACF855" name="X83560BE678ACF855"></a></p>

<h5>54.5-6 TrimPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; TrimPartialPerm</code>( <var class="Arg">f</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: Nothing.</p>

<p>It can happen that the internal representation of a partial permutation uses more memory than necessary. For example, by composing a partial permutation with codegree less than 65536 with a partial permutation with codegree greater than 65535. It is possible that the resulting partial permutation <var class="Arg">f</var> has its codegree and images stored as 32-bit integers, while none of its image points exceeds 65536. The purpose of this function is to change the internal representation of such an <var class="Arg">f</var> from using 32-bit to using 16-bit integers.</p>

<p>Note that the partial permutation <var class="Arg">f</var> is changed in-place, and nothing is returned by this function.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2 ], [ 3, 4 ] )</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">*PartialPerm( [ 3, 5 ], [ 3, 100000 ] );</span>
[1,3]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsPPerm4Rep(f);</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">TrimPartialPerm(f); f;</span>
[1,3]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsPPerm4Rep(f);</span>
false</pre></div>

<p><a id="X7849595B81D063EE" name="X7849595B81D063EE"></a></p>

<h4>54.6 <span class="Heading">Displaying partial permutations</span></h4>

<p>It is possible to change the way that <strong class="pkg">GAP</strong> displays partial permutations using the user preferences <code class="code">PartialPermDisplayLimit</code> and <code class="code">NotationForPartialPerms</code>; see Section <code class="func">UserPreference</code> (<a href="chap3_mj.html#X7B0AD104839B6C3C"><span class="RefLink">3.2-3</span></a>) for more information about user preferences.</p>

<p>If <code class="code">f</code> is a partial permutation of rank <code class="code">r</code> exceeding the value of the user preference <code class="code">PartialPermDisplayLimit</code>, then <code class="code">f</code> is displayed as:</p>


<div class="example"><pre>&lt;partial perm on r pts with degree m, codegree n&gt;</pre></div>

<p>where the degree and codegree are <code class="code">m</code> and <code class="code">n</code>, respectively. The idea is to abbreviate the display of partial permutations defined on many points. The default value for the <code class="code">PartialPermDisplayLimit</code> is <code class="code">100</code>.</p>

<p>If the rank of <code class="code">f</code> does not exceed the value of <code class="code">PartialPermDisplayLimit</code>, then how <code class="code">f</code> is displayed depends on the value of the user preference <code class="code">NotationForPartialPerms</code> except in the case that <code class="code">f</code> is the empty partial permutation or an identity partial permutation.</p>

<p>There are three possible values for <code class="code">NotationForPartialPerms</code> user preference, which are described below.</p>


<dl>
<dt><strong class="Mark">component</strong></dt>
<dd><p>Similar to permutations, and unlike transformations, partial permutations can be expressed as products of disjoint permutations and chains. A <em>chain</em> is a list <code class="code">c</code> of some length <code class="code">n</code> such that:</p>


<ul>
<li><p><code class="code">c[1]</code> is an element of the domain of <var class="Arg">f</var> but not the image</p>

</li>
<li><p><code class="code">c[i]^<var class="Arg">f</var>=c[i+1]</code> for all <code class="code">i</code> in the range from <code class="code">1</code> to <code class="code">n-1</code>.</p>

</li>
<li><p><code class="code">c[n]</code> is in the image of <var class="Arg">f</var> but not the domain.</p>

</li>
</ul>
<p>In the display, permutations are displayed as they usually are in <strong class="pkg">GAP</strong>, except that fixed points are displayed enclosed in round brackets, and chains are displayed enclosed in square brackets.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f := PartialPerm([ 1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 16, 17, 18, 19 ],</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 3, 12, 14, 4, 11, 18, 17, 2, 9, 5, 15, 8, 20, 10, 19 ]);</span>
[1,3,14][16,8,2,12,15](4)(5,11)[6,18,10,9][7,17,20](19)</pre></div>

<p>This option is the most compact way to display a partial permutation and is the default value of the user preference <code class="code">NotationForPartialPerms</code>.</p>

</dd>
<dt><strong class="Mark">domainimage</strong></dt>
<dd><p>With this option a partial permutation <code class="code">f</code> is displayed in the format: <code class="code">DomainOfPartialPerm(<var class="Arg">f</var>)-&gt; ImageListOfPartialPerm(<var class="Arg">f</var>)</code>.</p>


<div class="example"><pre><span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2, 4, 5, 6, 7 ], [ 10, 1, 6, 5, 8, 7 ]);</span>
[ 1, 2, 4, 5, 6, 7 ] -&gt; [ 10, 1, 6, 5, 8, 7 ]</pre></div>

</dd>
<dt><strong class="Mark">input</strong></dt>
<dd><p>With this option a partial permutation <var class="Arg">f</var> is displayed as: <code class="code">PartialPerm(DomainOfPartialPerm(<var class="Arg">f</var>), ImageListOfPartialPerm(<var class="Arg">f</var>))</code> which corresponds to the input (of the first type described in <code class="func">PartialPerm</code> (<a href="chap54_mj.html#X8538BAE77F2FB2F8"><span class="RefLink">54.2-1</span></a>)).</p>


<div class="example"><pre><span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( [ 1, 2, 3, 5, 6, 9, 10 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 4, 7, 3, 8, 2, 1, 6 ] );</span>
PartialPerm( [ 1, 2, 3, 5, 6, 9, 10 ], [ 4, 7, 3, 8, 2, 1, 6 ] )</pre></div>

</dd>
</dl>

<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetUserPreference("PartialPermDisplayLimit", 12);                </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">UserPreference("PartialPermDisplayLimit");</span>
12
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm([1,2,3,4,5,6], [6,7,1,4,3,2]);</span>
[5,3,1,6,2,7](4)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm( </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 16, 17, 18, 19 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 3, 12, 14, 4, 11, 18, 17, 2, 9, 5, 15, 8, 20, 10, 19 ] );</span>
&lt;partial perm on 15 pts with degree 19, codegree 20&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetUserPreference("PartialPermDisplayLimit", 100);</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f;</span>
[1,3,14][6,18,10,9][7,17,20][16,8,2,12,15](4)(5,11)(19)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">UserPreference("NotationForPartialPerms");</span>
"component"
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetUserPreference("NotationForPartialPerms", "domainimage");</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f;</span>
[ 1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 16, 17, 18, 19 ] -&gt; 
[ 3, 12, 14, 4, 11, 18, 17, 2, 9, 5, 15, 8, 20, 10, 19 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetUserPreference("NotationForPartialPerms", "input");</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f;</span>
PartialPerm( 
[ 1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 16, 17, 18, 19 ], 
[ 3, 12, 14, 4, 11, 18, 17, 2, 9, 5, 15, 8, 20, 10, 19 ] )</pre></div>

<p><a id="X7CCC82E07A73EB55" name="X7CCC82E07A73EB55"></a></p>

<h4>54.7 <span class="Heading">Semigroups and inverse semigroups of partial permutations</span></h4>

<p>As mentioned at the start of the chapter, every inverse semigroup is isomorphic to a semigroup of partial permutations, and in this section we describe the functions in <strong class="pkg">GAP</strong> specific to partial permutation semigroups. For more information about semigroups and inverse semigroups see Chapter <a href="chap51_mj.html#X8665D8737FDD5B10"><span class="RefLink">51</span></a>.</p>

<p>The <strong class="pkg">Semigroups</strong> package contains many additional functions and methods for computing with semigroups of partial permutations. In particular, <strong class="pkg">Semigroups</strong> contains more efficient methods than those available in the <strong class="pkg">GAP</strong> library (and in many cases more efficient than any other software) for creating semigroups of transformations, calculating their Green's classes, size, elements, group of units, minimal ideal, small generating sets, testing membership, finding the inverses of a regular element, factorizing elements over the generators, and more.</p>

<p>Since a partial permutation semigroup is also a partial permutation collection, there are special methods for <code class="func">DomainOfPartialPermCollection</code> (<a href="chap54_mj.html#X784A14F787E041D7"><span class="RefLink">54.3-4</span></a>), <code class="func">ImageOfPartialPermCollection</code> (<a href="chap54_mj.html#X7CD84B107831E0FC"><span class="RefLink">54.3-5</span></a>), <code class="func">FixedPointsOfPartialPerm</code> (<a href="chap54_mj.html#X82AAFF938623422E"><span class="RefLink">54.3-8</span></a>), <code class="func">MovedPoints</code> (<a href="chap54_mj.html#X82FE981A87FAA2DC"><span class="RefLink">54.3-9</span></a>), <code class="func">NrFixedPoints</code> (<a href="chap54_mj.html#X7FAF969C84CDC742"><span class="RefLink">54.3-10</span></a>), <code class="func">NrMovedPoints</code> (<a href="chap54_mj.html#X81F5C64E7DAD27A7"><span class="RefLink">54.3-11</span></a>), <code class="func">LargestMovedPoint</code> (<a href="chap54_mj.html#X7D4290A785ABC86D"><span class="RefLink">54.3-13</span></a>), and <code class="func">SmallestMovedPoint</code> (<a href="chap54_mj.html#X84A49C977E1E29AA"><span class="RefLink">54.3-12</span></a>) when applied to a partial permutation semigroup.</p>

<p><a id="X7D161674800B50E0" name="X7D161674800B50E0"></a></p>

<h5>54.7-1 IsPartialPermSemigroup</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsPartialPermSemigroup</code>( <var class="Arg">obj</var> )</td><td class="tdright">(&nbsp;filter&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsPartialPermMonoid</code>( <var class="Arg">obj</var> )</td><td class="tdright">(&nbsp;filter&nbsp;)</td></tr></table></div>
<p>Returns: <code class="keyw">true</code> or <code class="keyw">false</code>.</p>

<p>A <em>partial perm semigroup</em> is simply a semigroup consisting of partial permutations, which may or may not be an inverse semigroup. An object <var class="Arg">obj</var> in <strong class="pkg">GAP</strong> is a partial perm semigroup if and only if it satisfies <code class="func">IsSemigroup</code> (<a href="chap51_mj.html#X7B412E5B8543E9B7"><span class="RefLink">51.1-1</span></a>) and <code class="func">IsPartialPermCollection</code> (<a href="chap54_mj.html#X8262A827790DD1CC"><span class="RefLink">54.1-2</span></a>).</p>

<p>A <em>partial perm monoid</em> is a monoid consisting of partial permutations. An object in <strong class="pkg">GAP</strong> is a partial perm monoid if it satisfies <code class="func">IsMonoid</code> (<a href="chap51_mj.html#X861C523483C6248C"><span class="RefLink">51.2-1</span></a>) and <code class="func">IsPartialPermCollection</code> (<a href="chap54_mj.html#X8262A827790DD1CC"><span class="RefLink">54.1-2</span></a>).</p>

<p>Note that it is possible for a partial perm semigroup to have a multiplicative neutral element (i.e. an identity element) but not to satisfy <code class="code">IsPartialPermMonoid</code>. For example,</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f := PartialPerm( [ 1, 2, 3, 6, 8, 10 ], [ 2, 6, 7, 9, 1, 5 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S := Semigroup(f, One(f));</span>
&lt;commutative partial perm monoid of rank 9 with 1 generator&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsMonoid(S);</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsPartialPermMonoid(S);</span>
true</pre></div>

<p>Note that unlike transformation semigroups, the <code class="func">One</code> (<a href="chap31_mj.html#X8046262384895B2A"><span class="RefLink">31.10-2</span></a>) of a partial permutation semigroup must coincide with the multiplicative neutral element, if either exists.</p>

<p>For more details see <code class="func">IsMagmaWithOne</code> (<a href="chap35_mj.html#X86071DE7835F1C7C"><span class="RefLink">35.1-2</span></a>).</p>

<p><a id="X7D7F0BAB82F0D820" name="X7D7F0BAB82F0D820"></a></p>

<h5>54.7-2 DegreeOfPartialPermSemigroup</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; DegreeOfPartialPermSemigroup</code>( <var class="Arg">S</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; CodegreeOfPartialPermSemigroup</code>( <var class="Arg">S</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RankOfPartialPermSemigroup</code>( <var class="Arg">S</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>Returns: A non-negative integer.</p>

<p>The <em>degree</em> of a partial permutation semigroup <var class="Arg">S</var> is the largest degree of any partial permutation in <var class="Arg">S</var>.</p>

<p>The <em>codegree</em> of a partial permutation semigroup <var class="Arg">S</var> is the largest positive integer in its image.</p>

<p>The <em>rank</em> of a partial permutation semigroup <var class="Arg">S</var> is the number of points on which it acts.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S := Semigroup( PartialPerm( [ 1, 5 ], [ 10000, 3 ] ) );</span>
&lt;commutative partial perm semigroup of rank 2 with 1 generator&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">DegreeOfPartialPermSemigroup(S);</span>
5
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">CodegreeOfPartialPermSemigroup(S);</span>
10000
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RankOfPartialPermSemigroup(S);</span>
2</pre></div>

<p><a id="X81D271B380995F8A" name="X81D271B380995F8A"></a></p>

<h5>54.7-3 SymmetricInverseSemigroup</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; SymmetricInverseSemigroup</code>( <var class="Arg">n</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; SymmetricInverseMonoid</code>( <var class="Arg">n</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: The symmetric inverse semigroup of degree <var class="Arg">n</var>.</p>

<p>If <var class="Arg">n</var> is a non-negative integer, then <code class="code">SymmetricInverseSemigroup</code> returns the inverse semigroup consisting of all partial permutations with degree and codegree at most <var class="Arg">n</var>. Note that <var class="Arg">n</var> must be non-negative, but in particular, can equal <code class="code">0</code>.</p>

<p>The symmetric inverse semigroup has <span class="SimpleMath">\(\sum_{r=0}^n{n\choose r}^2\cdot r!\)</span> elements and is generated by any set that of partial permutations that generate the symmetric group on <var class="Arg">n</var> points and any partial permutation of rank <code class="code"><var class="Arg">n</var>-1</code>.</p>

<p><code class="code">SymmetricInverseMonoid</code> is a synonym for <code class="code">SymmetricInverseSemigroup</code>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S := SymmetricInverseSemigroup(5);</span>
&lt;symmetric inverse monoid of degree 5&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Size(S);</span>
1546
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">GeneratorsOfInverseMonoid(S);</span>
[ (1,2,3,4,5), (1,2)(3)(4)(5), [5,4,3,2,1] ]</pre></div>

<p><a id="X7C8AEA50834060DD" name="X7C8AEA50834060DD"></a></p>

<h5>54.7-4 IsSymmetricInverseSemigroup</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsSymmetricInverseSemigroup</code>( <var class="Arg">S</var> )</td><td class="tdright">(&nbsp;property&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsSymmetricInverseMonoid</code>( <var class="Arg">S</var> )</td><td class="tdright">(&nbsp;property&nbsp;)</td></tr></table></div>
<p>Returns: <code class="keyw">true</code> or <code class="keyw">false</code>.</p>

<p>If the partial perm semigroup <var class="Arg">S</var> of degree and codegree <var class="Arg">n</var> equals the symmetric inverse semigroup on <var class="Arg">n</var> points, then <code class="code">IsSymmetricInverseSemigroup</code> return <code class="keyw">true</code> and otherwise it returns <code class="keyw">false</code>.</p>

<p><code class="code">IsSymmetricInverseMonoid</code> is a synonym of <code class="code">IsSymmetricInverseSemigroup</code>. It is common in the literature for the symmetric inverse monoid to be referred to as the symmetric inverse semigroup.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S := Semigroup(AsPartialPerm((1, 3, 4, 2), 5), AsPartialPerm((1, 3, 5), 5),</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">PartialPerm( [ 1, 2, 3, 4 ] ) );</span>
&lt;partial perm semigroup of rank 5 with 3 generators&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsSymmetricInverseSemigroup(S);</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S;</span>
&lt;symmetric inverse monoid of degree 5&gt;</pre></div>

<p><a id="X7EA51F087CF7621F" name="X7EA51F087CF7621F"></a></p>

<h5>54.7-5 NaturalPartialOrder</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NaturalPartialOrder</code>( <var class="Arg">S</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ReverseNaturalPartialOrder</code>( <var class="Arg">S</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>Returns: The natural partial order on an inverse semigroup.</p>

<p>The <em>natural partial order</em> <span class="SimpleMath">\(\leq\)</span> on an inverse semigroup <var class="Arg">S</var> is defined by <code class="code">s</code><span class="SimpleMath">\(\leq\)</span><code class="code">t</code> if there exists an idempotent <code class="code">e</code> in <var class="Arg">S</var> such that <code class="code">s=et</code>. Hence if <code class="code">f</code> and <code class="code">g</code> are partial permutations, then <code class="code">f</code><span class="SimpleMath">\(\leq\)</span><code class="code">g</code> if and only if <code class="code">f</code> is a restriction of <code class="code">g</code>; see <code class="func">RestrictedPartialPerm</code> (<a href="chap54_mj.html#X80ABBF4883C79060"><span class="RefLink">54.2-3</span></a>).</p>

<p><code class="code">NaturalPartialOrder</code> returns the natural partial order on the inverse semigroup of partial permutations <var class="Arg">S</var> as a list of sets of positive integers where entry <code class="code">i</code> in <code class="code">NaturalPartialOrder(<var class="Arg">S</var>)</code> is the set of positions in <code class="code">Elements(<var class="Arg">S</var>)</code> of elements which are less than <code class="code">Elements(<var class="Arg">S</var>)[i]</code>. See also <code class="func">NaturalLeqPartialPerm</code> (<a href="chap54_mj.html#X87B1ED93785257C1"><span class="RefLink">54.5-4</span></a>).</p>

<p><code class="code">ReverseNaturalPartialOrder</code> returns the reverse of the natural partial order on the inverse semigroup of partial permutations <var class="Arg">S</var> as a list of sets of positive integers where entry <code class="code">i</code> in <code class="code">ReverseNaturalPartialOrder(<var class="Arg">S</var>)</code> is the set of positions in <code class="code">Elements(<var class="Arg">S</var>)</code> of elements which are greater than <code class="code">Elements(<var class="Arg">S</var>)[i]</code>. See also <code class="func">NaturalLeqPartialPerm</code> (<a href="chap54_mj.html#X87B1ED93785257C1"><span class="RefLink">54.5-4</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S := InverseSemigroup([ PartialPerm( [ 1, 3 ], [ 1, 3 ] ),</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">PartialPerm( [ 1, 2 ], [ 3, 2 ] ) ] );</span>
&lt;inverse partial perm semigroup of rank 3 with 2 generators&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Size(S);</span>
11
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NaturalPartialOrder(S);</span>
[ [  ], [ 1 ], [ 1 ], [ 1 ], [ 1, 2, 4 ], [ 1, 3, 4 ], [ 1 ], [ 1 ], 
  [ 1, 4, 7 ], [ 1, 4, 8 ], [ 1, 2, 8 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NaturalLeqPartialPerm(Elements(S)[4], Elements(S)[10]);</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NaturalLeqPartialPerm(Elements(S)[4], Elements(S)[1]); </span>
false</pre></div>

<p><a id="X7FE18EBE79B9C17C" name="X7FE18EBE79B9C17C"></a></p>

<h5>54.7-6 IsomorphismPartialPermSemigroup</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsomorphismPartialPermSemigroup</code>( <var class="Arg">S</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsomorphismPartialPermMonoid</code>( <var class="Arg">S</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>Returns: An isomorphism.</p>

<p><code class="code">IsomorphismPartialPermSemigroup(<var class="Arg">S</var>)</code> returns an isomorphism from the inverse semigroup <var class="Arg">S</var> to an inverse semigroup of partial permutations.</p>

<p><code class="code">IsomorphismPartialPermMonoid(<var class="Arg">S</var>)</code> returns an isomorphism from the inverse semigroup <var class="Arg">S</var> to an inverse monoid of partial permutations, if possible.</p>

<p>We only describe <code class="code">IsomorphismPartialPermMonoid</code>, the corresponding statements for <code class="code">IsomorphismPartialPermSemigroup</code> also hold.</p>


<dl>
<dt><strong class="Mark">Partial permutation semigroups</strong></dt>
<dd><p>If <var class="Arg">S</var> is a partial permutation semigroup that does not satisfy <code class="func">IsMonoid</code> (<a href="chap51_mj.html#X861C523483C6248C"><span class="RefLink">51.2-1</span></a>) but where <code class="code">MultiplicativeNeutralElement(<var class="Arg">S</var>)&lt;&gt;fail</code>, then <code class="code">IsomorphismPartialPermMonoid(<var class="Arg">S</var>)</code> returns an isomorphism from <var class="Arg">S</var> to an inverse monoid of partial permutations.</p>

</dd>
<dt><strong class="Mark">Permutation groups</strong></dt>
<dd><p>If <var class="Arg">S</var> is a permutation group, then <code class="code">IsomorphismPartialPermMonoid</code> returns an isomorphism from <var class="Arg">S</var> to an inverse monoid of partial permutations on the set <code class="code">MovedPoints(<var class="Arg">S</var>)</code> obtained using <code class="func">AsPartialPerm</code> (<a href="chap54_mj.html#X81B32CB182489ACA"><span class="RefLink">54.4-1</span></a>). The inverse of this isomorphism is obtained using <code class="func">AsPermutation</code> (<a href="chap42_mj.html#X8353AB8987E35DF3"><span class="RefLink">42.5-6</span></a>).</p>

</dd>
<dt><strong class="Mark">Transformation semigroups</strong></dt>
<dd><p>If <var class="Arg">S</var> is a transformation semigroup which is mathematically a monoid but which does not necessarily belong to the category <code class="func">IsMonoid</code> (<a href="chap51_mj.html#X861C523483C6248C"><span class="RefLink">51.2-1</span></a>), then <code class="code">IsomorphismPartialPermMonoid</code> returns an isomorphism from <var class="Arg">S</var> to an inverse monoid of partial permutations.</p>

</dd>
</dl>

<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S := InverseSemigroup( </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">PartialPerm( [ 1, 2, 3, 4, 5 ], [ 4, 2, 3, 1, 5 ] ),</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">PartialPerm( [ 1, 2, 4, 5 ], [ 3, 1, 4, 2 ] ) );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsMonoid(S); </span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Size(S);</span>
508
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">iso := IsomorphismPartialPermMonoid(S);</span>
MappingByFunction( &lt;inverse partial perm semigroup of size 508, 
 rank 5 with 2 generators&gt;, &lt;inverse partial perm monoid of size 508, 
 rank 5 with 2 generators&gt;
 , function( object ) ... end, function( object ) ... end )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Size(S);</span>
508
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Size(Range(iso));</span>
508
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">G := Group((1,2)(3,8)(4,6)(5,7), (1,3,4,7)(2,5,6,8), (1,4)(2,6)(3,7)(5,8));;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsomorphismPartialPermSemigroup(G);</span>
MappingByFunction( Group([ (1,2)(3,8)(4,6)(5,7), (1,3,4,7)
(2,5,6,8), (1,4)(2,6)(3,7)
(5,8) ]), &lt;partial perm group of rank 8 with 3 generators&gt;
, function( p ) ... end, &lt;Attribute "AsPermutation"&gt; )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S := Semigroup(Transformation( [ 2, 5, 1, 7, 3, 7, 7 ] ), </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">Transformation( [ 3, 6, 5, 7, 2, 1, 7 ] ) );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">iso := IsomorphismPartialPermMonoid(S);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">MultiplicativeNeutralElement(S) ^ iso;</span>
&lt;identity partial perm on [ 1, 2, 3, 4, 5, 6 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">One(Range(iso));</span>
&lt;identity partial perm on [ 1, 2, 3, 4, 5, 6 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">MovedPoints(Range(iso));</span>
[ 1 .. 5 ]</pre></div>


<div class="chlinkprevnextbot">&nbsp;<a href="chap0_mj.html">[Top of Book]</a>&nbsp;  <a href="chap0_mj.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap53_mj.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chap55_mj.html">[Next Chapter]</a>&nbsp;  </div>


<div class="chlinkbot"><span class="chlink1">Goto Chapter: </span><a href="chap0_mj.html">Top</a>  <a href="chap1_mj.html">1</a>  <a href="chap2_mj.html">2</a>  <a href="chap3_mj.html">3</a>  <a href="chap4_mj.html">4</a>  <a href="chap5_mj.html">5</a>  <a href="chap6_mj.html">6</a>  <a href="chap7_mj.html">7</a>  <a href="chap8_mj.html">8</a>  <a href="chap9_mj.html">9</a>  <a href="chap10_mj.html">10</a>  <a href="chap11_mj.html">11</a>  <a href="chap12_mj.html">12</a>  <a href="chap13_mj.html">13</a>  <a href="chap14_mj.html">14</a>  <a href="chap15_mj.html">15</a>  <a href="chap16_mj.html">16</a>  <a href="chap17_mj.html">17</a>  <a href="chap18_mj.html">18</a>  <a href="chap19_mj.html">19</a>  <a href="chap20_mj.html">20</a>  <a href="chap21_mj.html">21</a>  <a href="chap22_mj.html">22</a>  <a href="chap23_mj.html">23</a>  <a href="chap24_mj.html">24</a>  <a href="chap25_mj.html">25</a>  <a href="chap26_mj.html">26</a>  <a href="chap27_mj.html">27</a>  <a href="chap28_mj.html">28</a>  <a href="chap29_mj.html">29</a>  <a href="chap30_mj.html">30</a>  <a href="chap31_mj.html">31</a>  <a href="chap32_mj.html">32</a>  <a href="chap33_mj.html">33</a>  <a href="chap34_mj.html">34</a>  <a href="chap35_mj.html">35</a>  <a href="chap36_mj.html">36</a>  <a href="chap37_mj.html">37</a>  <a href="chap38_mj.html">38</a>  <a href="chap39_mj.html">39</a>  <a href="chap40_mj.html">40</a>  <a href="chap41_mj.html">41</a>  <a href="chap42_mj.html">42</a>  <a href="chap43_mj.html">43</a>  <a href="chap44_mj.html">44</a>  <a href="chap45_mj.html">45</a>  <a href="chap46_mj.html">46</a>  <a href="chap47_mj.html">47</a>  <a href="chap48_mj.html">48</a>  <a href="chap49_mj.html">49</a>  <a href="chap50_mj.html">50</a>  <a href="chap51_mj.html">51</a>  <a href="chap52_mj.html">52</a>  <a href="chap53_mj.html">53</a>  <a href="chap54_mj.html">54</a>  <a href="chap55_mj.html">55</a>  <a href="chap56_mj.html">56</a>  <a href="chap57_mj.html">57</a>  <a href="chap58_mj.html">58</a>  <a href="chap59_mj.html">59</a>  <a href="chap60_mj.html">60</a>  <a href="chap61_mj.html">61</a>  <a href="chap62_mj.html">62</a>  <a href="chap63_mj.html">63</a>  <a href="chap64_mj.html">64</a>  <a href="chap65_mj.html">65</a>  <a href="chap66_mj.html">66</a>  <a href="chap67_mj.html">67</a>  <a href="chap68_mj.html">68</a>  <a href="chap69_mj.html">69</a>  <a href="chap70_mj.html">70</a>  <a href="chap71_mj.html">71</a>  <a href="chap72_mj.html">72</a>  <a href="chap73_mj.html">73</a>  <a href="chap74_mj.html">74</a>  <a href="chap75_mj.html">75</a>  <a href="chap76_mj.html">76</a>  <a href="chap77_mj.html">77</a>  <a href="chap78_mj.html">78</a>  <a href="chap79_mj.html">79</a>  <a href="chap80_mj.html">80</a>  <a href="chap81_mj.html">81</a>  <a href="chap82_mj.html">82</a>  <a href="chap83_mj.html">83</a>  <a href="chap84_mj.html">84</a>  <a href="chap85_mj.html">85</a>  <a href="chap86_mj.html">86</a>  <a href="chap87_mj.html">87</a>  <a href="chapBib_mj.html">Bib</a>  <a href="chapInd_mj.html">Ind</a>  </div>

<hr />
<p class="foot">generated by <a href="http://www.math.rwth-aachen.de/~Frank.Luebeck/GAPDoc">GAPDoc2HTML</a></p>
</body>
</html>
