<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<title>GAP (nq) - Chapter 3: The Functions of the Package</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="generator" content="GAPDoc2HTML" />
<link rel="stylesheet" type="text/css" href="manual.css" />
<script src="manual.js" type="text/javascript"></script>
<script type="text/javascript">overwriteStyle();</script>
</head>
<body class="chap3"  onload="jscontent()">


<div class="chlinktop"><span class="chlink1">Goto Chapter: </span><a href="chap0_mj.html">Top</a>  <a href="chap1_mj.html">1</a>  <a href="chap2_mj.html">2</a>  <a href="chap3_mj.html">3</a>  <a href="chap4_mj.html">4</a>  <a href="chap5_mj.html">5</a>  <a href="chapA_mj.html">A</a>  <a href="chapBib_mj.html">Bib</a>  <a href="chapInd_mj.html">Ind</a>  </div>

<div class="chlinkprevnexttop">&nbsp;<a href="chap0_mj.html">[Top of Book]</a>&nbsp;  <a href="chap0_mj.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap2_mj.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chap4_mj.html">[Next Chapter]</a>&nbsp;  </div>

<p id="mathjaxlink" class="pcenter"><a href="chap3.html">[MathJax off]</a></p>
<p><a id="X82738C527E6AC670" name="X82738C527E6AC670"></a></p>
<div class="ChapSects"><a href="chap3_mj.html#X82738C527E6AC670">3 <span class="Heading">The Functions of the Package</span></a>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap3_mj.html#X7D147D4182F85244">3.1 <span class="Heading">Nilpotent Quotients of Finitely Presented Groups</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X8216791583DE512C">3.1-1 NilpotentQuotient</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X7ACCB6267C187AB0">3.1-2 NilpotentEngelQuotient</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X8758F663782AE655">3.1-3 NqEpimorphismNilpotentQuotient</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X827C2D4F78C982FC">3.1-4 LowerCentralFactors</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap3_mj.html#X861A2C6385F6BCF5">3.2 <span class="Heading">Expression Trees</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X7CC7CDDD876BB8EB">3.2-1 ExpressionTrees</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X879956307B67A136">3.2-2 EvaluateExpTree</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap3_mj.html#X866E18057EF83F65">3.3 <span class="Heading">Auxiliary Functions</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X855407657CB86F40">3.3-1 NqReadOutput</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X8443537679BC81D5">3.3-2 NqStringFpGroup</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X82684F4D79A786F5">3.3-3 NqStringExpTrees</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X7A28800579A2BB35">3.3-4 NqElementaryDivisors</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap3_mj.html#X7D9044767BEB1523">3.4 <span class="Heading">Global Variables</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X87691A167A83FAF6">3.4-1 NqRuntime</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X7DFBFD1580BF024A">3.4-2 NqDefaultOptions</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X83D1AFCB7EFF4380">3.4-3 NqGlobalVariables</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap3_mj.html#X804DD7CE815D87C9">3.5 <span class="Heading">Diagnostic Output</span></a>
</span>
</div>
</div>

<h3>3 <span class="Heading">The Functions of the Package</span></h3>

<p><a id="X7D147D4182F85244" name="X7D147D4182F85244"></a></p>

<h4>3.1 <span class="Heading">Nilpotent Quotients of Finitely Presented Groups</span></h4>

<p><a id="X8216791583DE512C" name="X8216791583DE512C"></a></p>

<h5>3.1-1 NilpotentQuotient</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NilpotentQuotient</code>( [<var class="Arg">output-file</var>, ]<var class="Arg">fp-group</var>[, <var class="Arg">id-gens</var>][, <var class="Arg">c</var>] )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NilpotentQuotient</code>( [<var class="Arg">output-file</var>, ]<var class="Arg">input-file</var>[, <var class="Arg">c</var>] )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>The parameter <code class="file">fp-group</code> is either a finitely presented group or a record specifying a presentation by expression trees (see section <a href="chap2_mj.html#X861A2C6385F6BCF5"><span class="RefLink">2.6</span></a>). The parameter <code class="file">input-file</code> is a string specifying the name of a file containing a finite presentation in the input format (cf. section <a href="chap2_mj.html#X79E150AA823439A8"><span class="RefLink">2.8</span></a>) of the ANU NQ. Such a file can be prepared by a text editor or with the help of the function <code class="func">NqStringFpGroup</code> (<a href="chap3_mj.html#X8443537679BC81D5"><span class="RefLink">3.3-2</span></a>).</p>

<p>Let <span class="SimpleMath">\(G\)</span> be the group defined by <code class="file">fp-group</code> or the group defined in <code class="file">input-file</code>. The function computes a nilpotent presentation for <span class="SimpleMath">\(G/\gamma_{c+1}(G)\)</span> if the optional parameter <code class="file">c</code> is specified. If <code class="file">c</code> is not given, then the function attempts to compute the largest nilpotent quotient of <span class="SimpleMath">\(G\)</span> and it will terminate only if <span class="SimpleMath">\(G\)</span> has a largest nilpotent quotient. See section <a href="chap3_mj.html#X804DD7CE815D87C9"><span class="RefLink">3.5</span></a> for a possibility to follow the progress of the computation.</p>

<p>The optional argument <code class="file">id-gens</code> is a list of generators of the free group underlying the finitely presented group <code class="file">fp-group</code>. The generators in this list are treated as identical generators. Consequently, all relations of the <code class="file">fp-group</code> involving these generators are treated as identical relations for these generators.</p>

<p>In addition to the arguments explained above, the function accepts the following options as shown in the first example below:</p>


<ul>
<li><p><code class="keyw">group</code> This option can be used instead of the parameter <code class="file">fp-group</code>.</p>

</li>
<li><p><code class="keyw">input\_string</code> This option can be used to specify a finitely presented group by a string in the input format of the standalone program.</p>

</li>
<li><p><code class="keyw">input\_file</code> This option specifies a file with input for the standalone program.</p>

</li>
<li><p><code class="keyw">output\_file</code> This option specifies a file for the output of the standalone.</p>

</li>
<li><p><code class="keyw">idgens</code> This options specifies a list of identical generators.</p>

</li>
<li><p><code class="keyw">class</code> This option specifies the nilpotency class up to which the nilpotent quotient will be computed.</p>

</li>
</ul>
<p>The following example computes the class-5 quotient of the free group on two generators.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">F := FreeGroup( 2 );</span>
&lt;free group on the generators [ f1, f2 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">## Equivalent to:  NilpotentQuotient( : group := F, class := 5 );</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">##                 NilpotentQuotient( F : class := 5 );          </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">H := NilpotentQuotient( F, 5 );</span>
Pcp-group with orders [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">lcs := LowerCentralSeries( H );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">for i in [1..5] do Print( lcs[i] / lcs[i+1], "\n" ); od;</span>
Pcp-group with orders [ 0, 0 ]
Pcp-group with orders [ 0 ]
Pcp-group with orders [ 0, 0 ]
Pcp-group with orders [ 0, 0, 0 ]
Pcp-group with orders [ 0, 0, 0, 0, 0, 0 ]

</pre></div>

<p>Note that the lower central series in the example is part of the data returned by the standalone program. Therefore, the execution of the function LowerCentralSeries takes no time.</p>

<p>The next example computes the class-4 quotient of the infinite dihedral group. The group is soluble but not nilpotent. The first factor of its lower central series is a Klein four group and all the other factors are cyclic or order <span class="SimpleMath">\(2\)</span>.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">F := FreeGroup( 2 );</span>
&lt;free group on the generators [ f1, f2 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">G := F / [F.1^2, F.2^2];</span>
&lt;fp group on the generators [ f1, f2 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">H := NilpotentQuotient( G, 4 ); </span>
Pcp-group with orders [ 2, 2, 2, 2, 2 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">lcs := LowerCentralSeries( H );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">for i in [1..Length(lcs)-1] do</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">      Print( AbelianInvariants(lcs[i] / lcs[i+1]), "\n" );</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">od;</span>
[ 2, 2 ]
[ 2 ]
[ 2 ]
[ 2 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput"></span>

</pre></div>

<p>In the following example identical generators are used in order to express the fact that the group is nilpotent of class <span class="SimpleMath">\(3\)</span>. A group is nilpotent of class <span class="SimpleMath">\(3\)</span> if it satisfies the identical relation <span class="SimpleMath">\([x_1,x_2,x_3,x_4]=1\)</span> (cf. Section <a href="chap2_mj.html#X84EF796487BC1822"><span class="RefLink">2.5</span></a>). The result is the free nilpotent group of class <span class="SimpleMath">\(3\)</span> on two generators.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">F := FreeGroup( "a", "b", "w", "x", "y", "z" );</span>
&lt;free group on the generators [ a, b, w, x, y, z ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">G := F / [ LeftNormedComm( [F.3,F.4,F.5,F.6] ) ];</span>
&lt;fp group of size infinity on the generators [ a, b, w, x, y, z ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">## The following is equivalent to: </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">##   NilpotentQuotient( G : idgens := [F.3,F.4,F.5,F.6] );</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">H := NilpotentQuotient( G, [F.3,F.4,F.5,F.6] );</span>
Pcp-group with orders [ 0, 0, 0, 0, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NilpotencyClassOfGroup(H);</span>
3
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">LowerCentralSeries(H);</span>
[ Pcp-group with orders [ 0, 0, 0, 0, 0 ], Pcp-group with orders [ 0, 0, 0 ], 
  Pcp-group with orders [ 0, 0 ], Pcp-group with orders [  ] ]

</pre></div>

<p>The following example uses expression trees in order to specify the third Engel law for the free group on <span class="SimpleMath">\(3\)</span> generators.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">et := ExpressionTrees( 5 );                            </span>
[ x1, x2, x3, x4, x5 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">comm := LeftNormedComm( [et[1], et[2], et[2], et[2]] );</span>
Comm( x1, x2, x2, x2 )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">G := rec( generators := et, relations := [comm] );</span>
rec( generators := [ x1, x2, x3, x4, x5 ], 
  relations := [ Comm( x1, x2, x2, x2 ) ] )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">H := NilpotentQuotient( G : idgens := [et[1],et[2]] );</span>
Pcp-group with orders [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 4, 2, 2, 
  0, 6, 6, 0, 0, 2, 10, 10, 10 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">TorsionSubgroup( H );</span>
Pcp-group with orders [ 2, 2, 2, 2, 2, 2, 2, 10, 10, 10 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">lcs := LowerCentralSeries( H );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NilpotencyClassOfGroup( H );</span>
5
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">for i in [1..5] do Print( lcs[i] / lcs[i+1], "\n" ); od;</span>
Pcp-group with orders [ 0, 0, 0 ]
Pcp-group with orders [ 0, 0, 0 ]
Pcp-group with orders [ 0, 0, 0, 0, 0, 0, 0, 0 ]
Pcp-group with orders [ 2, 4, 2, 2, 0, 6, 6, 0, 0, 2 ]
Pcp-group with orders [ 10, 10, 10 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">for i in [1..5] do Print( AbelianInvariants(lcs[i]/lcs[i+1]), "\n" ); od;</span>
[ 0, 0, 0 ]
[ 0, 0, 0 ]
[ 0, 0, 0, 0, 0, 0, 0, 0 ]
[ 2, 2, 2, 2, 2, 2, 2, 0, 0, 0 ]
[ 10, 10, 10 ]

</pre></div>

<p>The example above also shows that the relative orders of an abelian polycyclic group need not be the abelian invariants (elementary divisors) of the group. Each zero corresponds to a generator of infinite order. The number of zeroes is always correct.</p>

<p><a id="X7ACCB6267C187AB0" name="X7ACCB6267C187AB0"></a></p>

<h5>3.1-2 NilpotentEngelQuotient</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NilpotentEngelQuotient</code>( [<var class="Arg">output-file</var>, ]<var class="Arg">fp-group</var>, <var class="Arg">n</var>[, <var class="Arg">id-gens</var>][, <var class="Arg">c</var>] )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NilpotentEngelQuotient</code>( [<var class="Arg">output-file</var>, ]<var class="Arg">input-file</var>, <var class="Arg">n</var>[, <var class="Arg">c</var>] )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>This function is a special version of <code class="func">NilpotentQuotient</code> (<a href="chap3_mj.html#X8216791583DE512C"><span class="RefLink">3.1-1</span></a>) which enforces the <span class="SimpleMath">\(n\)</span>-th Engel identity on the nilpotent quotients of the group specified by <code class="file">fp-group</code> or by <code class="file">input-file</code>. It accepts the same options as <code class="file">NilpotentQuotient</code>.</p>

<p>The Engel condition can also be enforced by using identical generators and the Engel law and <code class="func">NilpotentQuotient</code> (<a href="chap3_mj.html#X8216791583DE512C"><span class="RefLink">3.1-1</span></a>). See the examples there.</p>

<p>The following example computes the relatively free fifth Engel group on two generators, determines its (normal) torsion subgroup and computes the corresponding quotient group. The quotient modulo the torsion subgroup is torsion-free. Therefore, there is a nilpotent presentation without power relations. The example computes a nilpotent presentation for the torsion free factor group through the upper central series. The factors of the upper central series in a torsion free group are torsion free. In this way one obtains a set of generators of infinite order and the resulting nilpotent presentation has no power relations.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">G := NilpotentEngelQuotient( FreeGroup(2), 5 );</span>
Pcp-group with orders [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 10, 
  0, 0, 30, 0, 3, 3, 10, 2, 0, 6, 0, 0, 30, 2, 0, 9, 3, 5, 2, 6, 2, 10, 5, 5, 
  2, 0, 3, 3, 3, 3, 3, 5, 5, 3, 3 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NilpotencyClassOfGroup(G);</span>
9
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">T := TorsionSubgroup( G );</span>
Pcp-group with orders [ 3, 3, 2, 2, 3, 3, 2, 9, 3, 5, 2, 3, 2, 10, 5, 2, 3, 
  3, 3, 3, 3, 5, 5, 3, 3 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsAbelian( T );</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AbelianInvariants( T );</span>
[ 3, 3, 3, 3, 3, 3, 3, 3, 30, 30, 30, 180, 180 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">H := G / T;</span>
Pcp-group with orders [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 10, 
  0, 0, 30, 0, 5, 0, 2, 0, 0, 10, 0, 2, 5, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">H := PcpGroupBySeries( UpperCentralSeries(H), "snf" );</span>
Pcp-group with orders [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ucs := UpperCentralSeries( H );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">for i in [1..NilpotencyClassOfGroup(H)] do</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">	Print( ucs[i]/ucs[i+1], "\n" );</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">od;</span>
Pcp-group with orders [ 0, 0 ]
Pcp-group with orders [ 0 ]
Pcp-group with orders [ 0, 0 ]
Pcp-group with orders [ 0, 0, 0 ]
Pcp-group with orders [ 0, 0, 0, 0, 0, 0 ]
Pcp-group with orders [ 0, 0, 0, 0 ]
Pcp-group with orders [ 0, 0 ]
Pcp-group with orders [ 0, 0, 0 ]
</pre></div>

<p><a id="X8758F663782AE655" name="X8758F663782AE655"></a></p>

<h5>3.1-3 NqEpimorphismNilpotentQuotient</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NqEpimorphismNilpotentQuotient</code>( [<var class="Arg">output-file</var>, ]<var class="Arg">fp-group</var>[, <var class="Arg">id-gens</var>][, <var class="Arg">c</var>] )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>This function computes an epimorphism from the group <span class="SimpleMath">\(G\)</span> given by the finite presentation <code class="file">fp-group</code> onto <span class="SimpleMath">\(G/\gamma_{c+1}(G).\)</span> If <code class="file">c</code> is not given, then the largest nilpotent quotient of <span class="SimpleMath">\(G\)</span> is computed and an epimorphism from <span class="SimpleMath">\(G\)</span> onto the largest nilpotent quotient of <span class="SimpleMath">\(G\)</span>. If <span class="SimpleMath">\(G\)</span> does not have a largest nilpotent quotient, the function will not terminate if <span class="SimpleMath">\(c\)</span> is not given.</p>

<p>The optional argument <code class="file">id-gens</code> is a list of generators of the free group underlying the finitely presented group <code class="file">fp-group</code>. The generators in this list are treated as identical generators. Consequently, all relations of the <code class="file">fp-group</code> involving these generators are treated as identical relations for these generators.</p>

<p>If identical generators are specified, then the epimorphism returned maps the group generated by the `non-identical' generators onto the nilpotent factor group. See the last example below.</p>

<p>The function understands the same options as the function <code class="func">NilpotentQuotient</code> (<a href="chap3_mj.html#X8216791583DE512C"><span class="RefLink">3.1-1</span></a>).</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">F := FreeGroup(3);                              </span>
&lt;free group on the generators [ f1, f2, f3 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">phi := NqEpimorphismNilpotentQuotient( F, 5 );</span>
[ f1, f2, f3 ] -&gt; [ g1, g2, g3 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Image( phi, LeftNormedComm( [F.3, F.2, F.1] ) );</span>
g12
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">F := FreeGroup( "a", "b" ); </span>
&lt;free group on the generators [ a, b ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">G := F / [ F.1^2, F.2^2 ];     </span>
&lt;fp group on the generators [ a, b ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">phi := NqEpimorphismNilpotentQuotient( G, 4 );   </span>
[ a, b ] -&gt; [ g1, g2 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Image( phi, Comm(G.1,G.2) ); </span>
g3*g4
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">F := FreeGroup( "a", "b", "u", "v", "x" );</span>
&lt;free group on the generators [ a, b, u, v, x ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">a := F.1;; b := F.2;; u := F.3;; v := F.4;; x := F.5;;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">G := F / [ x^5, LeftNormedComm( [u,v,v,v] ) ];</span>
&lt;fp group of size infinity on the generators [ a, b, u, v, x ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">phi := NqEpimorphismNilpotentQuotient( G : idgens:=[u,v,x], class:=5 );</span>
[ a, b ] -&gt; [ g1, g2 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">U := Source(phi);                            </span>
Group([ a, b ])
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ImageElm( phi, LeftNormedComm( [U.1*U.2, U.2^-1,U.2^-1,U.2^-1,] ) );</span>
id

</pre></div>

<p>Note that the last epimorphism is a map from the group generated by <span class="SimpleMath">\(a\)</span> and <span class="SimpleMath">\(b\)</span> onto the nilpotent quotient. The identical generators are used only to formulate the identical relator. They are not generators of the group <span class="SimpleMath">\(G\)</span>. Also note that the left-normed commutator above is mapped to the identity as <span class="SimpleMath">\(G\)</span> satisfies the specified identical law.</p>

<p><a id="X827C2D4F78C982FC" name="X827C2D4F78C982FC"></a></p>

<h5>3.1-4 LowerCentralFactors</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; LowerCentralFactors</code>( <var class="Arg">...</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>This function accepts the same arguments and options as <code class="func">NilpotentQuotient</code> (<a href="chap3_mj.html#X8216791583DE512C"><span class="RefLink">3.1-1</span></a>) and returns a list containing the abelian invariants of the central factors in the lower central series of the specified group.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">LowerCentralFactors( FreeGroup(2), 6 );</span>
[ [ 0, 0 ], [ 0 ], [ 0, 0 ], [ 0, 0, 0 ], [ 0, 0, 0, 0, 0, 0 ], 
  [ 0, 0, 0, 0, 0, 0, 0, 0, 0 ] ]
</pre></div>

<p><a id="X861A2C6385F6BCF5" name="X861A2C6385F6BCF5"></a></p>

<h4>3.2 <span class="Heading">Expression Trees</span></h4>

<p><a id="X7CC7CDDD876BB8EB" name="X7CC7CDDD876BB8EB"></a></p>

<h5>3.2-1 ExpressionTrees</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ExpressionTrees</code>( <var class="Arg">m</var>[, <var class="Arg">prefix</var>] )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ExpressionTrees</code>( <var class="Arg">str1</var>, <var class="Arg">str2</var>, <var class="Arg">str3</var>, <var class="Arg">...</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>The argument <code class="file">m</code> must be a positive integer. The function returns a list with <code class="file">m</code> expression tree symbols named x1, x2,... The optional parameter <code class="file">prefix</code> must be a string and is used instead of <code class="file">x</code> if present.</p>

<p>Alternatively, the function can be executed with a list of strings <code class="file">str1</code>, <code class="file">str2</code>, .... It returns a list of symbols with these strings as names.</p>

<p>The following operations are defined for expression trees: multiplication, inversion, exponentiation, forming commutators, forming conjugates.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">t := ExpressionTrees( 3 );                      </span>
[ x1, x2, x3 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">tree := Comm( t[1], t[2] )^3/LeftNormedComm( [t[1],t[2],t[3],t[1]] );</span>
Comm( x1, x2 )^3/Comm( x1, x2, x3, x1 )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">t := ExpressionTrees( "a", "b", "x" );</span>
[ a, b, x ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">tree := Comm( t[1], t[2] )^3/LeftNormedComm( [t[1],t[2],t[3],t[1]] );</span>
Comm( a, b )^3/Comm( a, b, x, a )
</pre></div>

<p><a id="X879956307B67A136" name="X879956307B67A136"></a></p>

<h5>3.2-2 EvaluateExpTree</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; EvaluateExpTree</code>( <var class="Arg">tree</var>, <var class="Arg">symbols</var>, <var class="Arg">values</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>The argument <code class="file">tree</code> is an expression tree followed by the list of those symbols <code class="file">symbols</code> from which the expression tree is built up. The argument <code class="file">values</code> is a list containing a constant for each symbol. The function substitutes each value for the corresponding symbol and computes the resulting value for <code class="file">tree</code>.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">F := FreeGroup( 3 );                               </span>
&lt;free group on the generators [ f1, f2, f3 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">t := ExpressionTrees( "a", "b", "x" );</span>
[ a, b, x ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">tree := Comm( t[1], t[2] )^3/LeftNormedComm( [t[1],t[2],t[3],t[1]] );</span>
Comm( a, b )^3/Comm( a, b, x, a )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">EvaluateExpTree( tree, t, GeneratorsOfGroup(F) );</span>
f1^-1*f2^-1*f1*f2*f1^-1*f2^-1*f1*f2*f1^-1*f2^-1*f1*f2*f1^-1*f3^-1*f2^-1*f1^
-1*f2*f1*f3*f1^-1*f2^-1*f1*f2*f1*f2^-1*f1^-1*f2*f1*f3^-1*f1^-1*f2^-1*f1*f2*f3

</pre></div>

<p><a id="X866E18057EF83F65" name="X866E18057EF83F65"></a></p>

<h4>3.3 <span class="Heading">Auxiliary Functions</span></h4>

<p><a id="X855407657CB86F40" name="X855407657CB86F40"></a></p>

<h5>3.3-1 NqReadOutput</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NqReadOutput</code>( <var class="Arg">stream</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>The only argument <code class="file">stream</code> is an output stream of the ANU NQ. The function reads the stream and returns a record that has a component for each global variable used in the output of the ANU NQ, see <code class="func">NqGlobalVariables</code> (<a href="chap3_mj.html#X83D1AFCB7EFF4380"><span class="RefLink">3.4-3</span></a>).</p>

<p><a id="X8443537679BC81D5" name="X8443537679BC81D5"></a></p>

<h5>3.3-2 NqStringFpGroup</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NqStringFpGroup</code>( <var class="Arg">fp-group</var>[, <var class="Arg">idgens</var>] )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>The function takes a finitely presented group <code class="file">fp-group</code> and returns a string in the input format of the ANU NQ. If the list <code class="file">idgens</code> is present, then it must contain generators of the free group underlying the finitely presented group <code class="func">FreeGroupOfFpGroup</code> (<a href="../../../doc/ref/chap47_mj.html#X85CF3931849FB441"><span class="RefLink">Reference: FreeGroupOfFpGroup</span></a>). The generators in <code class="file">idgens</code> are treated as identical generators.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">F := FreeGroup(2);</span>
&lt;free group on the generators [ f1, f2 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">G := F / [F.1^2, F.2^2, (F.1*F.2)^4];</span>
&lt;fp group on the generators [ f1, f2 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NqStringFpGroup( G );</span>
"&lt; x1, x2 |\n    x1^2,\n    x2^2,\n    x1*x2*x1*x2*x1*x2*x1*x2\n&gt;\n"
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Print( last );</span>
&lt; x1, x2 |
    x1^2,
    x2^2,
    x1*x2*x1*x2*x1*x2*x1*x2
&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">PrintTo( "dihedral", last );</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">## The following is equivalent to: </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">##     NilpotentQuotient( : input_file := "dihedral" );</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NilpotentQuotient( "dihedral" );</span>
Pcp-group with orders [ 2, 2, 2 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Exec( "rm dihedral" );</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">F := FreeGroup(3);</span>
&lt;free group on the generators [ f1, f2, f3 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">H := F / [ LeftNormedComm( [F.2,F.1,F.1] ),                               </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">              LeftNormedComm( [F.2,F.1,F.2] ), F.3^7 ];</span>
&lt;fp group on the generators [ f1, f2, f3 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">str := NqStringFpGroup( H, [F.3] );                                  </span>
"&lt; x1, x2; x3 |\n    x1^-1*x2^-1*x1*x2*x1^-1*x2^-1*x1^-1*x2*x1^2,\n    x1^-1*x\
2^-1*x1*x2^-1*x1^-1*x2*x1*x2,\n    x3^7\n&gt;\n"
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NilpotentQuotient( : input_string := str );</span>
Pcp-group with orders [ 7, 7, 7 ]

</pre></div>

<p><a id="X82684F4D79A786F5" name="X82684F4D79A786F5"></a></p>

<h5>3.3-3 NqStringExpTrees</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NqStringExpTrees</code>( <var class="Arg">fp-group</var>[, <var class="Arg">idgens</var>] )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>The function takes a finitely presented group <code class="file">fp-group</code> given in terms of expression trees and returns a string in the input format of the ANU NQ. If the list <code class="file">idgens</code> is present, then it must contain a sublist of the generators of the presentation. The generators in <code class="file">idgens</code> are treated as identical generators.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">x := ExpressionTrees( 2 );</span>
[ x1, x2 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rels := [x[1]^2, x[2]^2, (x[1]*x[2])^5]; </span>
[ x1^2, x2^2, (x1*x2)^5 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NqStringExpTrees( rec( generators := x, relations := rels ) );</span>
"&lt; x1, x2 |\n    x1^2,\n    x2^2,\n    (x1*x2)^5\n&gt;\n"
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Print( last );         </span>
&lt; x1, x2 |
    x1^2,
    x2^2,
    (x1*x2)^5
&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">x := ExpressionTrees( 3 );</span>
[ x1, x2, x3 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rels := [LeftNormedComm( [x[2],x[1],x[1]] ),                              </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">            LeftNormedComm( [x[2],x[1],x[2]] ), x[3]^7 ];</span>
[ Comm( x2, x1, x1 ), Comm( x2, x1, x2 ), x3^7 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NqStringExpTrees( rec( generators := x, relations := rels ) );</span>
"&lt; x1, x2, x3 |\n    [ x2, x1, x1 ],\n    [ x2, x1, x2 ],\n    x3^7\n&gt;\n"
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Print( last );</span>
&lt; x1, x2, x3 |
    [ x2, x1, x1 ],
    [ x2, x1, x2 ],
    x3^7
&gt;

</pre></div>

<p><a id="X7A28800579A2BB35" name="X7A28800579A2BB35"></a></p>

<h5>3.3-4 NqElementaryDivisors</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NqElementaryDivisors</code>( <var class="Arg">int-mat</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>The function <code class="func">ElementaryDivisorsMat</code> (<a href="../../../doc/ref/chap24_mj.html#X7AC4D74F81908109"><span class="RefLink">Reference: ElementaryDivisorsMat</span></a>) only returns the non-zero elementary divisors of an integer matrix. This function computes the elementary divisors of <code class="file">int-mat</code> and adds the appropriate number of zeroes in order to make it easier to recognize the isomorphism type of the abelian group presented by the integer matrix. At the same time ones are stripped from the list of elementary divisors.</p>

<p><a id="X7D9044767BEB1523" name="X7D9044767BEB1523"></a></p>

<h4>3.4 <span class="Heading">Global Variables</span></h4>

<p><a id="X87691A167A83FAF6" name="X87691A167A83FAF6"></a></p>

<h5>3.4-1 NqRuntime</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NqRuntime</code></td><td class="tdright">(&nbsp;global variable&nbsp;)</td></tr></table></div>
<p>This variable contains the number of milliseconds of runtime of the last call of ANU NQ.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NilpotentEngelQuotient( FreeGroup(2), 5 );</span>
Pcp-group with orders [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 10, 
  0, 0, 30, 0, 3, 3, 10, 2, 0, 6, 0, 0, 30, 2, 0, 9, 3, 5, 2, 6, 2, 10, 5, 5, 
  2, 0, 3, 3, 3, 3, 3, 5, 5, 3, 3 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NqRuntime;</span>
18200
</pre></div>

<p><a id="X7DFBFD1580BF024A" name="X7DFBFD1580BF024A"></a></p>

<h5>3.4-2 NqDefaultOptions</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NqDefaultOptions</code></td><td class="tdright">(&nbsp;global variable&nbsp;)</td></tr></table></div>
<p>This variable contains a list of strings which are the standard command line options passed to the ANU NQ in each call. Modifying this variable can be used to pass additional options to the ANU NQ.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NqDefaultOptions;</span>
[ "-g", "-p", "-C", "-s" ]
</pre></div>

<p>The option <var class="Arg">-g</var> causes the ANU NQ to produce output in <strong class="pkg">GAP</strong>-format. The option <var class="Arg">-p</var> prevents the ANU NQ from listing the pc-presentation of the nilpotent quotient at the end of the calculation. The option <var class="Arg">-C</var> invokes the combinatorial collector. The option <var class="Arg">-s</var> is effective only in conjunction with options for computing with Engel identities and instructs the ANU NQ to use only semigroup words in the generators as instances of an Engel law.</p>

<p><a id="X83D1AFCB7EFF4380" name="X83D1AFCB7EFF4380"></a></p>

<h5>3.4-3 NqGlobalVariables</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NqGlobalVariables</code></td><td class="tdright">(&nbsp;global variable&nbsp;)</td></tr></table></div>
<p>This variable contains a list of strings with the names of the global variables that are used in the output stream of the ANU NQ. While the output stream is read, these global variables are assigned new values. To avoid overwriting these variables in case they contain values, their contents is saved before reading the output stream and restored afterwards.</p>

<p><a id="X804DD7CE815D87C9" name="X804DD7CE815D87C9"></a></p>

<h4>3.5 <span class="Heading">Diagnostic Output</span></h4>

<p>While the standalone program is running it can be asked to display progress information. This is done by setting the info class <code class="code">InfoNQ</code> to <span class="SimpleMath">\(1\)</span> via the function <code class="func">SetInfoLevel</code> (<a href="../../../doc/ref/chap7_mj.html#X7B2ADC37783104B9"><span class="RefLink">Reference: InfoLevel</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NilpotentQuotient(FreeGroup(2),5);</span>
Pcp-group with orders [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetInfoLevel( InfoNQ, 1 );</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NilpotentQuotient(FreeGroup(2),5);</span>
#I  Class 1: 2 generators with relative orders  0 0
#I  Class 2: 1 generators with relative orders: 0
#I  Class 3: 2 generators with relative orders: 0 0
#I  Class 4: 3 generators with relative orders: 0 0 0
#I  Class 5: 6 generators with relative orders: 0 0 0 0 0 0
Pcp-group with orders [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetInfoLevel( InfoNQ, 0 );</span>
</pre></div>


<div class="chlinkprevnextbot">&nbsp;<a href="chap0_mj.html">[Top of Book]</a>&nbsp;  <a href="chap0_mj.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap2_mj.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chap4_mj.html">[Next Chapter]</a>&nbsp;  </div>


<div class="chlinkbot"><span class="chlink1">Goto Chapter: </span><a href="chap0_mj.html">Top</a>  <a href="chap1_mj.html">1</a>  <a href="chap2_mj.html">2</a>  <a href="chap3_mj.html">3</a>  <a href="chap4_mj.html">4</a>  <a href="chap5_mj.html">5</a>  <a href="chapA_mj.html">A</a>  <a href="chapBib_mj.html">Bib</a>  <a href="chapInd_mj.html">Ind</a>  </div>

<hr />
<p class="foot">generated by <a href="http://www.math.rwth-aachen.de/~Frank.Luebeck/GAPDoc">GAPDoc2HTML</a></p>
</body>
</html>
