<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<title>GAP (groupoids) - Chapter 5: Homomorphisms of Groupoids</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="generator" content="GAPDoc2HTML" />
<link rel="stylesheet" type="text/css" href="manual.css" />
<script src="manual.js" type="text/javascript"></script>
<script type="text/javascript">overwriteStyle();</script>
</head>
<body class="chap5"  onload="jscontent()">


<div class="chlinktop"><span class="chlink1">Goto Chapter: </span><a href="chap0_mj.html">Top</a>  <a href="chap1_mj.html">1</a>  <a href="chap2_mj.html">2</a>  <a href="chap3_mj.html">3</a>  <a href="chap4_mj.html">4</a>  <a href="chap5_mj.html">5</a>  <a href="chap6_mj.html">6</a>  <a href="chap7_mj.html">7</a>  <a href="chap8_mj.html">8</a>  <a href="chapBib_mj.html">Bib</a>  <a href="chapInd_mj.html">Ind</a>  </div>

<div class="chlinkprevnexttop">&nbsp;<a href="chap0_mj.html">[Top of Book]</a>&nbsp;  <a href="chap0_mj.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap4_mj.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chap6_mj.html">[Next Chapter]</a>&nbsp;  </div>

<p id="mathjaxlink" class="pcenter"><a href="chap5.html">[MathJax off]</a></p>
<p><a id="X879ED2A7878B5A7A" name="X879ED2A7878B5A7A"></a></p>
<div class="ChapSects"><a href="chap5_mj.html#X879ED2A7878B5A7A">5 <span class="Heading">Homomorphisms of Groupoids</span></a>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap5_mj.html#X85D28690823636CD">5.1 <span class="Heading">Homomorphisms from a connected groupoid</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X870288C6803D9005">5.1-1 GroupoidHomomorphismFromSinglePiece</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap5_mj.html#X7BFF46FD8308846F">5.2 <span class="Heading">Properties and attributes of groupoid homomorphisms</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X83DDA9528396451A">5.2-1 <span class="Heading">Properties of a groupoid homomorphism</span></a>
</span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X870565948381B921">5.2-2 <span class="Heading">Attributes of a groupoid homomorphism</span></a>
</span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X85A99D8A83511DDE">5.2-3 RootGroupHomomorphism</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X837EEB9578EA1A78">5.2-4 ImagesOfObjects</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X791DC3F3852A6422">5.2-5 ImageElementsOfRays</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X7C6775A178DB9D39">5.2-6 ObjectGroupHomomorphism</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap5_mj.html#X7DBC80D8817CDA04">5.3 <span class="Heading">Special types of groupoid homomorphism</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X855DB6C8815CDCC3">5.3-1 InclusionMappingGroupoids</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X7946BC207D455A98">5.3-2 RestrictedMappingGroupoids</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X83B8AB6D7C9DB264">5.3-3 IsomorphismNewObjects</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X87C54BB581181400">5.3-4 IsomorphismStandardGroupoid</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X7CF33CCD8278A904">5.3-5 IsomorphismPermGroupoid</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap5_mj.html#X7EAAB2A97E097FB6">5.4 <span class="Heading">Homomorphisms to a connected groupoid</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X8700B5977B2513C1">5.4-1 HomomorphismToSinglePiece</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X87225D86785DEBC2">5.4-2 GroupoidHomomorphismFromHomogeneousDiscrete</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap5_mj.html#X795C8DE37AED7B44">5.5 <span class="Heading">Homomorphisms to more than one piece</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X847094F478113EA6">5.5-1 HomomorphismByUnion</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X7E2C6BCC7AAB25BE">5.5-2 IsomorphismGroupoids</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap5_mj.html#X803E01577A2B37D2">5.6 <span class="Heading">Automorphisms of groupoids</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X79DA704A8051CB72">5.6-1 GroupoidAutomorphismByObjectPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X8278B93E7F78038C">5.6-2 <span class="Heading">Automorphisms of a groupoid with rays</span></a>
</span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X7DB9D5737EB8C260">5.6-3 AutomorphismGroupOfGroupoid</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X7EC237ED7E1978B0">5.6-4 <span class="Heading">Inner automorphisms</span></a>
</span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X80F9594481CA9FDE">5.6-5 GroupoidAutomorphismByGroupAutos</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap5_mj.html#X7A93C6507BC697CD">5.6-6 AutomorphismGroupoidOfGroupoid</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap5_mj.html#X8003AF117B956D16">5.7 <span class="Heading">Matrix representations of groupoids</span></a>
</span>
</div>
</div>

<h3>5 <span class="Heading">Homomorphisms of Groupoids</span></h3>

<p>A <em>homomorphism</em> <span class="SimpleMath">\(m\)</span> from a groupoid <span class="SimpleMath">\(G\)</span> to a groupoid <span class="SimpleMath">\(H\)</span> consists of a map from the objects of <span class="SimpleMath">\(G\)</span> to those of <span class="SimpleMath">\(H\)</span> together with a map from the elements of <span class="SimpleMath">\(G\)</span> to those of <span class="SimpleMath">\(H\)</span> which is compatible with tail and head and which preserves multiplication:</p>

<p class="center">\[
m(g1 : o1 \to o2)*m(g2 : o2 \to o3) ~=~ m(g1*g2 : o1 \to o3).
\]</p>

<p>Note that when a homomorphism is not injective on objects, the image of the source need not be a subgroupoid of the range. A simple example of this is given by a homomorphism from the two-object, four-element groupoid with trivial group to the free group <span class="SimpleMath">\(\langle a \rangle\)</span> on one generator, when the image is <span class="SimpleMath">\([1,a^n,a^{-n}]\)</span> for some <span class="SimpleMath">\(n&gt;0\)</span>.</p>

<p>A variety of homomorphism operations are available.</p>


<ul>
<li><p>The basic construction is a homomorphism <span class="SimpleMath">\(\phi : G \to H\)</span> <em>from</em> a connected groupoid <span class="SimpleMath">\(G\)</span> to a connected groupoid <span class="SimpleMath">\(H\)</span>, constructed using <code class="code">GroupoidHomomorphismFromSinglePiece</code>, (see <a href="chap5_mj.html#X85D28690823636CD"><span class="RefLink">5.1</span></a>).</p>

</li>
<li><p>Since more than one connected groupoid may be mapped <em>to</em> the same range, we then have the operation <code class="code">GroupoidHomomorphismToSinglePiece</code>, (see <a href="chap5_mj.html#X7EAAB2A97E097FB6"><span class="RefLink">5.4</span></a>).</p>

</li>
<li><p>The third case arises when the range is a union of connected groupoids, in which case <code class="code">HomomorphismByUnion</code> is called, (see <a href="chap5_mj.html#X795C8DE37AED7B44"><span class="RefLink">5.5</span></a>).</p>

</li>
<li><p>Fourthly, there are is an additional operation for the case where the source is homogeneous and discrete, <code class="code">GroupoidHomomorphismFromHomogeneousDiscrete</code>, (see <a href="chap5_mj.html#X87225D86785DEBC2"><span class="RefLink">5.4-2</span></a>).</p>

</li>
<li><p>Finally, there are special operations for inclusion mappings, restricted mappings, and groupoid automorphisms (see <a href="chap5_mj.html#X803E01577A2B37D2"><span class="RefLink">5.6</span></a>).</p>

</li>
</ul>
<p><a id="X85D28690823636CD" name="X85D28690823636CD"></a></p>

<h4>5.1 <span class="Heading">Homomorphisms from a connected groupoid</span></h4>

<p><a id="X870288C6803D9005" name="X870288C6803D9005"></a></p>

<h5>5.1-1 GroupoidHomomorphismFromSinglePiece</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; GroupoidHomomorphismFromSinglePiece</code>( <var class="Arg">src</var>, <var class="Arg">rng</var>, <var class="Arg">gens</var>, <var class="Arg">images</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; GroupoidHomomorphism</code>( <var class="Arg">args</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; MappingToSinglePieceData</code>( <var class="Arg">map</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>The simplest groupoid homomorphism is a mapping <span class="SimpleMath">\(\phi : G \to H\)</span> from a connected groupoid <span class="SimpleMath">\(G\)</span> to a connected groupoid <span class="SimpleMath">\(H\)</span>. There are two equivalent sets of input data which may be used. Both require the <code class="code">Source</code> <span class="SimpleMath">\(G\)</span> and the <code class="code">Range</code> <span class="SimpleMath">\(H\)</span>. The first then requires:</p>


<ul>
<li><p>the set of generating arrows <code class="code">GeneratorsOfGroupoid(G)</code>;</p>

</li>
<li><p>a list of image arrows in <span class="SimpleMath">\(H\)</span>.</p>

</li>
</ul>
<p>This data is stored in the attribute <code class="code">MappingGeneratorsImages</code>.</p>

<p>The alternative input data consists of:</p>


<ul>
<li><p>a homomorphism <code class="code">rhom</code> from the root group of <span class="SimpleMath">\(G\)</span> to the group at the image object in <span class="SimpleMath">\(H\)</span>;</p>

</li>
<li><p>a list <code class="code">imobs</code> of the images of the objects of <span class="SimpleMath">\(G\)</span>;</p>

</li>
<li><p>a list <code class="code">imrays</code> of the elements in the images of the rays of <span class="SimpleMath">\(G\)</span>, so that the image <span class="SimpleMath">\(\phi(r_i : o_1 \to o_i)\)</span> of the <span class="SimpleMath">\(i\)</span>-th ray is <code class="code">(imrays[i]:imobs[1]</code><span class="SimpleMath">\(\to\)</span><code class="code">imobs[i])</code>.</p>

</li>
</ul>
<p>This data is stored in the attribute <code class="code">MappingToSinglePieceData</code>.</p>

<p>So an alternative way to construct a homomorphism of groupoids is to make a call of the form <code class="code">GroupoidHomomorphism(src,rng,rhom,imobs,imrays)</code>.</p>

<p>In the following example the same homomorphism is constructed using both methods.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">gen1 := GeneratorsOfGroupoid( Gq8 ); </span>
[ [x : -28 -&gt; -28], [y : -28 -&gt; -28], [y2 : -28 -&gt; -28], 
  [&lt;identity&gt; of ... : -28 -&gt; -27] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">gen2 := GeneratorsOfGroupoid( Hd8b ); </span>
[ [(1,2,3,4) : -14 -&gt; -14], [(1,3) : -14 -&gt; -14], [(1,2,3) : -14 -&gt; -13], 
  [(1,2,4) : -14 -&gt; -12] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">images := [ gen2[1]^2, gen2[1]*gen2[2], IdentityArrow(Hd8b,-14), gen2[4] ];</span>
[ [(1,3)(2,4) : -14 -&gt; -14], [(1,2)(3,4) : -14 -&gt; -14], [() : -14 -&gt; -14], 
  [(1,2,4) : -14 -&gt; -12] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">mor1 := GroupoidHomomorphism( Gq8, Hd8b, gen1, images );</span>
groupoid homomorphism : Gq8 -&gt; Hd8b
[ [ [x : -28 -&gt; -28], [y : -28 -&gt; -28], [y2 : -28 -&gt; -28], 
      [&lt;identity&gt; of ... : -28 -&gt; -27] ], 
  [ [(1,3)(2,4) : -14 -&gt; -14], [(1,2)(3,4) : -14 -&gt; -14], [() : -14 -&gt; -14], 
      [(1,2,4) : -14 -&gt; -12] ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">genq8 := GeneratorsOfGroup( q8 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">imh := [ (1,3)(2,4), (1,2)(3,4), () ];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">h := GroupHomomorphismByImages( q8, d8, genq8, imh );                     </span>
[ x, y, y2 ] -&gt; [ (1,3)(2,4), (1,2)(3,4), () ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">mor2 := GroupoidHomomorphism( Gq8, Hd8b, h, [-14,-12], [(),(1,2,4)] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">mor1=mor2;</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">e := Arrow( Gq8, Product(genq8), -27, -28 );</span>
[x*y*y2 : -27 -&gt; -28]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ImageElm( mor2, e );</span>
[(2,4,3) : -12 -&gt; -14]

</pre></div>

<p><a id="X7BFF46FD8308846F" name="X7BFF46FD8308846F"></a></p>

<h4>5.2 <span class="Heading">Properties and attributes of groupoid homomorphisms</span></h4>

<p><a id="X83DDA9528396451A" name="X83DDA9528396451A"></a></p>

<h5>5.2-1 <span class="Heading">Properties of a groupoid homomorphism</span></h5>

<p>The properties listed in subsection <a href="chap3_mj.html#X795C8DE37AED7B44"><span class="RefLink">3.3</span></a> for homomorphisms of magmas with objects also apply to groupoid homomorphisms.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">[ IsInjectiveOnObjects( mor2 ), IsSurjectiveOnObjects( mor2 ) ]; </span>
[ true, false ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">[ IsInjective( mor2 ), IsSurjective( mor2 ) ];</span>
[ false, false ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ad8 := GroupHomomorphismByImages( d8, d8, </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">              [ (1,2,3,4), (1,3) ], [ (1,4,3,2), (2,4) ] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">md8 := GroupoidHomomorphism( Gd8, Gd8, ad8, [-7,-9,-8], [(),(1,3),(2,4)] );</span>
groupoid homomorphism : Gd8 -&gt; Gd8
[ [ [(1,2,3,4) : -9 -&gt; -9], [(1,3) : -9 -&gt; -9], [() : -9 -&gt; -8], 
      [() : -9 -&gt; -7] ], 
  [ [(1,4,3,2) : -7 -&gt; -7], [(2,4) : -7 -&gt; -7], [(1,3) : -7 -&gt; -9], 
      [(2,4) : -7 -&gt; -8] ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsBijectiveOnObjects( md8 );</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">[ IsInjective( md8 ), IsSurjective( md8 ) ];  </span>
[ true, true ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">[ IsEndomorphismWithObjects( md8 ), IsAutomorphismWithObjects( md8 ) ];</span>
[
</pre></div>

<p><a id="X870565948381B921" name="X870565948381B921"></a></p>

<h5>5.2-2 <span class="Heading">Attributes of a groupoid homomorphism</span></h5>

<p>The attributes of a groupoid homomorphism <code class="code">mor</code> from a single piece groupoid cover both forms of construction defined above.</p>


<ul>
<li><p><code class="code">S = Source(mor)</code> is the source groupoid of the homomorphism;</p>

</li>
<li><p><code class="code">R = Range(mor)</code> is the range groupoid of the homomorphism;</p>

</li>
<li><p><code class="code">RootGroupHomomorphism(mor)</code> is the group homomorphism from the root group of <code class="code">S</code> to the group at the image object in <code class="code">R</code> of the root object in <code class="code">S</code>;</p>

</li>
<li><p><code class="code">ImagesOfObjects(mor)</code> is the list of objects in <code class="code">R</code> which are the images of the objects in <code class="code">S</code>;</p>

</li>
<li><p><code class="code">ImageElementsOfRays(mor)</code> is the list of group elements in those arrows in <code class="code">R</code> which are the images of the rays in <code class="code">S</code>;</p>

</li>
<li><p><code class="code">MappingGeneratorsImages(mor)</code> is the two element list containing the list of generators in <code class="code">S</code> and the list of their images in <code class="code">R</code>;</p>

</li>
<li><p><code class="code">MappingToSinglePieceData(mor)</code> is a list with three elements: the root group homomorphism; the images of the objects; and the images of the rays.</p>

</li>
</ul>
<p>For other types of homomorphism the attributes are very similar.</p>

<p>The operation <code class="code">ObjectGroupHomomorphism</code>, though an operation, is included in this section for convenience.</p>

<p><a id="X85A99D8A83511DDE" name="X85A99D8A83511DDE"></a></p>

<h5>5.2-3 RootGroupHomomorphism</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RootGroupHomomorphism</code>( <var class="Arg">hom</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>This is the group homomorphism from the root group of the source groupoid to the group at the image object in the range groupoid of the root object in the source.</p>

<p><a id="X837EEB9578EA1A78" name="X837EEB9578EA1A78"></a></p>

<h5>5.2-4 ImagesOfObjects</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ImagesOfObjects</code>( <var class="Arg">hom</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>This is the list of objects in the range groupoid which are the images of the objects in the source.</p>

<p><a id="X791DC3F3852A6422" name="X791DC3F3852A6422"></a></p>

<h5>5.2-5 ImageElementsOfRays</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ImageElementsOfRays</code>( <var class="Arg">hom</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>This is the list of group elements in those arrows in the range groupoid which are the images of the rays in the source.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RootGroupHomomorphism( mor2 );</span>
[ x, y, y2 ] -&gt; [ (1,3)(2,4), (1,2)(3,4), () ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ImagesOfObjects( mor2 );      </span>
[ -14, -12 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ImageElementsOfRays( mor2 );</span>
[ (), (1,2,4) ]

</pre></div>

<p><a id="X7C6775A178DB9D39" name="X7C6775A178DB9D39"></a></p>

<h5>5.2-6 ObjectGroupHomomorphism</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ObjectGroupHomomorphism</code>( <var class="Arg">gpdhom</var>, <var class="Arg">obj</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>This operations gives the group homomorphism from an object group of the source to the object group at the image object in the range.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ObjectGroupHomomorphism( mor1, -27 );</span>
[ x, y, y2 ] -&gt; [ (1,4)(2,3), (1,3)(2,4), () ]

</pre></div>

<p><a id="X7DBC80D8817CDA04" name="X7DBC80D8817CDA04"></a></p>

<h4>5.3 <span class="Heading">Special types of groupoid homomorphism</span></h4>

<p>In this section we mention inclusion mappings of subgroupoids; and mappings restricted to a source subgroupoid. We also discuss various types of isomorphism: to a different set of objects; to a permutation groupoid; to a pc-groupoid.</p>

<p><a id="X855DB6C8815CDCC3" name="X855DB6C8815CDCC3"></a></p>

<h5>5.3-1 InclusionMappingGroupoids</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; InclusionMappingGroupoids</code>( <var class="Arg">gpd</var>, <var class="Arg">sgpd</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>The operation <code class="code">InclusionMappingGroupoids(gpd,sgpd)</code> returns the inclusion homomorphism from the subgroupoid <code class="code">sgpd</code> to <code class="code">gpd</code>.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">inc := InclusionMappingGroupoids( Hs4, Hd8b );</span>
groupoid homomorphism : Hd8b -&gt; Hs4
[ [ [(1,2,3,4) : -14 -&gt; -14], [(1,3) : -14 -&gt; -14], [(1,2,3) : -14 -&gt; -13], 
      [(1,2,4) : -14 -&gt; -12] ], 
  [ [(1,2,3,4) : -14 -&gt; -14], [(1,3) : -14 -&gt; -14], [(1,2,3) : -14 -&gt; -13], 
      [(1,2,4) : -14 -&gt; -12] ] ]

</pre></div>

<p><a id="X7946BC207D455A98" name="X7946BC207D455A98"></a></p>

<h5>5.3-2 RestrictedMappingGroupoids</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RestrictedMappingGroupoids</code>( <var class="Arg">mor</var>, <var class="Arg">sgpd</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ParentMappingGroupoids</code>( <var class="Arg">mor</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>The operation <code class="code">RestrictedMappingGroupoids(mor,sgpd)</code> returns the restriction of the homomorphism <code class="code">mor</code> to the subgroupoid <code class="code">sgpd</code> of its source. The range is usually set to the <code class="code">ImagesSource</code> of the restriction. The restriction is assigned the attribute <code class="code">ParentMappingGroupoids</code> with value <code class="code">mor</code> (or that of <code class="code">mor</code> is one exists). For another example see section <a href="chap5_mj.html#X8003AF117B956D16"><span class="RefLink">5.7</span></a>.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">max := MaximalDiscreteSubgroupoid( Hd8b );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">res := RestrictedMappingGroupoids( inc, max );</span>
groupoid homomorphism from several pieces : 
groupoid homomorphism : 
[ [ [(1,2,3,4) : -14 -&gt; -14], [(1,3) : -14 -&gt; -14] ], 
  [ [(1,2,3,4) : -14 -&gt; -14], [(1,3) : -14 -&gt; -14] ] ]
groupoid homomorphism : 
[ [ [(1,4,2,3) : -13 -&gt; -13], [(1,2) : -13 -&gt; -13] ], 
  [ [(1,4,2,3) : -13 -&gt; -13], [(1,2) : -13 -&gt; -13] ] ]
groupoid homomorphism : 
[ [ [(1,2,4,3) : -12 -&gt; -12], [(2,3) : -12 -&gt; -12] ], 
  [ [(1,2,4,3) : -12 -&gt; -12], [(2,3) : -12 -&gt; -12] ] ]

</pre></div>

<p><a id="X83B8AB6D7C9DB264" name="X83B8AB6D7C9DB264"></a></p>

<h5>5.3-3 IsomorphismNewObjects</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsomorphismNewObjects</code>( <var class="Arg">src</var>, <var class="Arg">objlist</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>The operation <code class="code">IsomorphismNewObjects(gpd,obs)</code> returns the isomorphism from a groupoid <code class="code">gpd</code> to a groupoid with the same object group and ray elements but with a different set <code class="code">obs</code> of objects.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">iso1 := IsomorphismNewObjects( Hs4, [-30,-20,-10] ); </span>
groupoid homomorphism : 
[ [ [(1,2,3,4) : -14 -&gt; -14], [(3,4) : -14 -&gt; -14], [() : -14 -&gt; -13], 
      [() : -14 -&gt; -12] ], 
  [ [(1,2,3,4) : -30 -&gt; -30], [(3,4) : -30 -&gt; -30], [() : -30 -&gt; -20], 
      [() : -30 -&gt; -10] ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">inc2 := mor2*inc*iso1;</span>
groupoid homomorphism : 
[ [ [x : -28 -&gt; -28], [y : -28 -&gt; -28], [y2 : -28 -&gt; -28], 
      [&lt;identity&gt; of ... : -28 -&gt; -27] ], 
  [ [(1,3)(2,4) : -30 -&gt; -30], [(1,2)(3,4) : -30 -&gt; -30], [() : -30 -&gt; -30], 
      [(1,2,4) : -30 -&gt; -10] ] ]

</pre></div>

<p><a id="X87C54BB581181400" name="X87C54BB581181400"></a></p>

<h5>5.3-4 IsomorphismStandardGroupoid</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsomorphismStandardGroupoid</code>( <var class="Arg">gpd</var>, <var class="Arg">obs</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>The operation <code class="code">IsomorphismStandardGroupoid(gpd,obs)</code> returns the isomorphism from a groupoid with rays to the groupoid of type <code class="code">IsDirectProductWithCompleteDigraphDomain</code> on the given set <code class="code">obs</code> of objects.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">iso2 := IsomorphismStandardGroupoid( Hd8b, [-23,-22,-21] );</span>
groupoid homomorphism : 
[ [ [(1,2,3,4) : -14 -&gt; -14], [(1,3) : -14 -&gt; -14], [(1,2,3) : -14 -&gt; -13], 
      [(1,2,4) : -14 -&gt; -12] ], 
  [ [(1,2,3,4) : -23 -&gt; -23], [(1,3) : -23 -&gt; -23], [() : -23 -&gt; -22], 
      [() : -23 -&gt; -21] ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">inv2 := InverseGeneralMapping( iso2 );</span>
groupoid homomorphism : 
[ [ [(1,2,3,4) : -23 -&gt; -23], [(1,3) : -23 -&gt; -23], [() : -23 -&gt; -22], 
      [() : -23 -&gt; -21] ], 
  [ [(1,2,3,4) : -14 -&gt; -14], [(1,3) : -14 -&gt; -14], [(1,2,3) : -14 -&gt; -13], 
      [(1,2,4) : -14 -&gt; -12] ] ]

</pre></div>

<p>This operation may also be used to provide a standard form for groupoids of type <code class="code">IsGroupoidByIsomorphisms</code> as described in subsection <code class="func">GroupoidByIsomorphisms</code> (<a href="chap4_mj.html#X7B066DE28574A768"><span class="RefLink">4.6-1</span></a>).</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">G2;</span>
single piece groupoid with rays: &lt; s3a, [ -7, -6, -5 ], 
[ [ (), () ], [ (), &lt;identity&gt; of ... ], [ (), &lt;identity ...&gt; ] ] &gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">isoG2 := IsomorphismStandardGroupoid( G2, [-17,-16,-15] ); </span>
groupoid homomorphism : 
[ [ [[ (1,2), (1,2) ] : -7 -&gt; -7], [[ (2,3), (2,3) ] : -7 -&gt; -7], 
      [[ (), &lt;identity&gt; of ... ] : -7 -&gt; -6], [[ (), &lt;identity ...&gt; ] : -7 -&gt; 
        -5] ], 
  [ [(1,2) : -17 -&gt; -17], [(2,3) : -17 -&gt; -17], [() : -17 -&gt; -16], 
      [() : -17 -&gt; -15] ] ]

</pre></div>

<p><a id="X7CF33CCD8278A904" name="X7CF33CCD8278A904"></a></p>

<h5>5.3-5 IsomorphismPermGroupoid</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsomorphismPermGroupoid</code>( <var class="Arg">gpd</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsomorphismPcGroupoid</code>( <var class="Arg">gpd</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>The operation <code class="code">IsomorphismPermGroupoid(gpd)</code> returns an isomorphism from a groupoid <code class="code">gpd</code> to a groupoid with the same objects but with an isomorphic permutation group. Similarly, <code class="code">IsomorphismPcGroupoid(gpd)</code> changes the group into a pc-group (if appropriate).</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">N2 := NormalSubgroups( q8 )[2];; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Hq8 := SubgroupoidWithRays( Gq8, N2, [ One(q8), q8.1 ] ); </span>
single piece groupoid with rays: &lt; N2, [ -28, -27 ], [ &lt;identity&gt; of ..., x 
 ] &gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">isoHq8 := IsomorphismPermGroupoid( Hq8 );</span>
groupoid homomorphism : 
[ [ y : -28 -&gt; -28], [y2 : -28 -&gt; -28], [x : -28 -&gt; -27] ], 
  [ [(1,3,4,7)(2,5,6,8) : -28 -&gt; -28], [(1,4)(2,6)(3,7)(5,8) : -28 -&gt; -28], 
      [(1,2,4,6)(3,8,7,5) : -28 -&gt; -27] ] ]

</pre></div>

<p><a id="X7EAAB2A97E097FB6" name="X7EAAB2A97E097FB6"></a></p>

<h4>5.4 <span class="Heading">Homomorphisms to a connected groupoid</span></h4>

<p><a id="X8700B5977B2513C1" name="X8700B5977B2513C1"></a></p>

<h5>5.4-1 HomomorphismToSinglePiece</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; HomomorphismToSinglePiece</code>( <var class="Arg">src</var>, <var class="Arg">rng</var>, <var class="Arg">piecehoms</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>When <span class="SimpleMath">\(G\)</span> is made up of two or more pieces, all of which get mapped to a connected groupoid, we have a <em>homomorphism to a single piece</em>. The third input parameter in this case is a list of the individual homomorphisms <em>from</em> the single pieces (in the correct order!). See section <a href="chap3_mj.html#X82F856A086B93832"><span class="RefLink">3.1</span></a> for the corresponding operation on homomorphisms of magmas with objects.</p>

<p>In the following example the source <code class="code">V3</code> of <code class="code">homV3</code> has three pieces, and one of the component homomorphisms is an <code class="code">IdentityMapping</code> .</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">gend12 := [ (15,16,17,18,19,20), (15,20)(16,19)(17,18) ];; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">d12 := Group( gend12 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Gd12 := Groupoid( d12, [-37,-36,-35,-34] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( d12, "d12" );  </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( Gd12, "Gd12" );</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">s3 := Subgroup( d12, [ (15,17,19)(16,18,20), (15,20)(16,19)(17,18) ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Gs3 := SubgroupoidByPieces( Gd12, [ [ s3, [-36,-35,-34] ] ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( s3, "s3" );  </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( Gs3, "Gs3" );</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">gend8 := GeneratorsOfGroup( d8 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">imhd8 := [ ( ), (15,20)(16,19)(17,18) ];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">hd8 := GroupHomomorphismByImages( d8, s3, gend8, imhd8 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">homd8 := GroupoidHomomorphism( Gd8, Gs3, hd8 ); </span>
groupoid homomorphism : Gd8 -&gt; Gs3
[ [ [(1,2,3,4) : -9 -&gt; -9], [(1,3) : -9 -&gt; -9], [() : -9 -&gt; -8], 
      [() : -9 -&gt; -7] ], 
  [ [() : -36 -&gt; -36], [(15,20)(16,19)(17,18) : -36 -&gt; -36], 
      [() : -36 -&gt; -35], [() : -36 -&gt; -34] ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">hc6 := GroupHomomorphismByImages( c6, s3, </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">           [(5,6,7)(8,9)], [(15,16)(17,20)(18,19)] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Fs3 := SubgroupoidByObjects( Gs3, [ -35 ] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( Fs3, "Fs3" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">homc6 := GroupoidHomomorphism( Gc6, Fs3, hc6 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">incFs3 := InclusionMappingGroupoids( Gs3, Fs3 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ihomc6 := homc6 * incFs3; </span>
groupoid homomorphism : Gc6 -&gt; Gs3
[ [ [(5,6,7)(8,9) : -6 -&gt; -6] ], [ [(15,16)(17,20)(18,19) : -35 -&gt; -35] ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">idGs3 := IdentityMapping( Gs3 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">V3 := ReplaceOnePieceInUnion( U3, 1, Gs3 ); </span>
groupoid with 3 pieces:
[ Gs3, Gd8, Gc6 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">homs3 := [ idGs3, homd8, ihomc6 ];; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">homV3 := HomomorphismToSinglePiece( V3, Gs3, homs3 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display( homV3 );         </span>
homomorphism to single piece groupoid with pieces:
(1) :  groupoid mapping: [ Gs3 ] -&gt; [ Gs3 ]
root homomorphism: [ [ (15,17,19)(16,18,20), (15,20)(16,19)(17,18) ], 
  [ (15,17,19)(16,18,20), (15,20)(16,19)(17,18) ] ]
images of objects: [ -36, -35, -34 ]
   images of rays: [ [() : -36 -&gt; -36], [() : -36 -&gt; -35], [() : -36 -&gt; -34] ]
(2) :  groupoid mapping: [ Gd8 ] -&gt; [ Gs3 ]
root homomorphism: [ [ (1,2,3,4), (1,3) ], [ (), (15,20)(16,19)(17,18) ] ]
images of objects: [ -36, -35, -34 ]
   images of rays: [ [() : -36 -&gt; -36], [() : -36 -&gt; -35], [() : -36 -&gt; -34] ]
(3) :  groupoid mapping: [ Gc6 ] -&gt; [ Gs3 ]
root homomorphism: [ [ (5,6,7)(8,9) ], [ (15,16)(17,20)(18,19) ] ]
images of objects: [ -35 ]
   images of rays: [ [() : -35 -&gt; -35] ]

</pre></div>

<p><a id="X87225D86785DEBC2" name="X87225D86785DEBC2"></a></p>

<h5>5.4-2 GroupoidHomomorphismFromHomogeneousDiscrete</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; GroupoidHomomorphismFromHomogeneousDiscrete</code>( <var class="Arg">src</var>, <var class="Arg">rng</var>, <var class="Arg">homs</var>, <var class="Arg">oims</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>This operation requires the source and range; a list of homomorphisms from object group to object group; and a list of the image objects.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Dd8 := MaximalDiscreteSubgroupoid( Gd8 );</span>
homogeneous, discrete groupoid: &lt; d8, [ -9, -8, -7 ] &gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">id8 := IdentityMapping( d8 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">GroupoidHomomorphismFromHomogeneousDiscrete( Dd8, Gd8, [id8,id8,id8], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">   [-8,-7,-9] );                                                        </span>
groupoid homomorphism : morphism from a homogeneous discrete groupoid:
[ -9, -8, -7 ] -&gt; [ -8, -7, -9 ]
object homomorphisms:
IdentityMapping( d8 )
IdentityMapping( d8 )
IdentityMapping( d8 )

</pre></div>

<p><a id="X795C8DE37AED7B44" name="X795C8DE37AED7B44"></a></p>

<h4>5.5 <span class="Heading">Homomorphisms to more than one piece</span></h4>

<p><a id="X847094F478113EA6" name="X847094F478113EA6"></a></p>

<h5>5.5-1 HomomorphismByUnion</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; HomomorphismByUnion</code>( <var class="Arg">src</var>, <var class="Arg">rng</var>, <var class="Arg">homs</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>As in section <a href="chap3_mj.html#X795C8DE37AED7B44"><span class="RefLink">3.3</span></a>, when the range <span class="SimpleMath">\(H\)</span> has more than one connected component, a homomorphism is a union of homomorphisms, one for each piece in the range.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">isoq8 := IsomorphismNewObjects( Gq8, [-38,-37] ); </span>
groupoid homomorphism : 
[ [ [x : -28 -&gt; -28], [y : -28 -&gt; -28], [y2 : -28 -&gt; -28], 
      [&lt;identity&gt; of ... : -28 -&gt; -27] ], 
  [ [x : -38 -&gt; -38], [y : -38 -&gt; -38], [y2 : -38 -&gt; -38], 
      [&lt;identity&gt; of ... : -38 -&gt; -37] ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Gq8b := Range( isoq8 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( Gq8b, "Gq8b" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">V4 := UnionOfPieces( [ V3, Gq8 ] ); </span>
groupoid with 4 pieces:
[ Gs3, Gq8, Gd8, Gc6 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( V4, "V4" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Vs3q8b := UnionOfPieces( [ Gs3, Gq8b ] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( Vs3q8b, "Vs3q8b" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">hom4 := HomomorphismByUnion( V4, Vs3q8b, [ homV3, isoq8 ] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display( hom4 );</span>
magma homomorphism: V4 -&gt; Vs3q8b with pieces :
[ Pcgs([ x, y, y2 ]) -&gt; [ x, y, y2 ], [ -38, -37 ], 
  [ &lt;identity&gt; of ..., &lt;identity&gt; of ... ] ]
(1) :  groupoid mapping: [ Gs3 ] -&gt; [ Gs3 ]
root homomorphism: [ [ (15,17,19)(16,18,20), (15,20)(16,19)(17,18) ], 
  [ (15,17,19)(16,18,20), (15,20)(16,19)(17,18) ] ]
images of objects: [ -36, -35, -34 ]
   images of rays: [ [() : -36 -&gt; -36], [() : -36 -&gt; -35], [() : -36 -&gt; -34] ]
(2) :  groupoid mapping: [ Gd8 ] -&gt; [ Gs3 ]
root homomorphism: [ [ (1,2,3,4), (1,3) ], [ (), (15,20)(16,19)(17,18) ] ]
images of objects: [ -36, -35, -34 ]
   images of rays: [ [() : -36 -&gt; -36], [() : -36 -&gt; -35], [() : -36 -&gt; -34] ]
(3) :  groupoid mapping: [ Gc6 ] -&gt; [ Gs3 ]
root homomorphism: [ [ (5,6,7)(8,9) ], [ (15,16)(17,20)(18,19) ] ]
images of objects: [ -35 ]
   images of rays: [ [() : -35 -&gt; -35] ]

</pre></div>

<p><a id="X7E2C6BCC7AAB25BE" name="X7E2C6BCC7AAB25BE"></a></p>

<h5>5.5-2 IsomorphismGroupoids</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsomorphismGroupoids</code>( <var class="Arg">A</var>, <var class="Arg">B</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>When <span class="SimpleMath">\(A,B\)</span> are two single piece groupoids, they are isomorphic provided they have the same number of objects and the root groups are isomorphic.</p>

<p>When <span class="SimpleMath">\(A=[A_1,\ldots,A_n],~ B=[B_1,\ldots,B_n]\)</span> are both unions of connected groupoids, they are isomorphic if there is a permutation <span class="SimpleMath">\(\pi\)</span> of <span class="SimpleMath">\([1,\ldots,n]\)</span> such that <span class="SimpleMath">\(A_i\)</span> is isomorphic to <span class="SimpleMath">\(B_{\pi(i)}\)</span> for all <span class="SimpleMath">\(i\)</span>.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">s3a := Group( (1,2,3), (2,3) );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">s3b := Group( (4,6,8)(5,7,9), (4,9)(5,8)(6,7) );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">s3c := Group( (4,6,8)(5,7,9), (5,9)(6,8) );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Ga := SinglePieceGroupoid( s3a, [-23,-22,-21] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( Ga, "Ga" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Gb := SinglePieceGroupoid( s3b, [-6,-5,-4] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( Gb, "Gb" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Gc := SinglePieceGroupoid( s3c, [-9,-8,-7] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( Gc, "Gc" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">c6a := Group( (1,2,3,4,5,6) );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">c6b := Group( (7,8)(9,10,11) );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">c6c := Group( (12,13)(14,15)(16,17,18)(19,20,21)(22,23,24,25,26,27) );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Ha := SinglePieceGroupoid( c6a, [-3,-2,-1] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( Ha, "Ha" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Hb := SinglePieceGroupoid( c6b, [-16,-15,-14] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( Hb, "Hb" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Hc := SinglePieceGroupoid( c6c, [-19,-18,-17] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( Hc, "Hc" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsomorphismGroupoids( Ga, Gb ); </span>
groupoid homomorphism : Ga -&gt; Gb
[ [ [(1,2,3) : -23 -&gt; -23], [(2,3) : -23 -&gt; -23], [() : -23 -&gt; -22], 
      [() : -23 -&gt; -21] ], 
  [ [(4,6,8)(5,7,9) : -6 -&gt; -6], [(4,9)(5,8)(6,7) : -6 -&gt; -6], 
      [() : -6 -&gt; -5], [() : -6 -&gt; -4] ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsomorphismGroupoids( Ga, Ha );</span>
fail
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">A := UnionOfPieces( [ Ha, Gb, Gc, Hb ] ); </span>
groupoid with 4 pieces:
[ Hb, Gc, Gb, Ha ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">B := UnionOfPieces( [ Gc, Hb, Hc, Ga ] ); </span>
groupoid with 4 pieces:
[ Ga, Hc, Hb, Gc ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">iso := IsomorphismGroupoids( A, B );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Print( List( PiecesOfMapping(iso), p -&gt; [Source(p),Range(p)] ) );</span>
[ [ Gc, Ga ], [ Hb, Hc ], [ Ha, Hb ], [ Gb, Gc ] ]

</pre></div>

<p><a id="X803E01577A2B37D2" name="X803E01577A2B37D2"></a></p>

<h4>5.6 <span class="Heading">Automorphisms of groupoids</span></h4>

<p>In this sections we consider automorphisms of single piece groupoids, then homogeneous discrete groupoids, and then homogeneous groupoids.</p>

<p><a id="X79DA704A8051CB72" name="X79DA704A8051CB72"></a></p>

<h5>5.6-1 GroupoidAutomorphismByObjectPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; GroupoidAutomorphismByObjectPerm</code>( <var class="Arg">gpd</var>, <var class="Arg">imobs</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; GroupoidAutomorphismByGroupAuto</code>( <var class="Arg">gpd</var>, <var class="Arg">gpiso</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; GroupoidAutomorphismByRayShifts</code>( <var class="Arg">gpd</var>, <var class="Arg">imrays</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; GroupoidInnerAutomorphism</code>( <var class="Arg">gpd</var>, <var class="Arg">arrow</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>We first describe automorphisms of a groupoid <span class="SimpleMath">\(G\)</span> where <span class="SimpleMath">\(G\)</span> is the direct product of a group <span class="SimpleMath">\(g\)</span> and a complete digraph. The automorphism group is generated by three types of automorphism:</p>


<ul>
<li><p>given a permutation <span class="SimpleMath">\(\pi\)</span> of the <span class="SimpleMath">\(n\)</span> objects, we define <span class="SimpleMath">\(\pi : G \to G,~ (o_i,g,o_j) \mapsto (o_{\pi i},g,o_{\pi j})\)</span>;</p>

</li>
<li><p>given an automorphism <span class="SimpleMath">\(\alpha\)</span> of the root group <span class="SimpleMath">\(g\)</span>, we define <span class="SimpleMath">\(\alpha : G \to G,~ (o_i,g,o_j) \mapsto (o_i,\alpha g,o_j)\)</span>;</p>

</li>
<li><p>given <span class="SimpleMath">\(L = [1,g_2,g_3,\ldots,g_n] \in g^n\)</span> we define <span class="SimpleMath">\(\theta_L : G \to G,~ (o_i,g,o_j) \mapsto (o_i,g_i^{-1}gg_j,o_j)\)</span> so that, in particular, for all <span class="SimpleMath">\(j\)</span> the rays <span class="SimpleMath">\((r_j : o_1 \to o_j)\)</span> are shifted by <span class="SimpleMath">\(g_j\;\)</span>: they map to <span class="SimpleMath">\((r_jg_j : o_1 \to o_j)\)</span>;</p>

</li>
<li><p>given <span class="SimpleMath">\(g \in G\)</span>, the <em>inner automorphism</em> of <span class="SimpleMath">\(G\)</span> by <span class="SimpleMath">\(g\)</span> is the mapping <span class="SimpleMath">\(h \mapsto h^g\)</span> wehere conjugation of arrows is defined in section <a href="chap4_mj.html#X8653FC9786E3209A"><span class="RefLink">4.5</span></a>.</p>

</li>
</ul>

<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">a4 := Subgroup( s4, [(1,2,3),(2,3,4)] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( a4, "a4" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">gensa4 := GeneratorsOfGroup( a4 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Ga4 := SubgroupoidByPieces( Gs4, [ [a4, [-15,-13,-11]] ] ); </span>
single piece groupoid: &lt; a4, [ -15, -13, -11 ] &gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( Ga4, "Ga4" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">d := Arrow( Ga4, (1,3,4), -11, -13 ); </span>
[(1,3,4) : -11 -&gt; -13]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">aut1 := GroupoidAutomorphismByObjectPerm( Ga4, [-13,-11,-15] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display( aut1 ); </span>
 groupoid mapping: [ Ga4 ] -&gt; [ Ga4 ]
root homomorphism: [ [ (1,2,3), (2,3,4) ], [ (1,2,3), (2,3,4) ] ]
images of objects: [ -13, -11, -15 ]
   images of rays: [ [() : -13 -&gt; -13], [() : -13 -&gt; -11], [() : -13 -&gt; -15] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">d1 := ImageElm( aut1, d ); </span>
[(1,3,4) : -15 -&gt; -11]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">h2 := GroupHomomorphismByImages( a4, a4, gensa4, [(2,3,4), (1,3,4)] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">aut2 := GroupoidAutomorphismByGroupAuto( Ga4, h2 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display( aut2 ); </span>
 groupoid mapping: [ Ga4 ] -&gt; [ Ga4 ]
root homomorphism: [ [ (1,2,3), (2,3,4) ], [ (2,3,4), (1,3,4) ] ]
images of objects: [ -15, -13, -11 ]
   images of rays: [ [() : -15 -&gt; -15], [() : -15 -&gt; -13], [() : -15 -&gt; -11] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">d2 := ImageElm( aut2, d1 );</span>
[(1,2,4) : -15 -&gt; -11]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">im3 := [(), (1,3,2), (2,4,3)];; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">aut3 := GroupoidAutomorphismByRayShifts( Ga4, im3 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display( aut3 ); </span>
 groupoid mapping: [ Ga4 ] -&gt; [ Ga4 ]
root homomorphism: [ [ (1,2,3), (2,3,4) ], [ (1,2,3), (2,3,4) ] ]
images of objects: [ -15, -13, -11 ]
   images of rays: [ [() : -15 -&gt; -15], [(1,3,2) : -15 -&gt; -13], 
  [(2,4,3) : -15 -&gt; -11] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">d3 := ImageElm( aut3, d2 );</span>
[(1,4)(2,3) : -15 -&gt; -11]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">d0 := Arrow( Ga4, (2,3,4), -11, -13 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">aut4 := GroupoidInnerAutomorphism( Ga4, d0 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display( aut4 );</span>
 groupoid mapping: [ Ga4 ] -&gt; [ Ga4 ]
root homomorphism: [ [ (1,2,3), (2,3,4) ], [ (1,2,3), (2,3,4) ] ]
images of objects: [ -15, -11, -13 ]
   images of rays: [ [() : -15 -&gt; -15], [(2,4,3) : -15 -&gt; -11], 
  [(2,3,4) : -15 -&gt; -13] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">d4 := ImageElm( aut4, d3 );</span>
[(1,2,4) : -15 -&gt; -13]

</pre></div>

<p><a id="X8278B93E7F78038C" name="X8278B93E7F78038C"></a></p>

<h5>5.6-2 <span class="Heading">Automorphisms of a groupoid with rays</span></h5>

<p>Let <span class="SimpleMath">\(S\)</span> be a wide subgroupoid with rays of a standard groupoid <span class="SimpleMath">\(G\)</span>.</p>

<p>An automorphism of the root group extends to the whole of <span class="SimpleMath">\(S\)</span> with the rays fixed by the automorphism.</p>

<p>An automorphism of <span class="SimpleMath">\(G\)</span> by permuting the objects may map <span class="SimpleMath">\(S\)</span> to a different subgroupoid. So we construct an isomorphism <span class="SimpleMath">\(\iota\)</span> from <span class="SimpleMath">\(S\)</span> to a standard groupoid <span class="SimpleMath">\(T\)</span>, constgruct <span class="SimpleMath">\(\alpha\)</span> permuting the objects of <span class="SimpleMath">\(T\)</span>, and return <span class="SimpleMath">\(\iota*\alpha*\iota^{-1}\)</span>.</p>

<p>For an automorphism by ray shifts we require that the shifts are elements of the root group of <span class="SimpleMath">\(S\)</span>.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">s4c := Group( (1,2,3,4), (3,4) );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( s4c, "s4c" );</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">s3c := Subgroup( s4c, [ (1,2), (2,3) ] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( s3c, "s3c" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Gs4c := SinglePieceGroupoid( s4c, [-9,-8,-7,-6] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( Gs4c, "Gs4c" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Hs3c := SubgroupoidWithRays( Gs4c, s3c, [ (), (1,4), (2,4), (3,4) ] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( Hs3c, "Hs3c" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">## (1) automorphism by group auto </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">a1 := GroupHomomorphismByImages( s3c, s3c, [(1,2),(2,3)], [(1,3),(2,3)] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">aut1 := GroupoidAutomorphismByGroupAuto( Hs3c, a1 );</span>
groupoid homomorphism : Hs3c -&gt; Hs3c
[ [ [(1,2) : -9 -&gt; -9], [(2,3) : -9 -&gt; -9], [(1,4) : -9 -&gt; -8], 
      [(2,4) : -9 -&gt; -7], [(3,4) : -9 -&gt; -6] ], 
  [ [(1,3) : -9 -&gt; -9], [(2,3) : -9 -&gt; -9], [(1,4) : -9 -&gt; -8], 
      [(2,4) : -9 -&gt; -7], [(3,4) : -9 -&gt; -6] ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">a := Arrow( Hs3c, (2,3,4), -8, -8 );</span>
[(2,3,4) : -8 -&gt; -8]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ImageElm( aut1, a );</span>
[(2,4,3) : -8 -&gt; -8]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">b := Arrow( Hs3c, (1,2,3,4), -7, -6 );</span>
[(1,2,3,4) : -7 -&gt; -6]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">##  b = (2,4)(1,2)(3,4) -&gt; (2,4)(1,3)(3,4)</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ImageElm( aut1, b );</span>
[(1,4,2,3) : -7 -&gt; -6]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">## (2) automorphism by object perm </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">aut2 := GroupoidAutomorphismByObjectPerm( Hs3c, [-8,-7,-6,-9] );</span>
groupoid homomorphism : Hs3c -&gt; Hs3c
[ [ [(1,2) : -9 -&gt; -9], [(2,3) : -9 -&gt; -9], [(1,4) : -9 -&gt; -8], 
      [(2,4) : -9 -&gt; -7], [(3,4) : -9 -&gt; -6] ], 
  [ [(2,4) : -8 -&gt; -8], [(2,3) : -8 -&gt; -8], [(1,2,4) : -8 -&gt; -7], 
      [(1,3,4) : -8 -&gt; -6], [(1,4) : -8 -&gt; -9] ] ] 
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ImageElm( aut2, a );                                           </span>
[(1,4,3) : -7 -&gt; -7]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ImageElm( aut2, b );                                           </span>
[(1,2)(3,4) : -6 -&gt; -9]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">## (3) automorphism by ray shifts </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">aut3 := GroupoidAutomorphismByRayShifts( Hs3c, [(),(2,3),(1,3),(1,2)] );   </span>
groupoid homomorphism : Hs3c -&gt; Hs3c
[ [ [(1,2) : -9 -&gt; -9], [(2,3) : -9 -&gt; -9], [(1,4) : -9 -&gt; -8], 
      [(2,4) : -9 -&gt; -7], [(3,4) : -9 -&gt; -6] ], 
  [ [(1,2) : -9 -&gt; -9], [(2,3) : -9 -&gt; -9], [(1,4)(2,3) : -9 -&gt; -8], 
      [(1,3)(2,4) : -9 -&gt; -7], [(1,2)(3,4) : -9 -&gt; -6] ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ImageElm( aut3, a );</span>
[(2,4,3) : -8 -&gt; -8]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ImageElm( aut3, b );</span>
[(1,4,2,3) : -7 -&gt; -6]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">e86 := Arrow( Hs3c, (1,3,2,4), -8, -6 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">aut86 := GroupoidInnerAutomorphism( Hs3c, e86 );</span>
groupoid homomorphism : Hs3c -&gt; Hs3c
[ [ [(1,2) : -9 -&gt; -9], [(2,3) : -9 -&gt; -9], [(1,4) : -9 -&gt; -8], 
      [(2,4) : -9 -&gt; -7], [(3,4) : -9 -&gt; -6] ], 
  [ [(1,2) : -9 -&gt; -9], [(2,3) : -9 -&gt; -9], [(2,4,3) : -9 -&gt; -6], 
      [(2,4) : -9 -&gt; -7], [(1,4)(2,3) : -9 -&gt; -8] ] ]

</pre></div>

<p><a id="X7DB9D5737EB8C260" name="X7DB9D5737EB8C260"></a></p>

<h5>5.6-3 AutomorphismGroupOfGroupoid</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; AutomorphismGroupOfGroupoid</code>( <var class="Arg">gpd</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NiceObjectAutoGroupGroupoid</code>( <var class="Arg">gpd</var>, <var class="Arg">aut</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>As above, let <span class="SimpleMath">\(G\)</span> be the direct product of a group <span class="SimpleMath">\(g\)</span> and a complete digraph with <span class="SimpleMath">\(n\)</span> objects. The <code class="code">AutomorphismGroup</code> <span class="SimpleMath">\(\Aut(G)\)</span> of <span class="SimpleMath">\(G\)</span> is isomorphic to the quotient of <span class="SimpleMath">\(S_n \times A \times g^n\)</span> by a subgroup isomorphic to <span class="SimpleMath">\(g\)</span>, where <span class="SimpleMath">\(A\)</span> is the automorphism group of <span class="SimpleMath">\(g\)</span> and <span class="SimpleMath">\(S_n\)</span> is the symmetric group on the <span class="SimpleMath">\(n\)</span> objects. This is one of the main topics in <a href="chapBib_mj.html#biBAlWe">[AW10]</a>.</p>

<p>If <span class="SimpleMath">\(H\)</span> is the union of <span class="SimpleMath">\(k\)</span> groupoids, all isomorphic to <span class="SimpleMath">\(G\)</span>, then <span class="SimpleMath">\(\Aut(H)\)</span> is isomorphic to <span class="SimpleMath">\(S_k \ltimes \Aut(G)\)</span>.</p>

<p>The function <code class="code">NiceObjectAutoGroupGroupoid</code> takes a groupoid and a subgroup of its automorphism group and retuns a <em>nice monomorphism</em> from this automorphism group to a pc-group, if one is available. The current implementation is experimental. Note that <code class="code">ImageElm</code> at present only works on generating elements.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AGa4 := AutomorphismGroupOfGroupoid( Ga4 ); </span>
Aut(Ga4)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Length( GeneratorsOfGroup( AGa4 ) );</span>
8
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AGgens := GeneratorsOfGroup( AGa4);; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NGa4 := NiceObject( AGa4 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">MGa4 := NiceMonomorphism( AGa4 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Size( AGa4 ); </span>
20736
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( AGa4, "AGa4" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SetName( NGa4, "NGa4" ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">##  cannot test images of AGgens because of random variations </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">##  Now do some tests!</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">mgi := MappingGeneratorsImages( MGa4 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">autgen := mgi[1];; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">pcgen := mgi[2];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ngen := Length( autgen );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ForAll( [1..ngen], i -&gt; Order(autgen[i]) = Order(pcgen[i]) ); </span>
true

</pre></div>

<p><a id="X7EC237ED7E1978B0" name="X7EC237ED7E1978B0"></a></p>

<h5>5.6-4 <span class="Heading">Inner automorphisms</span></h5>

<p>The inner automorphism subgroup <span class="SimpleMath">\(\mathrm{Inn}(G)\)</span> of the automorphism group of <span class="SimpleMath">\(G\)</span> is the group of inner automorphisms <span class="SimpleMath">\(\wedge a : b \mapsto b^a\)</span> for <span class="SimpleMath">\(a \in G\)</span>. It is <em>not</em> the case that the map <span class="SimpleMath">\(G \to \mathrm{Inn}(G), a \mapsto \wedge a\)</span> preserves multiplication. Indeed, when <span class="SimpleMath">\(a=(o,g,p), b=(p,h,r) \in G\)</span> with objects <span class="SimpleMath">\(p,q,r\)</span> all distict, then</p>

<p class="center">\[
\wedge(ab) ~=~ (\wedge a)(\wedge b)(\wedge a) 
           ~=~ (\wedge b)(\wedge a)(\wedge b).  
\]</p>

<p>(Compare this with the permutation identity <span class="SimpleMath">\((pq)(qr)(pq) = (pr) = (qr)(pq)(qr)\)</span>.) So the map <span class="SimpleMath">\(G \to \mathrm{Inn}(G)\)</span> is of type <code class="code">IsMappingWithObjectsByFunction</code>.</p>

<p>In the example we convert the automorphism group <code class="code">AGa4</code> into a single object groupoid, and then define the inner automorphism map.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AGa40 := Groupoid( AGa4, [0] );</span>
single piece groupoid: &lt; Aut(Ga4), [ 0 ] &gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">conj := function(a) </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">           return ArrowNC( true, GroupoidInnerAutomorphism(Ga4,a), 0, 0 ); </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">           end;; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">inner := MappingWithObjectsByFunction( Ga4, AGa40, conj, [0,0,0] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">a1 := Arrow( Ga4, (1,2,3), -15, -13 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">inn1 := ImageElm( inner, a1 );;                        </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">a2 := Arrow( Ga4, (2,3,4), -13, -11 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">inn2 := ImageElm( inner, a2 );;       </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">a3 := a1*a2;                      </span>
[(1,3)(2,4) : -15 -&gt; -11]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">inn3 := ImageElm( inner, a3 );  </span>
[groupoid homomorphism : Ga4 -&gt; Ga4
[ [ [(1,2,3) : -15 -&gt; -15], [(2,3,4) : -15 -&gt; -15], [() : -15 -&gt; -13], 
      [() : -15 -&gt; -11] ], 
  [ [(1,3,4) : -11 -&gt; -11], [(1,2,4) : -11 -&gt; -11], [(1,3)(2,4) : -11 -&gt; -13],
      [() : -11 -&gt; -15] ] ] : 0 -&gt; 0]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">(inn3 = inn1*inn2*inn1) and (inn3 = inn2*inn1*inn2);</span>
true

</pre></div>

<p><a id="X80F9594481CA9FDE" name="X80F9594481CA9FDE"></a></p>

<h5>5.6-5 GroupoidAutomorphismByGroupAutos</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; GroupoidAutomorphismByGroupAutos</code>( <var class="Arg">gpd</var>, <var class="Arg">auts</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Homogeneous, discrete groupoids are the second type of groupoid for which a method is provided for <code class="code">AutomorphismGroupOfGroupoid</code>. This is used in the <strong class="pkg">XMod</strong> package for constructing crossed modules of groupoids. The two types of generating automorphism are <code class="code">GroupoidAutomorphismByGroupAutos</code>, which requires a list of group automorphisms, one for each object group, and <code class="code">GroupoidAutomorphismByObjectPerm</code>, which permutes the objects.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Hs3 := HomogeneousDiscreteGroupoid( s3, [ -13..-10] ); </span>
homogeneous, discrete groupoid: &lt; s3, [ -13 .. -10 ] &gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">aut4 := GroupoidAutomorphismByObjectPerm( Hs3, [-12,-10,-11,-13] ); </span>
groupoid homomorphism : morphism from a homogeneous discrete groupoid:
[ -13, -12, -11, -10 ] -&gt; [ -12, -10, -11, -13 ]
object homomorphisms:
IdentityMapping( s3 )
IdentityMapping( s3 )
IdentityMapping( s3 )
IdentityMapping( s3 )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">gens3 := GeneratorsOfGroup( s3 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">g1 := gens3[1];; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">g2 := gens3[2];; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">b1 := GroupHomomorphismByImages( s3, s3, gens3, [g1, g2^g1 ] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">b2 := GroupHomomorphismByImages( s3, s3, gens3, [g1^g2, g2 ] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">b3 := GroupHomomorphismByImages( s3, s3, gens3, [g1^g2, g2^(g1*g2) ] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">b4 := GroupHomomorphismByImages( s3, s3, gens3, [g1^(g2*g1), g2^g1 ] );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">aut5 := GroupoidAutomorphismByGroupAutos( Hs3, [b1,b2,b3,b4] ); </span>
groupoid homomorphism : morphism from a homogeneous discrete groupoid:
[ -13, -12, -11, -10 ] -&gt; [ -13, -12, -11, -10 ]
object homomorphisms:
GroupHomomorphismByImages( s3, s3, 
[ (15,17,19)(16,18,20), (15,20)(16,19)(17,18) ], 
[ (15,17,19)(16,18,20), (15,18)(16,17)(19,20) ] )
GroupHomomorphismByImages( s3, s3, 
[ (15,17,19)(16,18,20), (15,20)(16,19)(17,18) ], 
[ (15,19,17)(16,20,18), (15,20)(16,19)(17,18) ] )
GroupHomomorphismByImages( s3, s3, 
[ (15,17,19)(16,18,20), (15,20)(16,19)(17,18) ], 
[ (15,19,17)(16,20,18), (15,16)(17,20)(18,19) ] )
GroupHomomorphismByImages( s3, s3, 
[ (15,17,19)(16,18,20), (15,20)(16,19)(17,18) ], 
[ (15,19,17)(16,20,18), (15,18)(16,17)(19,20) ] )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AHs3 := AutomorphismGroupOfGroupoid( Hs3 ); </span>
&lt;group with 4 generators&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Size( AHs3 );</span>
31104
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">genAHs3 := GeneratorsOfGroup( AHs3 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Length( genAHs3 ); </span>
4
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">nobAHs3 := NiceObject( AHs3 );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">nmonAHs3 := NiceMonomorphism( AHs3 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">w := genAHs3[1];; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">w1 := ImageElm( nmonAHs3, w );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">x := genAHs3[2];; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">x1 := ImageElm( nmonAHs3, x );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">y := genAHs3[3];; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">y1 := ImageElm( nmonAHs3, y );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">z := genAHs3[4];; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">z1 := ImageElm( nmonAHs3, z );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">u := z*w*y*x*z; </span>
groupoid homomorphism : morphism from a homogeneous discrete groupoid:
[ -13, -12, -11, -10 ] -&gt; [ -11, -13, -10, -12 ]
object homomorphisms:
IdentityMapping( s3 )
ConjugatorAutomorphism( s3, (15,19,17)(16,20,18) )
IdentityMapping( s3 )
ConjugatorAutomorphism( s3, (15,20)(16,19)(17,18) )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">u1 := z1*w1*y1*x1*z1; </span>
(1,2,4,3)(5,17,23,16,8,20,26,13)(6,18,24,15,7,19,25,14)(9,21,27,12,10,22,28,
11)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">imu := ImageElm( nmonAHs3, u );; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">u1 = imu;</span>
true

</pre></div>

<p><a id="X7A93C6507BC697CD" name="X7A93C6507BC697CD"></a></p>

<h5>5.6-6 AutomorphismGroupoidOfGroupoid</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; AutomorphismGroupoidOfGroupoid</code>( <var class="Arg">gpd</var> )</td><td class="tdright">(&nbsp;attribute&nbsp;)</td></tr></table></div>
<p>If <span class="SimpleMath">\(G\)</span> is a single piece groupoid with automorphism group <span class="SimpleMath">\(\Aut(G)\)</span>, and if <span class="SimpleMath">\(H\)</span> is the union of <span class="SimpleMath">\(k\)</span> pieces, all isomorphic to <span class="SimpleMath">\(G\)</span>, then the automorphism group of <span class="SimpleMath">\(H\)</span> is the wreath product <span class="SimpleMath">\(S_k \ltimes \Aut(G)\)</span>. However, we find it more convenient to construct the <em>automorphism groupoid</em> of <span class="SimpleMath">\(H\)</span>. This is a single piece groupoid <span class="SimpleMath">\(\Aut(H)\)</span> with <span class="SimpleMath">\(k\)</span> objects -- the object lists of the pieces of <span class="SimpleMath">\(H\)</span> -- and root group <span class="SimpleMath">\(\Aut(G)\)</span>. Isomorphisms between the root groups of the <span class="SimpleMath">\(k\)</span> pieces may be applied to the generators of <span class="SimpleMath">\(\Aut(G)\)</span> to construct automorphism groups of these pieces, and then isomorphisms between these automorphism groups. We then construct <span class="SimpleMath">\(\AUT(H)\)</span> using <code class="code">GroupoidByIsomorphisms</code>.</p>

<p>In the special case that <span class="SimpleMath">\(H\)</span> is homogeneous, there is no need to construct a collection of automorphism groups. Rather, the rays of <span class="SimpleMath">\(\AUT(H)\)</span> are given by <code class="code">IsomorphismNewObjects</code>. For the example we use <code class="code">Hd8</code> constructed in subsection <code class="func">HomogeneousGroupoid</code> (<a href="chap4_mj.html#X855F318181808814"><span class="RefLink">4.1-5</span></a>).</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Hd8 := HomogeneousGroupoid( Gd8,</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">          [ [-20,-19,-18], [-12,-11,-10], [-16,-15,-14] ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AHd8 := AutomorphismGroupoidOfGroupoid( Hd8 ); </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ObjectList( AHd8 );</span>
[ [ -20, -19, -18 ], [ -16, -15, -14 ], [ -12, -11, -10 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RaysOfGroupoid( AHd8 ){[2..3]};</span>
[ groupoid homomorphism : 
    [ [ [(1,2,3,4) : -20 -&gt; -20], [(1,3) : -20 -&gt; -20], [() : -20 -&gt; -19], 
          [() : -20 -&gt; -18] ], 
      [ [(1,2,3,4) : -16 -&gt; -16], [(1,3) : -16 -&gt; -16], [() : -16 -&gt; -15], 
          [() : -16 -&gt; -14] ] ], groupoid homomorphism : 
    [ [ [(1,2,3,4) : -20 -&gt; -20], [(1,3) : -20 -&gt; -20], [() : -20 -&gt; -19], 
          [() : -20 -&gt; -18] ], 
      [ [(1,2,3,4) : -12 -&gt; -12], [(1,3) : -12 -&gt; -12], [() : -12 -&gt; -11], 
          [() : -12 -&gt; -10] ] ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ObjectGroup( AHd8, [ -12, -11, -10 ] );</span>
&lt;group with 8 generators&gt;

</pre></div>

<p><a id="X8003AF117B956D16" name="X8003AF117B956D16"></a></p>

<h4>5.7 <span class="Heading">Matrix representations of groupoids</span></h4>

<p>Suppose that <code class="code">gpd</code> is the direct product of a group <span class="SimpleMath">\(G\)</span> and a complete digraph, and that <span class="SimpleMath">\(\rho : G \to M\)</span> is an isomorphism to a matrix group <span class="SimpleMath">\(M\)</span>. Then if <code class="code">rep</code> is the isomorphic groupoid with the same objects and root group <span class="SimpleMath">\(M\)</span> there is an isomorphism <span class="SimpleMath">\(\mu\)</span> from <code class="code">gpd</code> to <code class="code">rep</code> mapping <span class="SimpleMath">\((g : i \to j)\)</span> to <span class="SimpleMath">\((\rho g : i \to j)\)</span>.</p>

<p>When <code class="code">gpd</code> is a groupoid with rays, a representation can be obtained by restricting a representation of its parent.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">reps := IrreducibleRepresentations( s4 );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rep4 := reps[4];; </span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Rs4 := Groupoid( Image( rep4 ), ObjectList( Gs4 ) ); </span>
single piece groupoid: &lt; Group([ [ [ 0, 1, 0 ], [ 1, 0, 0 ], [ 0, 0, 1 ] ], 
  [ [ 0, 0, 1 ], [ 1, 0, 0 ], [ 0, 1, 0 ] ], 
  [ [ -1, 0, 0 ], [ 0, 1, 0 ], [ 0, 0, -1 ] ], 
  [ [ 1, 0, 0 ], [ 0, -1, 0 ], [ 0, 0, -1 ] ] ]), [ -15, -14, -13, -12, -11 
 ] &gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsMatrixGroupoid( Rs4 ); </span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">gens := GeneratorsOfGroupoid( Gs4 );</span>
[ [(1,2,3,4) : -15 -&gt; -15], [(3,4) : -15 -&gt; -15], [() : -15 -&gt; -14], 
  [() : -15 -&gt; -13], [() : -15 -&gt; -12], [() : -15 -&gt; -11] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">images := List( gens, </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">       g -&gt; Arrow( Rs4, ImageElm(rep4,g![1]), g![2], g![3] ) ); </span>
[ [[ [ -1, 0, 0 ], [ 0, 0, 1 ], [ 0, -1, 0 ] ] : -15 -&gt; -15], 
  [[ [ 0, 1, 0 ], [ 1, 0, 0 ], [ 0, 0, 1 ] ] : -15 -&gt; -15], 
  [[ [ 1, 0, 0 ], [ 0, 1, 0 ], [ 0, 0, 1 ] ] : -15 -&gt; -14], 
  [[ [ 1, 0, 0 ], [ 0, 1, 0 ], [ 0, 0, 1 ] ] : -15 -&gt; -13], 
  [[ [ 1, 0, 0 ], [ 0, 1, 0 ], [ 0, 0, 1 ] ] : -15 -&gt; -12], 
  [[ [ 1, 0, 0 ], [ 0, 1, 0 ], [ 0, 0, 1 ] ] : -15 -&gt; -11] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">mor := GroupoidHomomorphismFromSinglePiece( Gs4, Rs4, gens, images );</span>
groupoid homomorphism : 
[ [ [(1,2,3,4) : -15 -&gt; -15], [(3,4) : -15 -&gt; -15], [() : -15 -&gt; -14], 
      [() : -15 -&gt; -13], [() : -15 -&gt; -12], [() : -15 -&gt; -11] ], 
  [ [[ [ -1, 0, 0 ], [ 0, 0, 1 ], [ 0, -1, 0 ] ] : -15 -&gt; -15], 
      [[ [ 0, 1, 0 ], [ 1, 0, 0 ], [ 0, 0, 1 ] ] : -15 -&gt; -15], 
      [[ [ 1, 0, 0 ], [ 0, 1, 0 ], [ 0, 0, 1 ] ] : -15 -&gt; -14], 
      [[ [ 1, 0, 0 ], [ 0, 1, 0 ], [ 0, 0, 1 ] ] : -15 -&gt; -13], 
      [[ [ 1, 0, 0 ], [ 0, 1, 0 ], [ 0, 0, 1 ] ] : -15 -&gt; -12], 
      [[ [ 1, 0, 0 ], [ 0, 1, 0 ], [ 0, 0, 1 ] ] : -15 -&gt; -11] ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">a := Arrow( Hs4, (1,4,2), -12, -13 );</span>
[(1,4,2) : -12 -&gt; -13]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ImageElm( mor, a );</span>
[[ [ 0, 0, -1 ], [ -1, 0, 0 ], [ 0, 1, 0 ] ] : -12 -&gt; -13]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rmor := RestrictedMappingGroupoids( mor, Hd8b );</span>
groupoid homomorphism : 
[ [ [(1,2,3,4) : -14 -&gt; -14], [(1,3) : -14 -&gt; -14], [(1,2,3) : -14 -&gt; -13], 
      [(1,2,4) : -14 -&gt; -12] ], 
  [ [[ [ -1, 0, 0 ], [ 0, 0, 1 ], [ 0, -1, 0 ] ] : -14 -&gt; -14], 
      [[ [ 1, 0, 0 ], [ 0, 0, -1 ], [ 0, -1, 0 ] ] : -14 -&gt; -14], 
      [[ [ 0, 0, 1 ], [ -1, 0, 0 ], [ 0, -1, 0 ] ] : -14 -&gt; -13], 
      [[ [ 0, -1, 0 ], [ 0, 0, 1 ], [ -1, 0, 0 ] ] : -14 -&gt; -12] ] ]

</pre></div>


<div class="chlinkprevnextbot">&nbsp;<a href="chap0_mj.html">[Top of Book]</a>&nbsp;  <a href="chap0_mj.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap4_mj.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chap6_mj.html">[Next Chapter]</a>&nbsp;  </div>


<div class="chlinkbot"><span class="chlink1">Goto Chapter: </span><a href="chap0_mj.html">Top</a>  <a href="chap1_mj.html">1</a>  <a href="chap2_mj.html">2</a>  <a href="chap3_mj.html">3</a>  <a href="chap4_mj.html">4</a>  <a href="chap5_mj.html">5</a>  <a href="chap6_mj.html">6</a>  <a href="chap7_mj.html">7</a>  <a href="chap8_mj.html">8</a>  <a href="chapBib_mj.html">Bib</a>  <a href="chapInd_mj.html">Ind</a>  </div>

<hr />
<p class="foot">generated by <a href="http://www.math.rwth-aachen.de/~Frank.Luebeck/GAPDoc">GAPDoc2HTML</a></p>
</body>
</html>
